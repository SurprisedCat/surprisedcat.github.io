<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>linux on SurprisedCat</title><link>https://surprisedcat.github.io/tags/linux/</link><description>Recent content in linux on SurprisedCat</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>Copyright Â© 2020â€“2021, SurprisedCat; all rights reserved.</copyright><lastBuildDate>Fri, 10 Dec 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://surprisedcat.github.io/tags/linux/index.xml" rel="self" type="application/rss+xml"/><item><title>linux-ä¸ç»ˆç«¯äº¤äº’çš„å‘å±•</title><link>https://surprisedcat.github.io/projectnotes/linux-%E4%B8%8E%E7%BB%88%E7%AB%AF%E4%BA%A4%E4%BA%92%E7%9A%84%E5%8F%91%E5%B1%95/</link><pubDate>Fri, 10 Dec 2021 00:00:00 +0000</pubDate><guid>https://surprisedcat.github.io/projectnotes/linux-%E4%B8%8E%E7%BB%88%E7%AB%AF%E4%BA%A4%E4%BA%92%E7%9A%84%E5%8F%91%E5%B1%95/</guid><description>
&lt;ul>
&lt;li>&lt;a href="#%E7%8B%AC%E7%AB%8B%E7%89%A9%E7%90%86%E7%BB%88%E7%AB%AF%E7%9A%84%E5%B4%9B%E8%B5%B7%E6%96%87%E6%9C%AC%E6%A8%A1%E5%BC%8F%E4%B8%80%E7%BB%9F%E5%A4%A9%E4%B8%8B">ç‹¬ç«‹ç‰©ç†ç»ˆç«¯çš„å´›èµ·â€”â€”æ–‡æœ¬æ¨¡å¼ä¸€ç»Ÿå¤©ä¸‹&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E4%BB%8E%E7%89%A9%E7%90%86%E7%BB%88%E7%AB%AF%E5%88%B0%E8%99%9A%E6%8B%9F%E7%BB%88%E7%AB%AF">ä»ç‰©ç†ç»ˆç«¯åˆ°è™šæ‹Ÿç»ˆç«¯&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E5%9B%BE%E5%BD%A2%E5%8C%96%E5%B4%9B%E8%B5%B7linux%E4%BB%8E%E6%96%87%E6%9C%AC%E8%BF%88%E5%90%91%E5%9B%BE%E5%83%8F">å›¾å½¢åŒ–å´›èµ·â€”â€”Linuxä»æ–‡æœ¬è¿ˆå‘å›¾åƒ&lt;/a>&lt;/li>
&lt;li>&lt;a href="#desktop%E9%97%AE%E9%BC%8E">Desktopé—®é¼&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E4%BC%AA%E7%BB%88%E7%AB%AFcli%E4%BA%A4%E4%BA%92%E7%9A%84%E8%96%AA%E7%81%AB%E7%9B%B8%E4%BC%A0">ä¼ªç»ˆç«¯â€”â€”CLIäº¤äº’çš„è–ªç«ç›¸ä¼ &lt;/a>
&lt;ul>
&lt;li>&lt;a href="#gui%E4%B8%AD%E7%9A%84cli">GUIä¸­çš„CLI&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F">è¿œç¨‹è¿æ¥æ“ä½œç³»ç»Ÿ&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E5%90%8E%E5%8F%B0%E4%BF%9D%E9%9A%9C%E8%BF%90%E8%A1%8C%E7%9A%84tmux">åå°ä¿éšœè¿è¡Œçš„Tmux&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#%E6%80%BB%E7%BB%93">æ€»ç»“&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E5%8F%82%E8%80%83%E6%96%87%E7%AB%A0%E5%8F%8A%E8%B5%84%E6%96%99">å‚è€ƒæ–‡ç« åŠèµ„æ–™&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="linux-ä¸ç»ˆç«¯äº¤äº’çš„å‘å±•---omit-in-toc---">linux-ä¸ç»ˆç«¯äº¤äº’çš„å‘å±•&lt;!-- omit in toc -->&lt;/h2>
&lt;p>ç»ˆç«¯ï¼ˆè‹±è¯­ï¼šComputer terminalï¼‰ï¼Œæ˜¯ä¸€å°ç”µè„‘æˆ–è€…è®¡ç®—æœºç³»ç»Ÿï¼Œç”¨æ¥è®©ç”¨æˆ·è¾“å…¥æ•°æ®ï¼ŒåŠæ˜¾ç¤ºå…¶è®¡ç®—ç»“æœçš„æœºå™¨ï¼Œç®€è€Œè¨€ä¹‹å°±æ˜¯äººç±»ç”¨æˆ·ä¸è®¡ç®—æœºäº¤äº’çš„è®¾å¤‡ã€‚ç»ˆç«¯å…¶å®å°±æ˜¯ä¸€ç§è¾“å…¥è¾“å‡ºè®¾å¤‡ï¼Œç›¸å¯¹äºè®¡ç®—æœºä¸»æœºè€Œè¨€å±äºå¤–è®¾ï¼Œæœ¬èº«å¹¶ä¸æä¾›è¿ç®—å¤„ç†åŠŸèƒ½ã€‚ç»ˆç«¯å¯åˆ†ä¸ºæ–‡æœ¬ç»ˆç«¯å’Œå›¾å½¢ç»ˆç«¯ï¼Œä»æ–‡æœ¬ç»ˆç«¯å‘å›¾å½¢ç»ˆç«¯çš„å‘å±•ï¼Œå°±æ˜¯è®¡ç®—æœºé€æ¸æ™®åŠçš„å†å²ï¼Œä¹Ÿå‚¬ç”Ÿäº†è¶Šæ¥è¶Šå¼ºå¤§çš„ç¡¬ä»¶è®¾å¤‡å’Œè¶Šæ¥è¶Šç”¨æˆ·å‹å¥½çš„æ“ä½œç³»ç»Ÿã€‚æ–‡æœ¬ç»ˆç«¯æœ¬èº«ä¹Ÿç»å†ä»ç‰©ç†ç»ˆç«¯åˆ°è™šæ‹Ÿç»ˆç«¯å†åˆ°ä¼ªç»ˆç«¯çš„è½¬å˜ï¼Œæœ¬æ–‡äº¤é”™åœ°ä»‹ç»è¿™ä¸¤æ¡ç»ˆç«¯å‘å±•è·¯çº¿ï¼Œå¸Œæœ›è¯»è€…èƒ½æ›´å¥½åœ°ç†è§£æ“ä½œç³»ç»Ÿçš„äº¤äº’æ–¹å¼ã€‚&lt;/p>
&lt;h2 id="ç‹¬ç«‹ç‰©ç†ç»ˆç«¯çš„å´›èµ·æ–‡æœ¬æ¨¡å¼ä¸€ç»Ÿå¤©ä¸‹">ç‹¬ç«‹ç‰©ç†ç»ˆç«¯çš„å´›èµ·â€”â€”æ–‡æœ¬æ¨¡å¼ä¸€ç»Ÿå¤©ä¸‹&lt;/h2>
&lt;p>è®¡ç®—æœºåœ¨èµ·æ­¥é˜¶æ®µéƒ½æ˜¯ä½“ç§¯åºå¤§ã€å¤æ‚ä¸”æ˜‚è´µçš„ï¼Œå³ä½¿å‘å±•åˆ°20ä¸–çºª80ï¼Œ90å¹´ä»£ï¼Œä¸€å°ç›¸å¯¹å°å·§ä¸€ä½“åŒ–ç”µè„‘ï¼ˆæ¯”å¦‚ç¬”è®°æœ¬ç”µè„‘ï¼‰æ˜¯å¾ˆç½•è§çš„ï¼Œåœ¨Linuxè¯ç”Ÿçš„1991å¹´ï¼Œä¸€å°æœ€ä¾¿å®œçš„Apple Macintosh PowerBook 100çš„ä»·æ ¼æ˜¯&lt;strong>2,299ç¾å…ƒ&lt;/strong>ï¼Œè¦çŸ¥é“é‚£å¯æ˜¯1991å¹´çš„2,299ç¾å…ƒï¼Œå½“å¹´ä¸­å›½äººæ°‘çš„äººå‡GDPæ‰333ç¾å…ƒã€‚æ‰€ä»¥åœ¨è®¡ç®—æœºå‘å±•æ—©æœŸï¼Œä¸»æµåšæ³•æ˜¯å¤šä¸ªç”¨æˆ·æ˜¯é€šè¿‡ç‰©ç†ç»ˆç«¯ï¼ˆå¤–è®¾ï¼‰è¿æ¥åˆ°å¤§å‹è®¡ç®—æœºæˆ–ä¸­å‹è®¡ç®—æœºçš„ï¼Œå…±äº«ä¸€å°è®¡ç®—æœºã€‚&lt;/p>
&lt;p>æ—©æœŸçš„è®¡ç®—æœºç»ˆç«¯ä¸€èˆ¬æ˜¯æœºç”µçš„ç”µä¼ æ‰“å­—æœºï¼Œæ¯”å¦‚ASR33ã€‚ä½†æ˜¯å¯¹äºå¤§å¤šæ•°åº”ç”¨æ¥è¯´å®ƒä»¬å¤ªæ…¢äº†ï¼Œéœ€è¦åœ¨å¡ç‰‡æˆ–ç£å¸¦ç­‰ç‰©ç†æ€§çš„ææ–™ä¸Šæ ‡è®°å¥½èµ„æ–™ä¹‹åï¼Œæ”¾å…¥è®¡ç®—æœºï¼Œå†å°å‡ºç»“æœï¼Œè¿‡ç¨‹éå¸¸è´¹å·¥ã€‚20ä¸–çºª70å¹´ä»£ä¸­ï¼Œè®¸å¤šç”µè„‘å…¬å¸è®¤è¯†åˆ°å¸¦æ˜¾ç¤ºå™¨çš„æ‰“å­—æœºè¾“å…¥ç»ˆç«¯æ¯”ç©¿å­”å¡ç‰‡è¦å¥½å¾—å¤šï¼Œè€Œä¸”å¯ä»¥ä½¿å¾—è®¡ç®—æœºæ›´åŠ å®¹æ˜“ä¸ç”¨æˆ·äº’åŠ¨ï¼Œäº§ç”Ÿæ–°çš„åº”ç”¨ã€‚ç»ˆäºï¼Œåœ¨ç¥å¥‡çš„1978å¹´ï¼Œè®¡ç®—æœºç•Œè¿æ¥äº†ä¸€æ¬¡åˆ›æ–°æ€§çˆ†å‘ï¼Œå¾ˆå¤šå½±å“è‡³ä»Šçš„äº§å“è¢«æäº†å‡ºæ¥ï¼Œæ¯”å¦‚ï¼šx86-CPUèŠ¯ç‰‡çš„åˆä»£äº§å“8086å¤„ç†å™¨ï¼Œç°ä»£è®¡ç®—æœºç½‘ç»œçš„åŸºçŸ³ä¹‹ä¸€ä¼ è¾“æ§åˆ¶åè®®å³TCPåè®®ï¼ˆåŒå¹´ISOæå‡ºäº†å¯¹æ ‡TCP/IPçš„OSIç½‘ç»œä½“ç³»ï¼‰ï¼ŒBIOSçš„å­˜å‚¨ä»‹è´¨ç¬¬ä¸€æ¬¾EEPROM-Intel 2816ï¼Œè‹¹æœç”µè„‘ç³»ç»Ÿçš„é¼»ç¥–Apple DOSï¼Œä»¥åŠæœ¬æ–‡è¦æçš„ç¬¬ä¸€ä½ä¸»è§’ï¼Œæœ€ç•…é”€ã€ç”šè‡³æˆä¸ºå®é™…æ ‡å‡†çš„ç»ˆç«¯è®¾å¤‡VT-100ã€‚&lt;/p>
&lt;p>&lt;img src="../../images/DEC_VT100_terminal.jpg" alt="VT100">&lt;/p>
&lt;p>ä¸Šé¢è¿™å°é•¿å¾—åƒå°å°å¼æœºä¸€æ ·çš„æœºå™¨ï¼Œå°±æ˜¯VT100ç»ˆç«¯å•¦ã€‚åˆ«çœ‹åˆ°é•¿å¾—åƒå°å¼æœºï¼Œä½†æ˜¯å®é™…ä¸Šåªç›¸å½“äºç°åœ¨çš„æ˜¾ç¤ºå™¨+é”®ç›˜ç»„åˆåœ¨ä¸€èµ·ï¼ˆè¿˜æ˜¯åªèƒ½æ˜¾ç¤ºæ–‡æœ¬ä¸èƒ½æ˜¾ç¤ºå›¾ç‰‡çš„æ˜¾ç¤ºå™¨ï¼‰ï¼Œä¸åŒ…å«CPUã€å†…å­˜ã€ç¡¬ç›˜ç­‰ç¡¬ä»¶ï¼Œåªèƒ½é€šè¿‡RS232ä¸²å£çº¿è¿æ¥åˆ°çœŸæ­£æ„ä¹‰ä¸Šçš„è®¡ç®—æœºï¼Œæ‰€ä»¥å®é™…ä¸Šä»¥21ä¸–çºªæ¦‚å¿µçœ‹ï¼Œå®Œæ•´çš„ä¸€å°ç”µè„‘åº”è¯¥æ˜¯ä¸‹å›¾è¿™ä¸ªæ ·å­ï¼ˆå›¾ä¸­çš„è®¡ç®—æœºæ˜¯DECå…¬å¸ç”Ÿäº§äº1970åˆ°1980å¹´ä»£çš„PDP-11å‹è®¡ç®—æœºï¼‰ï¼š&lt;/p>
&lt;p>&lt;img src="../../images/RS232-serial-communication.jpg" alt="RS232-serial-communication.jpg">&lt;/p>
&lt;p>è€Œä»æ“ä½œç³»ç»Ÿçš„è§’åº¦çœ‹ï¼Œç»ˆç«¯æ˜¯å¤–æ¥çš„è®¾å¤‡ï¼ˆå¤–è®¾ï¼‰ï¼Œå¹¶ä¸å±äºè®¡ç®—æœºæœ¬ä½“çš„åŠŸèƒ½ï¼Œä½†æ˜¯ä¸ºäº†è®©ç»ˆç«¯å’Œå¤„ç†å™¨èƒ½å¤Ÿç›¸äº’ç†è§£ã€äº¤äº’ï¼Œå°±éœ€è¦å•ç‹¬çš„ç¨‹åºæ‹…å½“äºŒè€…çš„æ¡¥æ¢ï¼Œè¿™ç§å……å½“è®¡ç®—æœºæœ¬ä½“å’Œå¤–è®¾æ¡¥æ¢çš„ç¨‹åºå°±æ˜¯&lt;strong>è®¾å¤‡é©±åŠ¨ç¨‹åº(driver)&lt;/strong>ã€‚è®¾å¤‡é©±åŠ¨ç¨‹åºæ˜¯æ·»åŠ åˆ°æ“ä½œç³»ç»Ÿä¸­çš„ç‰¹æ®Šç¨‹åºï¼Œå…¶ä¸­åŒ…å«æœ‰å…³ç¡¬ä»¶è®¾å¤‡çš„ä¿¡æ¯ï¼Œæ­¤ä¿¡æ¯èƒ½å¤Ÿä½¿è®¡ç®—æœºä¸ç›¸åº”çš„è®¾å¤‡è¿›è¡Œé€šä¿¡ã€‚&lt;/p>
&lt;p>ç”±äºåœ¨è®¡ç®—æœºæ—©æœŸçš„å¿«é€Ÿå‘å±•é˜¶æ®µï¼ŒåŸºæœ¬ä¸Šæ‰€æœ‰çš„äº¤äº’è®¾å¤‡éƒ½æ˜¯åƒVT100çš„è¿™æ ·&lt;strong>åªèƒ½è¿›è¡Œå­—ç¬¦äº¤äº’&lt;/strong>çš„ç»ˆç«¯ï¼Œå½“æ—¶æ“ä½œç³»ç»Ÿè¦å¤„ç†çš„26ä¸ªæ‹‰ä¸å­—æ¯æœºåŠå…¶è¡ç”Ÿå­—æ¯ã€ç‰¹æ®Šç¬¦å·ä¹Ÿå¾ˆæœ‰é™ï¼ˆä¸åƒæ±‰å­—â€¦â€¦æ„Ÿè°¢ç‹é€‰é™¢å£«ï¼‰ï¼Œæ‰€ä»¥å½“æ—¶æœ€æµè¡Œçš„æ“ä½œç³»ç»ŸUnixä»¥åŠåæ¥å‚è€ƒUnixè®¾è®¡çš„linuxæ“ä½œç³»ç»Ÿï¼Œéƒ½åœ¨å†…æ ¸ä¸­ç•™æœ‰ä¸“é—¨ä¸ºæ­¤ç±»ç»ˆç«¯è®¾è®¡çš„teletype terminal subsystemï¼Œç®€ç§°ttyå­ç³»ç»Ÿã€‚ttyå­ç³»ç»Ÿä¸»è¦ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼šå¤„ç†ç¡¬ä»¶ç›¸å…³çš„ttyé©±åŠ¨ã€å¤„ç†æ–‡æœ¬ä¸æ§åˆ¶ç çš„line disciplineå’Œæä¾›ç»Ÿä¸€æŠ½è±¡æ“ä½œçš„tty (I/O) coreã€‚å¯¹äºæ¯ä¸ªè¿æ¥åˆ°è®¡ç®—æœºçš„ç‰©ç†ç»ˆç«¯ï¼Œttyå­ç³»ç»Ÿè¿˜ä¼šåˆ†åˆ«åˆ›å»ºå¯¹åº”çš„å­—ç¬¦è®¾å¤‡æ–‡ä»¶æè¿°ç¬¦&lt;code>/dev/ttyX&lt;/code>ï¼ˆXè¡¨ç¤ºä¸€ä¸ªæ•°å­—ï¼‰ï¼Œå¹¶ç»´æŠ¤æ¯ä¸ªç»ˆç«¯ä¸å¯¹åº”&lt;code>/dev/ttyX&lt;/code>ä¹‹é—´çš„æ•°æ®æµä¼šè¯ã€‚é€»è¾‘ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p>
&lt;p>&lt;img src="../../images/terminal-ttysubsystem.drawio.svg" alt="terminal-ttysubsystem">&lt;/p>
&lt;blockquote>
&lt;p>æˆ‘æŸ¥é˜…èµ„æ–™çš„è¿‡ç¨‹ä¸­ï¼Œæ“ä½œç³»ç»Ÿä¸ç»ˆç«¯ç›´æ¥è¿æ¥çš„æ¨¡å—ï¼Œæœ‰äººç”»çš„æ˜¯UARTé©±åŠ¨ï¼Œæœ‰äººç”»çš„æ˜¯ttyé©±åŠ¨ã€‚&lt;strong>UARTï¼ˆé€šç”¨å¼‚æ­¥æ”¶å‘å™¨ï¼‰æ˜¯ä¸€ç§ä¸²å£é€šä¿¡æ–¹å¼&lt;/strong>ã€‚ä¸²å£å³ä¸²è¡Œæ¥å£ï¼Œæ˜¯ä¸€ç§ä¿¡æ¯ä¼ è¾“æ–¹æ³•ï¼Œä¸ä¹‹ç›¸å¯¹åº”çš„å¦ä¸€ç§æ¥å£å«å¹¶å£ï¼Œå¹¶è¡Œæ¥å£ã€‚ä¸¤è€…çš„åŒºåˆ«æ˜¯ï¼Œä¼ è¾“ä¸€ä¸ªå­—èŠ‚ï¼ˆ8ä¸ªä½ï¼‰çš„æ•°æ®æ—¶ï¼Œä¸²å£æ˜¯å°†8ä¸ªä½æ’å¥½é˜Ÿï¼Œé€ä¸ªæ¯”ç‰¹åœ°åœ¨&lt;strong>1æ¡è¿æ¥çº¿&lt;/strong>ä¸Šä¼ è¾“ï¼Œè€Œå¹¶å£åˆ™å°†8ä¸ªä½ä¸€å­—æ’å¼€ï¼Œåˆ†åˆ«åœ¨&lt;strong>8æ¡è¿æ¥çº¿&lt;/strong>ä¸ŠåŒæ—¶ä¼ è¾“1ä½æ¯”ç‰¹ï¼Œåœ¨ç›¸åŒçš„æ•°æ®ä¼ è¾“é€Ÿç‡ä¸‹ï¼Œå¹¶å£çš„ç¡®æ¯”ä¸²å£æ›´å¿«ï¼Œä½†ç”±äºé«˜é¢‘ä¼ è¾“æ—¶ï¼Œå¹¶å£çš„å„ä¸ªè¿æ¥çº¿ä¹‹é—´å®¹æ˜“äº’ç›¸å¹²æ‰°ï¼Œé«˜é€Ÿæƒ…å†µä¸‹éš¾ä»¥åŒæ­¥å„è¿æ¥çº¿çš„æ•°æ®ï¼Œè€Œä¸”ç¡¬ä»¶æˆæœ¬ä¹Ÿç›¸å¯¹ä¸²å£æ›´é«˜ï¼ˆçº¿å¤šï¼‰ï¼Œå› è€Œ&lt;strong>ä¸²å£å–ä»£å¹¶å£æˆä¸ºäº†ç°åœ¨çš„ä¸»æµæ¥å£&lt;/strong>ã€‚é™¤äº†UARTï¼Œç›®å‰å¸¸ç”¨çš„å…¶ä»–ä¸²å£é€šä¿¡æ–¹å¼è¿˜åŒ…æ‹¬RJ-45(ç½‘å£)ã€USBç³»åˆ—ã€I2Cã€SPIç­‰ç­‰ã€‚åœ¨VT100ç»ˆç«¯æ—¶ä»£ï¼ŒUARTæ˜¯æœ€æµè¡Œçš„ä¸²å£é€šä¿¡æ–¹å¼ï¼Œå¸¸è§çš„æ ‡å‡†æœ‰ä¸€èˆ¬ç”µè„‘åº”ç”¨çš„RS-232ï¼ˆä½¿ç”¨25é’ˆæˆ–9é’ˆè¿æ¥å™¨ï¼‰å’Œå·¥ä¸šç”µè„‘åº”ç”¨çš„åŠåŒå·¥RS-485ä¸å…¨åŒå·¥RS-422ï¼ˆä¸è¦ä¸é€šç”¨ä¸²è¡Œæ€»çº¿Universal Serial Busï¼ŒUSBæ··æ·†ï¼‰ï¼Œä»¥è‡³äºç°åœ¨æ‰€æåˆ°çš„ä¸²å£ï¼Œé»˜è®¤å°±æŒ‡çš„æ˜¯UARTä¸²å£ã€‚&lt;/p>
&lt;p>å…·ä½“è¯´ä¸‹UARTé©±åŠ¨å’Œttyé©±åŠ¨çš„åŒºåˆ«ã€‚UARTé©±åŠ¨æ˜¯æŒ‡&lt;strong>é€šä¿¡æ–¹å¼ä¸ºUARTä¸²å£&lt;/strong>çš„é©±åŠ¨ç¨‹åºï¼Œè€Œttyé©±åŠ¨æ˜¯ä»ä½¿ç”¨å¤–è®¾ç§ç±»ï¼ˆç§ç±»ä¸ºttyï¼‰çš„è§’åº¦æ¥æè¿°é©±åŠ¨ã€‚æ¯”å¦‚ç½‘å¡è®¾å¤‡çš„ç½‘å¡é©±åŠ¨ï¼Œé”®ç›˜ã€é¼ æ ‡çš„é©±åŠ¨ç­‰ç­‰ã€‚äºŒè€…ä¸æ˜¯ä¸€ä¸ªæ–¹é¢çš„ä¸œè¥¿ã€‚å¦‚æœä¸€ä¸ªå¤–è®¾ä½¿ç”¨äº†UARTä¸²å£ä½œä¸ºé€šä¿¡æ–¹å¼ï¼Œé‚£ä¹ˆè¿™ä¸ªå¤–è®¾å°±éœ€è¦UARTé©±åŠ¨ï¼›å½“ç„¶ï¼Œå¦‚æœè¯¥è®¾å¤‡ä½¿ç”¨äº†USBä½œä¸ºé€šä¿¡æ–¹å¼ï¼Œé‚£ä¹ˆå°±è¦ç”¨USBé©±åŠ¨ã€‚ä¸€èˆ¬çš„è®¾å¤‡é©±åŠ¨ä¸ä»…ä»…åŒ…æ‹¬é€šä¿¡å±‚é¢çš„é©±åŠ¨ï¼Œè¿˜åŒ…æ‹¬ä¸è‡ªèº«ç¡¬ä»¶å¯†åˆ‡ç›¸å…³çš„ç¨‹åºï¼Œä¾‹å¦‚ç°åœ¨çš„å®¶ç”¨æ‰“å°æœºé©±åŠ¨ç¨‹åºä¸»è¦å°±æ˜¯ç”±USBé©±åŠ¨å’ŒGDIæ‰“å°é©±åŠ¨ç»„æˆã€‚&lt;/p>
&lt;p>åœ¨ç‰©ç†ç»ˆç«¯çš„æ—¶ä»£ï¼Œç”±äºttyç»ˆç«¯å¤§å¤šæ•°ä½¿ç”¨çš„éƒ½æ˜¯UARTä¼ è¾“æ–¹å¼ï¼Œå¹¶ä¸”æ‰€æœ‰ç»ˆç«¯åˆ¶é€ å•†å…±åŒé‡‡ç”¨äº‹å®æ ‡å‡†ANSIè½¬ä¹‰åºåˆ—ï¼ˆä¸éœ€è¦é¢å¤–çš„ç¡¬ä»¶é©±åŠ¨ï¼‰ï¼Œæ‰€ä»¥åœ¨å›¾ä¸­ç”»UARTé©±åŠ¨æˆ–ttyé©±åŠ¨æœ¬è´¨æ˜¯ä¸€ä¸ªã€‚çœ‹ttyå­ç³»ç»Ÿçš„æºç ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å‘ç°ttyé©±åŠ¨ä¸­æè¿°çš„é©±åŠ¨ç±»å‹å°±æ˜¯UARTï¼›ä¸¥æ ¼çš„æ¥è®²ï¼ŒUARTé©±åŠ¨å¯ä»¥ç®—æ˜¯ttyé©±åŠ¨çš„ä¸€ç§å…·ä½“å®ç°ï¼Œåœ¨Linuxä¸­ttyå­ç³»ç»Ÿçš„é©±åŠ¨ä»£ç é‡Œï¼Œttyé©±åŠ¨æ“ä½œéƒ½æ˜¯ç›´æ¥ä½¿ç”¨UARTä¸²å£é©±åŠ¨çš„æ“ä½œ:&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-c" data-lang="c">&lt;span class="ln"> 1&lt;/span>&lt;span class="cm">/* Linux çš„driver/tty/serial/serial_core.cæ–‡ä»¶ä¸­ï¼Œ
&lt;/span>&lt;span class="ln"> 2&lt;/span>&lt;span class="cm">uart_opså°±æ˜¯åŸºäºtty_operationç»“æ„ä½“åˆ›å»ºçš„*/&lt;/span>
&lt;span class="ln"> 3&lt;/span>&lt;span class="k">static&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="k">struct&lt;/span> &lt;span class="n">tty_operations&lt;/span> &lt;span class="n">uart_ops&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="ln"> 4&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">install&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">uart_install&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="ln"> 5&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">open&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">uart_open&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="ln"> 6&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">close&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">uart_close&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="ln"> 7&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">write&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">uart_write&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="ln"> 8&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">put_char&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">uart_put_char&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="ln"> 9&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">flush_chars&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">uart_flush_chars&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="ln">10&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">write_room&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">uart_write_room&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="ln">11&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">chars_in_buffer&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="n">uart_chars_in_buffer&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="ln">12&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">flush_buffer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">uart_flush_buffer&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="ln">13&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">ioctl&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">uart_ioctl&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="ln">14&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">throttle&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">uart_throttle&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="ln">15&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">unthrottle&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">uart_unthrottle&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="ln">16&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">send_xchar&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">uart_send_xchar&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="ln">17&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">set_termios&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">uart_set_termios&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="ln">18&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">set_ldisc&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">uart_set_ldisc&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="ln">19&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">stop&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">uart_stop&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="ln">20&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">start&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">uart_start&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="ln">21&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">hangup&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">uart_hangup&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="ln">22&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">break_ctl&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">uart_break_ctl&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="ln">23&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="n">wait_until_sent&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="n">uart_wait_until_sent&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="ln">24&lt;/span> &lt;span class="c1">// ç»“æ„ä½“ä»¥ä¸‹ä»£ç çœç•¥ â€¦â€¦
&lt;/span>&lt;span class="ln">25&lt;/span>&lt;span class="c1">&lt;/span>&lt;span class="p">};&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>æ­¤å¤–ï¼Œç”±äºä¸²å£è®¾å¤‡çš„åœ¨è¿™ä¸ªé˜¶æ®µçš„ä¸»æµåœ°ä½ï¼Œttyå­ç³»ç»Ÿä¸ºä¸²å£ç‰©ç†ç»ˆç«¯ï¼ˆå¦‚VT100ï¼‰åˆ›å»ºå­—ç¬¦è®¾å¤‡æ–‡ä»¶æè¿°ç¬¦å®é™…ä¸Šä¸æ˜¯&lt;code>/dev/ttyX&lt;/code>ï¼Œè€Œæ˜¯ç‰¹åœ°ç”¨&lt;code>/dev/ttySX&lt;/code>è¡¨ç¤ºï¼Œå…¶ä¸­â€œSâ€è¡¨ç¤ºSerialï¼Œå³ä¸²å£çš„è‹±æ–‡ã€‚æˆ‘ä»¬ç°åœ¨è¿˜èƒ½åœ¨&lt;code>/dev/&lt;/code>ç›®å½•ä¸‹çœ‹åˆ°ä¿ç•™çš„&lt;code>/dev/ttySX&lt;/code>ï¼Œåªä¸è¿‡ç°åœ¨ä¸€èˆ¬åªæœ‰åµŒå…¥å¼æˆ–å·¥æ§è®¾å¤‡è¿˜åœ¨ä½¿ç”¨ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>ç»ˆç«¯ä¸è®¡ç®—æœºçš„æ•°æ®äº¤äº’é€»è¾‘æµç¨‹å¦‚ä¸‹&lt;/p>
&lt;ul>
&lt;li>è¾“å…¥æ•°æ®æµçš„é€»è¾‘æµç¨‹å¦‚ä¸‹ï¼š
&lt;ol>
&lt;li>ç»ˆç«¯ï¼ˆä¾‹å¦‚VT100ï¼‰é”®ç›˜çš„è¾“å…¥æ•°æ®è§¦å‘ç³»ç»Ÿä¸­æ–­ï¼Œå¹¶ç»è¿‡ä¸²å£çº¿ï¼ˆRS232ï¼‰ä¼ è¾“ç»™è®¡ç®—æœºçš„ä¸²å£æ¥å£ï¼Œå¹¶ç”±é©±åŠ¨ç¨‹åºæ¥æ”¶ï¼ˆæ•°æ–¹æ³¢ï¼‰ã€‚é©±åŠ¨ç¨‹åºå°†æ¥è‡ªç¡¬ä»¶çš„æ•°æ®æ•´åˆæˆOSèƒ½å¤Ÿç†è§£çš„å­—èŠ‚ï¼›&lt;/li>
&lt;li>line disciplineå°†é©±åŠ¨çš„æ•°æ®è¯»å–åˆ°å­—ç¬¦è®¾å¤‡ç¼“å†²åŒºï¼Œå¹¶è¿›è¡Œè¿›ä¸€æ­¥è§£é‡Šï¼Œä¾‹ï¼šç‰¹æ®Šç¬¦å·å¦‚backspaceã€tabç¬¦å·åšå‡ºç›¸åº”è§£é‡Šï¼Œè¿˜æœ‰å°†ä¸€äº›ç»ˆç«¯æŒ‡ä»¤å¦‚ctrl+cè§£é‡Šä¸ºä¸­æ–­ï¼Œå°†Ctrl+eè§£é‡Šæˆå°†å…‰æ ‡ç§»è‡³è¡Œå°¾ç­‰è½¬æ¢ã€‚éœ€è¦æŒ‡å‡ºä¸åŒè®¾å¤‡ï¼ˆå¦‚é¼ æ ‡ã€è§¦æ‘¸æ¿ï¼‰çš„line disciplineå†…å®¹æ˜¯ä¸ä¸€æ ·ã€‚å½“å‰çš„ä¸²è¡Œé€šä¿¡å­ç³»ç»Ÿè‡³å°‘æ”¯æŒ17ç§line disciplineã€‚è§£é‡Šå®Œè¾“å…¥å†…å®¹åï¼Œline disciplineè¿˜ä¼šæŠŠè¾“å…¥çš„æ•°æ®å†™å›åˆ°echo bufferï¼Œé€å›ç»ˆç«¯å±å¹•ï¼ˆè¿™æ˜¯æˆ‘ä»¬åœ¨é”®ç›˜æ‰“å­—ç„¶ååœ¨terminalç»ˆç«¯å®æ—¶æ˜¾ç¤ºçš„åŸç†ï¼‰ï¼›&lt;/li>
&lt;li>tty I/O å°†å­—ç¬¦è®¾å¤‡ç¼“å†²åŒºçš„å†…å®¹read/copyåˆ°æ ‡å‡†è¾“å…¥è®¾å¤‡æ–‡ä»¶ï¼ˆstdinï¼Œæ–‡ä»¶æè¿°ç¬¦ä¸º&lt;code>/dev/stdin&lt;/code>å®é™…æŒ‡å‘&lt;code>/dev/ttySX&lt;/code>ï¼‰ï¼›&lt;/li>
&lt;li>ç”¨æˆ·è¿›ç¨‹ä»æ ‡å‡†è¾“å…¥è®¾å¤‡ï¼ˆstdinï¼‰è¯»å–è¾“å…¥å†…å®¹ä½œä¸ºç¨‹åºè¿è¡Œæ‰€éœ€çš„æ•°æ®ã€‚&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>è¾“å‡ºæ•°æ®æµçš„é€»è¾‘æµç¨‹å¦‚ä¸‹ï¼š
&lt;ol>
&lt;li>ç”¨æˆ·è¿›ç¨‹å°†è¾“å‡ºçš„æ–‡æœ¬æ•°æ®å†™å…¥æ ‡å‡†è¾“å‡ºè®¾å¤‡æ–‡ä»¶ï¼ˆ&lt;code>/dev/stdout&lt;/code>ï¼‰æˆ–æ ‡å‡†é”™è¯¯è®¾å¤‡æ–‡ä»¶ï¼ˆ&lt;code>/dev/stderr&lt;/code>ï¼‰ï¼ˆè¿™ä¸¤ä¸ªæ–‡ä»¶å®é™…éƒ½æŒ‡å‘&lt;code>/dev/ttySX&lt;/code>ï¼‰ï¼›&lt;/li>
&lt;li>tty I/O å…ˆè¯»å–stdoutå’Œstderrçš„å†…å®¹ï¼Œå†è°ƒç”¨tty coreçš„writeæ“ä½œï¼Œå°†æ•°æ®å†™å…¥å­—ç¬¦è®¾å¤‡ç¼“å†²åŒºï¼›&lt;/li>
&lt;li>line disciplineæ¥æ”¶å­—ç¬¦è®¾å¤‡ç¼“å†²åŒºçš„æ•°æ®ï¼Œè°ƒç”¨line disciplineçš„writeæ“ä½œï¼Œå†™å…¥echo buffer,å¹¶å¯¹æ•°æ®è¿›è¡Œæ•´ç†ï¼Œä¾‹å¦‚å°†æ‰€æœ‰LFå­—ç¬¦æ›¿æ¢ä¸ºCR/LFåºåˆ—ç­‰ï¼›&lt;/li>
&lt;li>æœ€åï¼Œè°ƒç”¨ttyé©±åŠ¨çš„writeæ“ä½œï¼Œå°†echo bufferä¸­çš„å­—èŠ‚è½¬æ¢æˆUARTèƒ½å¤Ÿç†è§£çš„æ¯”ç‰¹ä½ï¼Œé€šè¿‡ä¸²å£çº¿è¿”å›ç»™ç»ˆç«¯ï¼ˆVT100ï¼‰çš„æ–‡æœ¬æ˜¾ç¤ºå™¨ã€‚&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ul>
&lt;p>æœ‰ä¸€ç‚¹éœ€è¦å†æ¬¡å¼ºè°ƒï¼Œå½“å¹´çš„ç»ˆç«¯è®¾å¤‡æ˜¾ç¤ºå™¨å’Œç°åœ¨çš„æ˜¾ç¤ºå™¨æ¥æ”¶çš„æ•°æ®ç±»å‹å®Œå…¨ä¸ä¸€æ ·ã€‚VT100ç»ˆç«¯æ¥æ”¶çš„æ˜¯ANSIè½¬ä¹‰åºåˆ—ç ï¼Œåªèƒ½æ˜¾ç¤ºè§„å®šçš„å­—ç¬¦ï¼›è€Œç°åœ¨çš„æ˜¾ç¤ºå™¨æ¥æ”¶çš„æ•°æ®æ˜¯å›¾åƒç‚¹é˜µï¼Œæ‰€ä»¥èƒ½å¤Ÿæ˜¾ç¤ºå„ç§å›¾ç‰‡ã€è§†é¢‘ç­‰å¤šåª’ä½“æ–‡ä»¶ã€‚å› æ­¤ï¼ŒVT100ç­‰ç»ˆç«¯è‡ªç„¶ä¹Ÿæ²¡æœ‰åˆ†è¾¨ç‡çš„è¯´æ³•ï¼Œåªèƒ½æ˜¾ç¤º24è¡Œ80åˆ—çš„å­—ç¬¦ï¼ˆåæ¥æ‰©å……åˆ°25è¡Œï¼Œ25*80æˆä¸ºæœ€ç»ˆæ ‡å‡†ï¼‰ğŸ˜…ã€‚&lt;/p>
&lt;p>å³ä½¿å¦‚æ­¤ç”±äºVT100å…ˆè¿›åœ°æ‹¥æœ‰åŒå‘æ»šåŠ¨ã€å…è®¸è‡ªç”±ç§»åŠ¨å…‰æ ‡æ§åˆ¶å±å¹•ã€æ»šåŠ¨ç¿»é¡µç­‰åŠŸèƒ½æˆä¸ºå½“æ—¶æœ€ç•…é”€çš„ç»ˆç«¯ï¼Œå–å¾—äº†600ä¸‡çš„é”€é‡ï¼Œè¿™åœ¨å½“æ—¶å¯ç®—æ˜¯å¤©çš‡å·¨æ˜Ÿçº§åˆ«çš„äº§å“äº†ã€‚&lt;/p>
&lt;h2 id="ä»ç‰©ç†ç»ˆç«¯åˆ°è™šæ‹Ÿç»ˆç«¯">ä»ç‰©ç†ç»ˆç«¯åˆ°è™šæ‹Ÿç»ˆç«¯&lt;/h2>
&lt;blockquote>
&lt;p>é›†æˆç”µè·¯ä¸Šå¯ä»¥å®¹çº³çš„æ™¶ä½“ç®¡æ•°ç›®åœ¨å¤§çº¦æ¯ç»è¿‡18ä¸ªæœˆä¾¿ä¼šå¢åŠ ä¸€å€ã€‚â€”â€”æˆˆç™»Â·æ‘©å°”&lt;/p>
&lt;/blockquote>
&lt;p>ç‰©ç†ç»ˆç«¯åœ¨ä¸ªäººç”µè„‘ï¼ˆpersonal computer, PCï¼‰æ™®åŠä¹‹å‰ï¼Œä¸€ç›´æ˜¯è®¡ç®—æœºç¡¬ä»¶ç³»ç»Ÿä¸­ä¸å¯æˆ–ç¼ºçš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œç„¶è€Œæˆ‘ä»¬ä»Šå¤©è²Œä¼¼åªèƒ½åœ¨åšç‰©é¦†é‡Œæ‰èƒ½çœ‹è§è¿™äº›æµ‘èº«å†’ç€å†å²æ„Ÿçš„è®¾å¤‡ã€‚å‡»è´¥äº†æµè¡Œä¸€æ—¶çš„VT100ç­‰ç‰©ç†ç»ˆç«¯çš„å¹¶ä¸æ˜¯æ›´å…ˆè¿›çš„ç»ˆç«¯æœºæˆ–æ˜¯æ›´å…ˆè¿›çš„äº¤äº’æ–¹å¼ï¼Œè€Œæ˜¯&lt;strong>æ‘©å°”å®šå¾‹å¯¼è‡´çš„ä¸ªäººç”µè„‘çš„æ™®åŠ&lt;/strong>ã€‚åœ¨VT100å–çš„æœ€å¥½çš„å¹´ä»£ï¼Œè®¡ç®—æœºå¹¶éäººäººèƒ½æ‹¥æœ‰çš„å¹³æ°‘è®¾å¤‡ï¼Œå®ƒä¸ä»…éœ€è¦å¤§é‡çš„é‡‘é’±(a lot of money)ï¼Œå¤§é‡çš„ç©ºé—´(a lot of space)ï¼Œè¿˜éœ€è¦å¤§é‡çš„æŠ€æœ¯èƒ½åŠ›(a lot of technology)ï¼Œ3Aå¤§ä½œäº†å±äºæ˜¯ã€‚&lt;/p>
&lt;p>éšç€ç”µå­å…ƒä»¶çš„å¾®å‹åŒ–å’Œé›†æˆç”µè·¯çš„å¿«é€Ÿå‘å±•ï¼Œè®¡ç®—æœºç”±ä¸€æ•´ä¸ªæˆ¿é—´çš„è®¾å¤‡é€æ¸ç¼©å‡æˆç­‰èº«é«˜çš„æœºå™¨ï¼Œå†åˆ°æ‰‹æåŒ…å¤§å°çš„å¯éšèº«æºå¸¦çš„è®¾å¤‡ï¼Œæ•´ä½“åˆ¶é€ æˆæœ¬ä¹Ÿå¤§å¤§å‡å°‘ï¼Œäººäººæ‹¥æœ‰ä¸€å°ç”µè„‘å·²ç»ä¸æ˜¯å¤©æ–¹å¤œè°ˆã€‚åŠ ä¸Šäººä»¬å¯¹æ–°äº‹ç‰©çš„å­¦ä¹ ä¸è®¤çŸ¥ï¼Œä¹Ÿè®©è®¡ç®—æœºä¸åœ¨æ˜¯â€œæ‚¬åœ¨å¤©è¾¹çš„æ˜æœˆâ€ã€‚é‚£ä¹ˆå¦‚æœç”µè„‘å·²ç»èƒ½å¤Ÿäººæ‰‹ä¸€å°äº†ï¼Œé‚£ä¹ˆåªèƒ½æ‰“å­—è¾“å…¥å’Œæ˜¾ç¤ºå™¨è¾“å‡ºçš„ç»ˆç«¯å¤–è®¾è¿˜éœ€è¦ç‹¬ç«‹å”®å–å—ï¼Ÿé¢å¯¹è¿™æ ·çš„é™ç»´æ‰“å‡»ï¼Œç»ˆç«¯æœºåˆ¶é€ å•†ä»¬å¼€å§‹æ²¿ç€ä¸¤æ¡è·¯äº¤é”™å‘å±•ï¼Œä¸€æ¡è·¯æ˜¯æŠŠç»ˆç«¯æœºæ‹†æˆå±å¹•å’Œé”®ç›˜ä¸¤éƒ¨åˆ†ï¼Œç‹¬ç«‹å‘å±•ï¼Œå±å¹•å¼€å§‹ä¸“æ³¨äºæ˜¾ç¤ºåŠŸèƒ½ï¼Œæä¾›å½©è‰²çš„ã€åŠ ç²—ã€æ›´æ¸…æ™°çš„å­—ç¬¦æ˜¾ç¤ºï¼›é”®ç›˜ä¹Ÿé€æ¸æ‘†è„±æ‰¿é‡çš„æœºæ¢°è£…ç½®å‘ç€è½»é‡åŒ–ã€å¤šåŠŸèƒ½åŒ–ã€è§„èŒƒåŒ–å‘å±•ã€‚ç¬¬äºŒæ¡è·¯æ˜¯å°†ç»ˆç«¯è®¾å¤‡å’Œè®¡ç®—æœºæœ¬åœ°èä¸ºä¸€ä½“ï¼Œå®Œå…¨æˆä¸ºPCæœºä¸å¯æ‹†åˆ†çš„ä¸€éƒ¨åˆ†ï¼Œæ¯”å¦‚ç¬”è®°æœ¬ç”µè„‘ï¼ŒåŒæ—¶ç”±äºé›†æˆåŒ–ç¨‹åº¦é«˜ï¼Œç¡¬ä»¶é—´è·ç¦»è¿‘ï¼Œå¹¶å£çš„å¹²æ‰°ä¸ä¸åŒæ­¥ç­‰é—®é¢˜å¤§å¤§é™ä½ï¼Œæ’çº¿ä¹Ÿå–ä»£äº†UARTä½œä¸ºå†…éƒ¨è¿æ¥çš„é«˜é€Ÿä¼ è¾“é€šé“ã€‚ä¸‹å›¾å³ä¸ºæœ€æ¥è¿‘ç°åœ¨ç¬”è®°æœ¬ç”µè„‘å½¢æ€çš„å¯ç§»åŠ¨è®¡ç®—æœºâ€”â€”1989å¹´çš„NEC UltraLiteï¼Œè¿è¡ŒMS-DOS 3.3ã€‚&lt;/p>
&lt;p>&lt;img src="../../images/nec-ultralite.jpg" alt="nec-ultralite.jpg">&lt;/p>
&lt;p>ä½†æ˜¯ä»æ“ä½œç³»ç»Ÿçš„äº¤äº’è§’åº¦æ¥è¯´ï¼Œå®ƒè¦åšçš„äº‹æƒ…å¤§ä½“ä¸Šæ²¡æœ‰ä»€ä¹ˆå˜åŒ–ï¼Œå³æ¥æ”¶æ¥è‡ªè¾“å…¥è®¾å¤‡çš„å­—ç¬¦ï¼Œäº¤ç»™ç”¨æˆ·è¿›ç¨‹å¤„ç†ï¼Œå†æŠŠç”¨æˆ·è¿›ç¨‹è¿”å›çš„ä¿¡æ¯è¿”å›ç»™è¾“å‡ºç»ˆç«¯ã€‚å› æ­¤å†…æ ¸TTYå­ç³»ç»Ÿæ¶æ„ä¹Ÿä¸€ç›´æ²¡æœ‰å‘ç”Ÿå˜åŒ–ã€‚ä¸è¿‡ç¡¬ä»¶çš„å‘å±•ï¼Œå¯¼è‡´äº†å’Œç¡¬ä»¶å¯†åˆ‡ç›¸å…³çš„é©±åŠ¨ç¨‹åºçš„å¤§è§„æ¨¡å˜åŒ–ï¼Œä¸ºäº†é€‚åº”è¿™äº›å˜åŒ–ï¼ŒåŒæ—¶å°½é‡å…¼å®¹è¿‡å»çš„ç¨‹åºï¼ˆæ‰ä¸æ˜¯å› ä¸ºä¸æƒ³æ”¹ä»£ç ğŸ¤£ï¼‰ï¼ŒLinux/Unixæå‡ºäº†ä¸€ä¸ªæŠ˜è¡·çš„åŠæ³•ï¼š&lt;strong>å‡è®¾ç»ˆç«¯ä¾æ—§å­˜åœ¨&lt;/strong>ã€‚ç”¨è½¯ä»¶è®¾è®¡ä¸€ä¸ªä¸­é—´å±‚ï¼Œå¯¹å¤–æ¥æ”¶æ¥è‡ªâ€œåŸå¤´å˜å¹»å¤§ç‹æ——â€ä¸€èˆ¬çš„å„ç§å¤–è®¾çš„äº¤äº’æ•°æ®ï¼Œç„¶åè½¬æ¢æˆè¿‡å»ttyç»ˆç«¯çš„æ•°æ®å½¢å¼ï¼Œå†æä¾›ç»™å…¶ä»–è¿›ç¨‹ã€‚å¯¹äºå…¶ä»–è¿›ç¨‹è€Œè¨€ï¼Œè¿˜æ˜¯åƒè¿‡å»ä¸€æ ·å’Œâ€œæŸä¸ªç»ˆç«¯â€è¿›è¡Œäº¤äº’ï¼Œåªä¸è¿‡è¿™ä¸ªç»ˆç«¯ä¸å†æ˜¯ç‰©ç†ç»ˆç«¯ï¼Œè€Œæ˜¯ç”±ç¨‹åºâ€œä¼ªè£…â€çš„&lt;strong>è™šæ‹Ÿç»ˆç«¯ï¼ˆVirtual Console or Virtual Terminalï¼‰&lt;/strong>ã€‚&lt;/p>
&lt;p>æ³¨ï¼šè™½ç„¶Linuxæºä»£ç ä¸­å…³äºçš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨çš„ä»£ç åœ¨ttyç›®å½•ä¸‹ï¼Œä½†æ˜¯ä¸€èˆ¬ä¸æŠŠç»ˆç«¯æ¨¡æ‹Ÿå™¨ä½œä¸ºttyå­ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ã€‚&lt;/p>
&lt;p>ä¸ŠèŠ‚ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†å†…æ ¸ä¸­ttyå­ç³»ç»Ÿæ˜¯å¦‚ä½•å……å½“ç‰©ç†ç»ˆç«¯å’Œæ“ä½œç³»ç»Ÿäº¤äº’çš„åª’ä»‹ï¼Œè¿™èŠ‚æˆ‘ä»¬ç€é‡ä»‹ç»ä¸€ä¸‹å†ç‰©ç†ç»ˆç«¯åˆ°è™šæ‹Ÿç»ˆç«¯çš„æ¼”å˜è¿‡ç¨‹ä¸­ï¼Œå“ªäº›éƒ¨åˆ†å‘ç”Ÿäº†å˜åŒ–ã€‚æ–°çš„é€»è¾‘ç»“æ„å›¾å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="../../images/virtual-terminal-text-mode.drawio.svg" alt="è™šæ‹Ÿç»ˆç«¯æ–‡æœ¬æ¨¡å¼">&lt;/p>
&lt;p>æ•°æ®æµæ–¹é¢ï¼Œä»è¯ç”Ÿåˆ°è‡³ä»Šä¹Ÿæ²¡æœ‰å¤ªå¤§å˜åŒ–ï¼Œæœ€å¤§åŒºåˆ«åœ¨äºç‰©ç†ç»ˆç«¯å’Œè®¡ç®—å™¨çš„åŠåŒå·¥é€šä¿¡ï¼Œå˜æˆäº†è®¡ç®—æœºå’Œæ˜¾ç¤ºå™¨ã€é”®ç›˜ã€é¼ æ ‡ç­‰å¤–è®¾çš„å•å·¥é€šä¿¡ã€‚åœ¨å†…éƒ¨ç¨‹åºç»“æ„æ–¹é¢ï¼Œç”±äºå¤–è®¾æ˜¯å˜åŒ–çš„æºå¤´ï¼Œæ‰€ä»¥Linuxæ“ä½œç³»ç»Ÿä¾§æœ€ç›´æ¥çš„å˜åŒ–å°±æ˜¯&lt;strong>ç¡¬ä»¶é©±åŠ¨&lt;/strong>ã€‚ç‰©ç†ç»ˆç«¯åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†åï¼Œæ˜¾ç¤ºå™¨å’Œé”®ç›˜éœ€è¦ç‹¬ç«‹å’Œè®¡ç®—æœºè¿æ¥ï¼Œæ˜¾ç¤ºå™¨ä¸»è¦æ˜¯é€šè¿‡VGAï¼ˆVideo Graphics Arrayï¼‰æ¥å£ï¼Œé”®ç›˜ä¸»è¦é€šè¿‡PS/2æ¥å£ã€‚&lt;/p>
&lt;p>é”®ç›˜éƒ¨åˆ†ç‹¬ç«‹å‡ºæ¥ä¹‹åå˜åŒ–æ¯”è¾ƒç®€å•ï¼Œåªéœ€è¦æ·»åŠ è‡ªå·±ç‹¬ç«‹çš„é©±åŠ¨ï¼Œè¿™ä¸ªé©±åŠ¨ç›´æ¥ä¸ºç»ˆç«¯æ¨¡æ‹Ÿå™¨æä¾›ç”¨æˆ·è¾“å…¥å­—ç¬¦ä»¥åŠæ§åˆ¶æŒ‡ä»¤ã€‚PS/2æ¥å£ä½œä¸ºIBMä¸“ä¸ºäº¤äº’å¤–è®¾è®¾è®¡çš„æ¥å£ï¼Œç›®å‰å·²ç»æ…¢æ…¢çš„è¢«æ›´ä¸ºé€šç”¨çš„USBæ‰€å–ä»£ï¼Œåªæœ‰å°‘éƒ¨åˆ†çš„å°å¼æœºä»ç„¶æä¾›å®Œæ•´çš„PS/2é”®ç›˜åŠé¼ æ ‡æ¥å£ã€‚ä¸è¿‡ï¼Œç”±äºUSBæ¥å£å¯¹é”®ç›˜æ— ç‰¹æ®Šè°ƒæ•´ä¸‹æœ€å¤§åªèƒ½æ”¯æŒ6é”®æ— å†²çªï¼Œè€ŒPS/2é”®ç›˜æ¥å£å¯ä»¥æ”¯æŒæ‰€æœ‰æŒ‰é”®åŒæ—¶è€Œæ— å†²çªã€‚ç°åœ¨å¤§å®¶è¿½æ±‚çš„æœºæ¢°ã€æ— å†²çªé”®ç›˜å°±æ˜¯å†å²ä¸­æ›¾ç»è¢«æ”¾å¼ƒçš„äº§ç‰©ï¼Œæœç„¶ç§‘æŠ€åˆ›æ–°é è€ƒå¤å•Šã€‚&lt;/p>
&lt;p>æ˜¾ç¤ºå™¨éƒ¨åˆ†ç›¸å¯¹å¤æ‚ä¸€äº›ã€‚VGAä¸­æ–‡ç¿»è¯‘å«è§†é¢‘å›¾åƒé˜µåˆ—ï¼Œå¯æ˜¯åœ¨Linuxç³»ç»Ÿ2.1ç‰ˆæœ¬ä¹‹å‰ï¼Œæ˜¯å›¾åƒè¾“å‡ºæ”¯æŒçš„å¹¶ä¸å¥½ï¼Œæ‰€ä»¥VGAæ˜¾ç¤ºå™¨è¿˜æœ‰ä¸€ä¸ªVGA text Modeï¼Œå³è¾“å‡ºçš„ä¸æ˜¯ä»»æ„åƒç´ ç‚¹è€Œæ˜¯è§„å®šå¥½çš„å­—ç¬¦ç‚¹é˜µã€‚å…¸å‹åœ°ï¼Œæ”¯æŒæ–‡æœ¬æ¨¡å¼çš„å±å¹•ç”±ä¸€ä¸ªä¸ªå‡åŒ€çš„çŸ©å½¢æ …æ ¼å­—ç¬¦å…ƒç»„æˆï¼Œå…¶ä¸­æ¯ä¸€ä¸ªå­—ç¬¦å…ƒåŒ…å«å­—ç¬¦é›†ä¸­çš„ä¸€ä¸ªå­—ç¬¦ç‚¹é˜µã€‚æ–‡æœ¬æ¨¡å¼ä¸‹æ˜¾ç¤ºå™¨åªèƒ½æ˜¾ç¤ºå­—ç¬¦é›†é‡Œçš„å†…å®¹ï¼Œä¸èƒ½æ˜¾ç¤ºå›¾ç‰‡ã€è§†é¢‘ç­‰å¤šåª’ä½“å†…å®¹ã€‚vgaæ¥å£ç›¸è¿çš„è®¡ç®—æœºéƒ¨ä»¶å«æ˜¾ç¤ºé€‚é…å™¨ï¼ˆdisplay adapterï¼‰ï¼Œè¿™ä¸ªç‰©ä»¶å°±æ˜¯å„ç§æ˜¾å¡çš„ç»Ÿç§°äº†ï¼Œåªä¸è¿‡å…¶å†…å®¹è¿˜åŒ…æ‹¬äº†ç›¸åº”çš„é©±åŠ¨ç¨‹åºã€‚è¿™ä¸ªç§°å‘¼æˆ‘ä»¬è‡³ä»Šè¿˜èƒ½åœ¨windowsç³»ç»Ÿçš„è®¾å¤‡ç®¡ç†å™¨çš„é‡Œçœ‹åˆ°ã€‚ç‚¹é˜µå›¾ç¤ºä¾‹å¦‚ä¸‹ï¼ˆå®é™…å±å¹•ä½¿ç”¨çš„ç‚¹é˜µå›¾ä¼šæ›´åŠ ç²¾ç»†ï¼‰&lt;/p>
&lt;p>&lt;img src="../../images/%E5%AD%97%E6%AF%8D%E7%82%B9%E9%98%B5%E5%9B%BE.jpg" alt="å­—æ¯ç‚¹é˜µå›¾">&lt;/p>
&lt;p>display (VGA) adapterä¼šç›´æ¥ä»ä¸€æ®µå†…å­˜ï¼ˆæ˜¾å­˜ï¼Œå½“æ—¶äºŒè€…è¿˜æ²¡æœ‰åˆ†ç¦»å¼€ï¼‰ä¸­è¯»å–å­—ç¬¦æ•°æ®ï¼Œäº¤ç”±æ˜¾ç¤ºå™¨æ¸²æŸ“æ˜¾ç¤ºã€‚è¿™æ®µå†…å­˜ç”±äºæ˜¯å­—ç¬¦ï¼Œä¸æ˜¯åƒç´ æ•°æ®ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å·¥å…·ç›´æ¥æŸ¥çœ‹ã€‚Linuxçš„virtual console screen(vcs)è®¾å¤‡å°±æ˜¯æŒ‡å‘è¿™æ®µå­—ç¬¦å†…å­˜ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡&lt;code>cat /dev/vcsX&lt;/code>æŸ¥çœ‹ï¼Œå…¶ä¸­â€œXâ€è¡¨ç¤ºæ‰€ç”¨tty Xå¯¹åº”çš„æ•°å­—ã€‚å¦‚æœæˆ‘ä»¬æŸ¥çœ‹ç›®å‰æ­£åœ¨ä½¿ç”¨çš„tty1ï¼Œä¾‹å¦‚&lt;code>sudo cat /dev/vcs1 &amp;gt; /tmp/foo&lt;/code>ï¼Œç„¶åç”¨&lt;code>vim /tmp/foo&lt;/code>æ‰“å¼€è¿™ä¸ªæ–‡ä»¶ï¼Œå°±èƒ½å¤Ÿå‘ç°è¿™ä¸ªæ–‡ä»¶é‡Œçš„å†…å®¹æ­£æ˜¯åˆšæ‰å±å¹•ä¸Šæ˜¾ç¤ºçš„å†…å®¹ï¼vcsè®¾å¤‡ï¼ˆåŠå…¶å¯¹åº”çš„å†…å­˜ï¼‰ä¸ºç»ˆç«¯æ¨¡æ‹Ÿå™¨æ‰®æ¼”äº†è¿‡å»ç‰©ç†ç»ˆç«¯æ˜¾ç¤ºå™¨çš„è§’è‰²ã€‚&lt;/p>
&lt;p>è¯¥åœºæ™¯ä¸‹ï¼Œç»ˆç«¯æ¨¡æ‹Ÿå™¨ç”±äºä½¿ç”¨VGAè¿æ¥ï¼Œåˆå«åšVGA consoleã€‚ä¸€èˆ¬å«â€œconsoleâ€çš„ï¼Œéƒ½å’Œç”µè„‘ä¸Šè‡ªå¸¦å¯ä»¥ç›´æ¥æ“ä½œç”µè„‘å’Œèƒ½å¤Ÿæ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯çš„æ§åˆ¶å°æœ‰å…³ã€‚ç”±äºPCç”µè„‘çš„â€œä¸ªäººâ€å±æ€§ï¼Œé»˜è®¤æ¯ä¸ªPCéƒ½åªæœ‰ä¸€äººæ­£åœ¨ä½¿ç”¨è®¡ç®—æœºï¼Œè¯¥ç”¨æˆ·ä¹Ÿå°±ç›´æ¥ä½¿ç”¨consoleã€‚Linux/Unixä»è®¾è®¡ä¹‹åˆï¼Œå°±æ˜¯ä¸€ä¸ªå¤šç”¨æˆ·æ“ä½œç³»ç»Ÿï¼Œttyå­ç³»ç»Ÿé™¤äº†ä¸ºæ™®é€šç”¨æˆ·æä¾›äº†ä¸²å£é©±åŠ¨å¤–ï¼Œæœ¬æ¥å°±éƒ½æœ‰ä¸ºç®¡ç†å‘˜æ“ä½œconsoleå‡†å¤‡çš„console driverï¼Œåªä¸è¿‡ç°åœ¨console driverä¸ç”¨è¿æ¥å®ä½“æ§åˆ¶å°ï¼Œè€Œæ˜¯è¿æ¥è™šæ‹Ÿç»ˆç«¯è½¯ä»¶ï¼ˆç»ˆç«¯æ¨¡æ‹Ÿå™¨ï¼‰ã€‚&lt;strong>ä»ç›¸äº’å…³ç³»æ¥çœ‹ï¼Œè™šæ‹Ÿç»ˆç«¯å¯¹äºttyå­ç³»ç»Ÿæ‰®æ¼”çš„æ˜¯ç‰©ç†ç»ˆç«¯ï¼Œä½†æ˜¯å¯¹äºæ•´ä¸ªæ“ä½œç³»ç»Ÿè€Œè¨€ï¼Œè™šæ‹Ÿç»ˆç«¯åªæ˜¯ä¸ªæ™®é€šè¿›ç¨‹ï¼Œå› æ­¤è™šæ‹Ÿç»ˆç«¯å’Œttyå­ç³»ç»Ÿé—´é‡‡ç”¨è¿›ç¨‹é—´é€šä¿¡æ–¹æ³•ï¼Œä¾‹å¦‚socketã€ç®¡é“ï¼Œè€ŒéUARTä¸²å£ï¼Œå› æ­¤ï¼Œå¯¹åº”çš„ttyè®¾å¤‡ä¹Ÿä¸ç”¨ç‰¹åœ°åŠ ä¸€ä¸ªâ€œSâ€ï¼Œç›´æ¥ç”¨&lt;code>/dev/ttyX&lt;/code>å³å¯&lt;/strong>ã€‚&lt;/p>
&lt;p>åŸºäºè½¯ä»¶å®ç°çš„è™šæ‹Ÿç»ˆç«¯æ•°é‡ä¸å†å—åˆ°ç‰©ç†ç¡¬ä»¶çš„é™åˆ¶ï¼Œç³»ç»Ÿå¯ä»¥å¼€å¯å¤šä¸ªè¿›ç¨‹æ¥è¡¨ç¤ºå¤šä¸ªè™šæ‹Ÿç»ˆç«¯ï¼ŒLinuxç³»ç»Ÿä¸­å¯ä»¥é€šè¿‡&lt;code>ctrl+alt+F1~F6&lt;/code>åˆ‡æ¢çš„tty1-tty6ï¼ˆ&lt;code>/dev/tty1~/dev/tty6&lt;/code>ï¼‰å…­ä¸ªç»ˆç«¯å°±æ˜¯è¿™ä¸ªæ—¶æœŸå†å²é—ç•™çš„äº§ç‰©ï¼ˆåœ¨å…·æœ‰æ¡Œé¢ç¯å¢ƒçš„Linuxå‘è¡Œç‰ˆä¸­ï¼ŒX Window Systemyä¸€èˆ¬åœ¨/dev/tty7ä¸Šè¿è¡Œï¼Œä¹Ÿæœ‰æŠŠæ¡Œé¢ç»ˆç«¯æ”¾åœ¨tty1å’Œtty2çš„æ¯”å¦‚Ubuntuï¼Œä¾å„Linuxå‘è¡Œç‰ˆè‡ªå·±å†³å®šï¼‰ã€‚è™šæ‹Ÿç»ˆç«¯èƒ½å¤Ÿæ˜¾ç¤ºçš„å­—ç¬¦è¡Œåˆ—æ•°ç”±å…¶æ¨¡æ‹Ÿçš„ç»ˆç«¯å‹å·å†³å®šï¼Œå¹¶ä¸”å¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½åˆ‡æ¢ï¼Œä¸‹å›¾å³ä¸ºæ–‡æœ¬æ¨¡å¼çš„è™šæ‹Ÿç»ˆç«¯ï¼Œé»˜è®¤æ¨¡æ‹Ÿçš„ç»ˆç«¯ç±»å‹ä¸ºlinuxã€‚&lt;/p>
&lt;p>&lt;img src="../../images/terminal_text_mode.png" alt="terminal_text_mode">&lt;/p>
&lt;p>ç”±äºè™šæ‹Ÿç»ˆç«¯æ˜¯äº¤äº’çš„ä¸»æµæ–¹å¼ä¹‹ä¸€ï¼ŒLinux/Unixåˆšå¼€å§‹å¤„äºæ€§èƒ½å’Œé€šç”¨æ€§äº†è€ƒè™‘ï¼Œéƒ½æ˜¯åœ¨å†…æ ¸ä¸­å®ç°äº†ç»ˆç«¯æ¨¡æ‹Ÿå™¨ï¼Œä½†æ˜¯å½“æˆ‘ä»¬éœ€è¦ç»ˆç«¯æ¨¡æ‹Ÿå™¨æœ‰æ›´çµæ´»çš„åŠŸèƒ½è€Œåˆä¸æƒ³ä¹±åŠ¨å†…æ ¸æ—¶ï¼ˆå†…æ ¸ä¸€ä¸ªè¿›ç¨‹å´©æºƒå®¹æ˜“å¯¼è‡´å…¶ä»–è¿›ç¨‹çš„è¿é”å´©æºƒï¼‰ï¼Œå¦‚æœæˆ‘ä»¬è®©ç»ˆç«¯æ¨¡æ‹Ÿç¨‹åºè¿è¡Œåœ¨ç”¨æˆ·åŒºï¼Œå°±éœ€è¦&lt;strong>ä¼ªç»ˆç«¯&lt;/strong>ï¼ˆpseudoterminalæˆ–pseudotty, PTYï¼‰ã€‚ä¼ªç»ˆç«¯ä½œä¸ºCLIäº¤äº’æ–¹å¼çš„åèµ·ä¹‹ç§€ï¼Œåœ¨åæ¥ttyå­ç³»ç»Ÿä½¿ç”¨ç©ºé—´è¢«X-windowsç­‰è§†çª—ç³»ç»Ÿä¸æ–­æŒ¤å‹ä¹‹æ—¶ï¼Œæˆä¸ºåšå®ˆCLIçš„åšå®åŸå¢™ã€‚&lt;/p>
&lt;h2 id="å›¾å½¢åŒ–å´›èµ·linuxä»æ–‡æœ¬è¿ˆå‘å›¾åƒ">å›¾å½¢åŒ–å´›èµ·â€”â€”Linuxä»æ–‡æœ¬è¿ˆå‘å›¾åƒ&lt;/h2>
&lt;p>20ä¸–çºª80å¹´ä»£æœ«ï¼Œè®¡ç®—æœºæ˜¾ç¤ºå™¨å·²ç»é€æ¸ä»å­—ç¬¦æ˜¾ç¤ºè®¾å¤‡è½¬å˜æˆäº†åƒç´ æ˜¾ç¤ºè®¾å¤‡ï¼Œå®ƒä»¬ä¸å†åªèƒ½æ˜¾ç¤ºé”®ç›˜ä¸Šå­—ç¬¦å†…å®¹ï¼Œä¹Ÿä¸å†å—åˆ°UARTä¼ è¾“èƒ½åŠ›çš„é™åˆ¶ï¼Œè€Œæ˜¯åƒç”µè§†æœºä¸€æ ·èƒ½å¤Ÿæ˜¾ç¤ºå„ç§å„æ ·çš„å¤šåª’ä½“å†…å®¹ï¼Œæ˜¾ç¤ºé«˜æ¸…åŒ–ï¼Œæ¥å£ä¹Ÿå‘å±•å‡ºHDMIã€DVIç­‰æ›´é«˜é€Ÿæ¥å£ã€‚äºæ˜¯è®¡ç®—æœºå¼€å§‹è¢«è¿ç”¨åˆ°è¶Šæ¥è¶Šå¤šçš„é¢†åŸŸï¼Œé™¤äº†ä¼ ç»Ÿçš„ç§‘å­¦è®¡ç®—ä¸ä¿¡æ¯é€šä¿¡ï¼Œå›¾åƒã€è§†é¢‘ã€3Dã€è®¾è®¡ã€æ¸¸æˆç­‰å¤šåª’ä½“å†…å®¹ä¹Ÿå¼€å§‹è¿ç”¨è®¡ç®—æœºæ¥å¼€å±•å·¥ä½œï¼›æ­¤å¤–ï¼Œå‘½ä»¤è¡Œä¸ºä¸»çš„CLIå¯¹äºå¾ˆå¤šä¸ç†Ÿæ‚‰è®¡ç®—æœºçš„ä»ä¸šäººå‘˜è€Œè¨€ï¼Œå­¦ä¹ æˆæœ¬å¾ˆé«˜ï¼Œä¹Ÿä¸èƒ½ç›´è§‚çš„ç†è§£æ“ä½œçš„æµç¨‹å’Œæ„ä¹‰ï¼Œè¿™å¯¼è‡´PCç”µè„‘åœ¨å¾ˆé•¿æ—¶é—´éƒ½æ˜¯ä¸“ä¸šäººå£«ä½¿ç”¨çš„å·¥å…·ã€‚è®¡ç®—æœºæ½œåœ¨çš„å•†ä¸šä»·å€¼å’Œéš¾ç”¨è€Œä¸æ™®åŠçš„çŸ›ç›¾ï¼Œè®©å¾ˆå¤šå•†ä¸šå…¬å¸çœ‹åˆ°äº†å·¨å¤§çš„åˆ©æ¶¦ï¼Œèƒ½è§£å†³è¿™ä¸ªçŸ›ç›¾çš„å…¬å¸ï¼Œæ¯”å¦‚å¾®è½¯ã€è‹¹æœï¼Œéƒ½æˆä¸ºäº†è¿™ä¸ªä¸–ç•Œä¸Šæœ€æŒ£é’±çš„å…¬å¸ä¹‹ä¸€ã€‚&lt;/p>
&lt;p>ä¸ºäº†èƒ½è®©äººä»¬ï¼Œæ›´æ–¹ä¾¿ã€ç›´è§‚åœ°æ“ä½œè®¡ç®—æœºï¼Œç ”ç©¶äººå‘˜å¼€å§‹ä¸ºç¨‹åºæä¾›å›¾å½¢åŒ–äº¤äº’ç•Œé¢ï¼Œç”¨æˆ·åªè¦é€šè¿‡ç§»åŠ¨å…‰æ ‡ã€ç‚¹å‡»æŒ‰é’®ã€åœ¨ç‰¹å®šä½ç½®è¾“å…¥å†…å®¹å°±èƒ½å¾ˆå®¹æ˜“åœ°æ“ä½œç¨‹åºã€‚PCæœºä¸Šçš„ç¬¬ä¸€ä¸ªå›¾å½¢ç•Œé¢â€”â€”Xerox Alto(å¹¶æœªå•†ç”¨ï¼Œä¸»è¦ç”¨äºç ”ç©¶å’Œå¤§å­¦)ï¼Œå…¶äº1973å¹´è¢«æ–½ä¹å…¬å¸Xerox Palo Alto Research Center (PARC)æ‰€è®¾è®¡ï¼Œä»æ­¤ï¼Œå¼€å¯äº†è®¡ç®—æœºå›¾å½¢ç•Œé¢çš„æ–°çºªå…ƒï¼Œ20ä¸–çºª80æœ«è‡³90å¹´ä»£åˆï¼Œå›¾å½¢åŒ–ç•Œé¢è®¾è®¡ç»å†äº†ä¼—å¤šå˜è¿ï¼Œè™½ç„¶è·ç¦»å®Œå–„çš„å›¾å½¢åŒ–æ“ä½œç³»ç»Ÿï¼ˆGraphical User Interfaceï¼‰è¿˜æœ‰è·ç¦»ï¼Œä½†æ˜¯åˆå…·é›å½¢çš„OS/2ï¼ŒAmiga Workbenchï¼ŒWindows 1.0-3.0è¿˜æ˜¯å—åˆ°çš„å¤§ä¼—çš„çƒ­çƒˆæ¬¢è¿ã€‚&lt;/p>
&lt;p>å›¾å½¢åŒ–ç•Œé¢æœ¬è´¨ä¸Šä¹Ÿæ˜¯shellçš„ä¸€ç§ï¼Œåªæ˜¯å…¶å¤æ‚ç¨‹åº¦æ¯”åŸºäºå‘½ä»¤è¡Œçš„Bashï¼ŒTcshé«˜å¾—å¤šï¼Œéœ€è¦å›¾å½¢å­¦ã€ä¼˜åŒ–ç†è®ºã€äººä½“å·¥ç¨‹å­¦ã€UIè®¾è®¡ç­‰ä¸€ç³»åˆ—çŸ¥è¯†ï¼Œè¿˜éœ€è¦æ›´åŠ ç²¾ç»†çš„å†…å­˜ç®¡ç†ã€æ›´åŠ å¤æ‚çš„è¿›ç¨‹é€šä¿¡æœºåˆ¶ã€æ›´åŠ äººæ€§åŒ–çš„äº¤äº’è®¾è®¡ã€‚è€Œåœ¨ä¼ ç»Ÿè®¡ç®—æœºã€ç½‘ç»œé¢†åŸŸï¼Œç¨‹åºå‘˜å¯¹åŸºäºå‘½ä»¤è¡Œçš„Shellè¡¨ç°çš„å·²ç»è¶³å¤Ÿæ»¡è¶³äº†ï¼Œä¸”Linuxåœ¨å‘å¸ƒä¹‹åä¸€ç›´éƒ½ä»¥è‡ªç”±å…è´¹è½¯ä»¶ç§°è‘—ï¼Œä¸»è¦é ç¤¾åŒºå¼€å‘è€…â€œç”¨çˆ±å‘ç”µâ€ï¼Œç¼ºä¹å•†ä¸šæ¿€åŠ±å’Œå›¾å½¢åŒ–ç¨‹åºç¹é‡çš„å·¥ä½œé‡ï¼Œè®©Linuxç³»ç»Ÿå›¾å½¢åŒ–äº¤äº’ç•Œé¢çš„å‘å±•æ¯”å•†ä¸šå…¬å¸ç¡®å®æ…¢äº†ä¸å°‘ã€‚&lt;/p>
&lt;p>ä¸ºäº†å®ç°å›¾åƒé¢†åŸŸçš„åº”ç”¨ï¼ŒLinuxè¿˜æ˜¯å¯¹CLIåšäº†å¾ˆå¤šæ”¹è¿›ï¼Œç¬¬ä¸€ä¸ªå°±æ˜¯èƒ½è®©å›¾ç‰‡ã€pdfæ–‡æ¡£ã€è§†é¢‘èƒ½å¤Ÿåœ¨CLIç•Œé¢ä¸­æ˜¾ç¤ºã€å¤„ç†ã€‚å¤šåª’ä½“æ–‡ä»¶å’Œæ–‡æœ¬ç±»æ–‡ä»¶æœ‰ç€æœ¬è´¨çš„åŒºåˆ«ï¼Œæ— æ³•ç”¨æŸä¸€å­—ç¬¦é›†å»æè¿°å¤šåª’ä½“æ–‡ä»¶ï¼Œç¨‹åºéƒ½æ˜¯é€šè¿‡åƒç´ ç‚¹çš„æ–¹å¼ï¼Œæ‹¼å‡ºå¤šåª’ä½“æ–‡ä»¶ã€‚é€šå¸¸æ˜¾ç¤ºä¸€å¹…å›¾ç‰‡ï¼Œå…¶æ•°æ®åˆ†ä¸ºåƒç´ æ•°å’Œé¢œè‰²ä½æ•°ä¸¤éƒ¨åˆ†ã€‚å¦‚æœä½¿ç”¨æœ€å®¹æ˜“ç†è§£çš„RGBæè¿°æ–¹æ³•ï¼Œä¸€å¹…å›¾ç”»çš„ä¸€ä¸ªåƒç´ ç‚¹éœ€è¦ä¸€ä¸ªä¸‰å…ƒç»„ï¼ˆRï¼ŒGï¼ŒBï¼‰æ¥æè¿°ï¼Œå³çº¢è‰²æˆåˆ†Rï¼Œç»¿è‰²æˆåˆ†Gå’Œè“è‰²æˆåˆ†Bï¼Œæ¯ç§æˆåˆ†éƒ½ç”±1å­—èŠ‚ï¼ˆ8bitsï¼‰æ¥ç»†åˆ†ã€‚å› æ­¤ä¸€ä¸ªåŸå§‹æœªç»å‹ç¼©çš„å›¾åƒæ•°æ®=å®½åƒç´ æ•°Xé«˜åƒç´ æ•°X3å­—èŠ‚ã€‚é¢å¯¹å¤„ç†å›¾åƒæ‰€å¸¦æ¥çš„æŒ‘æˆ˜ï¼ŒLinuxåœ¨2.1.109 kernelæ­£å¼å¼•å…¥äº†å¸§ç¼“å†²åŒº(frambe buffer, fb)ã€‚æœ€åˆå®ƒå®ç°æ˜¯ä¸ºäº†å…è®¸å†…æ ¸åœ¨æ²¡æœ‰æ–‡æœ¬æ¨¡å¼æ˜¾ç¤ºçš„Apple Macintoshç­‰ç³»ç»Ÿä¸Šæ¨¡æ‹Ÿæ–‡æœ¬æ§åˆ¶å°ï¼Œåˆ°åæ¥ç”šè‡³å‘å±•å‡ºäº†ä¸€ä¸ªåœ¨å†…æ ¸ç©ºé—´ä¸­å®ç°çš„ç§°ä¸ºFramebufferUI (fbui)çš„çª—å£ç³»ç»Ÿï¼Œå®ƒæä¾›äº†åŸºæœ¬çš„ 2D çª—å£ä½“éªŒï¼Œå¹¶ä¸”å ç”¨çš„å†…å­˜å¾ˆå°‘ã€‚ä½¿ç”¨framebufferç³»ç»Ÿçš„ç»“æ„å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p>
&lt;p>&lt;img src="../../images/virtual-terminal-pixel-mode.drawio.svg" alt="è™šæ‹Ÿç»ˆç«¯åƒç´ æ¨¡å¼">&lt;/p>
&lt;p>fbç³»ç»Ÿèµ·åˆ°äº†æ˜¾ç¤ºé©±åŠ¨çš„ä½œç”¨ï¼Œå¯ä»¥ä»£æ›¿ä¼ ç»Ÿçš„VGA driverï¼Œå®ƒåœ¨å†…å­˜ä¸­å¼€è¾Ÿä¸€ç‰‡åŒºåŸŸä½œä¸ºæ˜¾å­˜ï¼Œå…¶å†…å®¹å¯¹åº”äºå±å¹•ä¸Šçš„ç•Œé¢æ˜¾ç¤ºï¼Œå¯ä»¥å°†å…¶ç®€å•ç†è§£ä¸ºå±å¹•ä¸Šæ˜¾ç¤ºå†…å®¹å¯¹åº”çš„ç¼“å­˜ï¼Œä¿®æ”¹Framebufferä¸­çš„å†…å®¹ï¼Œå³è¡¨ç¤ºä¿®æ”¹å±å¹•ä¸Šçš„å†…å®¹ï¼Œæ‰€ä»¥ï¼Œç›´æ¥æ“ä½œFramebufferå¯ä»¥ç›´æ¥ä»æ˜¾ç¤ºå™¨ä¸Šè§‚å¯Ÿåˆ°æ•ˆæœã€‚ä½†Framebufferå¹¶ä¸æ˜¯å±å¹•å†…å®¹çš„ç›´æ¥çš„åƒç´ è¡¨ç¤ºã€‚Framebufferå®é™…ä¸ŠåŒ…å«äº†å‡ ä¸ªä¸åŒä½œç”¨çš„ç¼“å­˜ï¼Œæ¯”å¦‚é¢œè‰²ç¼“å­˜ã€æ·±åº¦ç¼“å­˜ç­‰ï¼Œå› æ­¤æ— æ³•åƒæŸ¥çœ‹virtual console screenä¸€æ ·æŸ¥çœ‹framebufferé‡Œé¢çš„å†…å®¹ã€‚&lt;/p>
&lt;p>Linuxä¸­ç”¨è®¾å¤‡&lt;code>/dev/fbX&lt;/code>æŒ‡å‘è¿™æ®µå†…å­˜ï¼Œå…¶ä¸­â€œXâ€ä»£è¡¨ä¸€ä¸ªæ•°å­—ã€‚fbè®¾å¤‡æ˜¯Linuxä¸ºæ˜¾ç¤ºè®¾å¤‡æä¾›çš„ä¸€ä¸ªæ¥å£ï¼ŒæŠŠæ˜¾å­˜æŠ½è±¡åçš„ä¸€ç§è®¾å¤‡ï¼Œä»–å…è®¸ä¸Šå±‚åº”ç”¨ç¨‹åºåœ¨å›¾å½¢æ¨¡å¼ä¸‹ç›´æ¥å¯¹æ˜¾ç¤ºç¼“å†²åŒºè¿›è¡Œè¯»å†™æ“ä½œã€‚è¿™ç§æ“ä½œæ˜¯æŠ½è±¡çš„ï¼Œç»Ÿä¸€çš„ï¼Œç”¨æˆ·ä¸å¿…å…³å¿ƒç‰©ç†æ˜¾å­˜çš„ä½ç½®ã€æ¢é¡µæœºåˆ¶ç­‰ç­‰å…·ä½“ç»†èŠ‚ã€‚ç‰©ç†å®ä½“ç›¸å…³çš„ç»†èŠ‚éƒ½æ˜¯ç”±Framebufferè®¾å¤‡é©±åŠ¨æ¥å®Œæˆçš„ã€‚&lt;/p>
&lt;p>ç›¸åº”åœ°ï¼Œä½¿ç”¨framebufferçš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨å«åš&lt;strong>å¸§ç¼“å†²åŒºæ§åˆ¶å°(framebuffer console, fbcon)&lt;/strong>ï¼Œå®ƒåœ¨å…·æœ‰VGA consoleå…¨éƒ¨æ–‡æœ¬æ¨¡å¼åŠŸèƒ½çš„åŸºç¡€ä¸Šï¼Œ&lt;strong>å¢åŠ äº†å¯¹å›¾å½¢ç‰¹æ€§çš„æ”¯æŒ&lt;/strong>ã€‚fbconæ”¯æŒé«˜åˆ†è¾¨ç‡ã€ä¸åŒå­—ä½“ç±»å‹ã€æ˜¾ç¤ºæ—‹è½¬ã€ä»¥åŠåº•å±‚æ˜¾å¡èƒ½å¤Ÿå®ç°çš„å¤§å¤šæ•°åŠŸèƒ½ã€‚åœ¨x86æ¶æ„ä¸­ï¼Œç”±äºå­˜åœ¨å…¶ä»–æ›´é«˜æ•ˆçš„å›¾å½¢åŒ–æœºåˆ¶ï¼Œfbconæ˜¯å¯é€‰çš„ï¼Œæœ‰äº›äººç”šè‡³æŠŠå®ƒå½“ä½œç©å…·ã€‚å¯¹äºå…¶ä»–æ¶æ„ï¼Œå®ƒæ˜¯å”¯ä¸€å¯ç”¨çš„æ–‡æœ¬æˆ–å›¾å½¢æ˜¾ç¤ºè®¾å¤‡ï¼Œä¾‹å¦‚åœ¨åŸºäºå…‰ç›˜æˆ–USBé—ªå­˜ç›˜å¯åŠ¨çš„GNU/Linuxç³»ç»Ÿï¼ŒKNOPPIXï¼Œä¸ºäº†ä¿è¯å¯¹ä¸åŒç¡¬ä»¶æ¶æ„çš„æ”¯æŒå°±æ˜¯ç”¨å†…æ ¸å¿…å¤‡çš„framebufferä½œä¸ºæ˜¾ç¤ºé©±åŠ¨ï¼Œé€šå¸¸ä½¿ç”¨framebufferçš„CLIç»ˆç«¯ï¼Œéƒ½ä¼šåœ¨å¯åŠ¨æ—¶æ”¾ä¸€ä¸ªLinuxå‰ç¥¥ç‰©Tuxçš„å›¾åƒæ ‡å¿—ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p>
&lt;p>&lt;img src="../../images/fbcon_KNOPPIX.png" alt="fbcon_KNOPPIX.png">&lt;/p>
&lt;p>æ­¤å¤–ï¼Œå¾ˆå¤šç¬¬ä¸‰æ–¹åº”ç”¨ä¹Ÿç›´æ¥ä½¿ç”¨framebufferåœ¨å†…å­˜ä¸­çš„å†…å®¹æ¥æ˜¾ç¤ºå¤šåª’ä½“æ–‡ä»¶ï¼Œå°¤å…¶åœ¨åµŒå…¥å¼Linuxå¸¸è§ï¼Œä¸€äº›å¸¸è§çš„ç¬¬ä¸‰æ–¹åº”ç”¨å¦‚æ˜¾ç¤ºå›¾ç‰‡çš„fbiï¼Œæ˜¾ç¤ºpdfçš„fbgsï¼Œæ’­æ”¾è§†é¢‘çš„mplayerç­‰ç­‰ï¼Œä¸‹å›¾ä¸­æˆ‘ä»¬åˆ†åˆ«ä¸¾ä¾‹ä½¿ç”¨fbiå’Œfgbsæ¥æ˜¾ç¤ºå¤šåª’ä½“å†…å®¹ï¼š&lt;/p>
&lt;p>&lt;img src="../../images/fbconsole.png" alt="fbcon">&lt;/p>
&lt;p>é™¤äº†framebufferï¼ŒLinuxè¿˜æœ‰å…¶ä»–æ”¯æŒå›¾å½¢åŒ–çš„æœºåˆ¶ï¼Œå¦‚DMAï¼Œä¸“ä¸šæ˜¾å¡é©±åŠ¨ç­‰ã€‚è¿™äº›å†…å®¹è¶…å‡ºäº†æœ¬æ–‡é˜è¿°çš„èŒƒå›´ï¼Œå¦‚æœæœ‰æƒ³è¯¦ç»†äº†è§£çš„è¯»è€…ï¼Œæˆ‘æ¨èä¸€ä¸ªLinuxå›¾å½¢åŒ–ç³»ç»Ÿä»‹ç»çš„Youtubeè§†é¢‘ï¼Œä»ç¡¬ä»¶åˆ°è½¯ä»¶éƒ½æœ‰ï¼Œ&lt;a href="https://www.youtube.com/watch?v=wjAJmqwg47k">An Overview of the Linux and Userspace Graphics Stack , Paul Kocialkowski&lt;/a>ï¼Œæœ‰æ¡ä»¶çš„å»ºè®®çœ‹çœ‹ã€‚&lt;/p>
&lt;p>ç¬¬äºŒä¸ªæ”¹å˜åˆ™æ›´å½»åº•ï¼Œå°±æ˜¯ä¹Ÿæƒ³å•†ä¸šå…¬å¸ä¸€æ ·ï¼Œæä¾›å›¾å½¢åŒ–äº¤äº’ç•Œé¢ã€‚Linuxä¸Šçš„ç¬¬ä¸€ä¸ªâ€œæ¡Œé¢â€è¿˜ä¸æ˜¯æ¡Œé¢ã€‚ç›¸åï¼Œå®ƒä»¬æ˜¯è¿è¡Œåœ¨Xçª—å£ç³»ç»Ÿä¸Šçš„â€œçª—å£ç®¡ç†å™¨window managerï¼ˆWMï¼‰â€ã€‚&lt;/p>
&lt;p>è¿™é‡Œå‡ºç°äº†ä¸¤ä¸ªå…³é”®è¯ã€‚ç¬¬ä¸€ä¸ªå…³é”®è¯ï¼šXçª—å£ç³»ç»Ÿï¼ˆX Window Systemï¼Œä¹Ÿå¸¸ç§°ä¸ºX11æˆ–Xï¼Œå¤©çª—å£ç³»ç»Ÿï¼‰æ˜¯ä¸€ç§ä»¥ä½å›¾æ–¹å¼æ˜¾ç¤ºçš„è½¯ä»¶çª—å£ç³»ç»Ÿã€‚æœ€åˆæ˜¯1984å¹´éº»çœç†å·¥å­¦é™¢çš„ç ”ç©¶ï¼Œä¹‹åå˜æˆUNIXã€ç±»UNIXï¼ˆåŒ…æ‹¬Linuxï¼‰ã€ä»¥åŠOpenVMSç­‰æ“ä½œç³»ç»Ÿæ‰€ä¸€è‡´é€‚ç”¨çš„&lt;strong>æ ‡å‡†åŒ–è½¯ä»¶å·¥å…·åŒ…åŠæ˜¾ç¤ºæ¶æ„çš„è¿ä½œåè®®&lt;/strong>ã€‚ç°åœ¨å‡ ä¹æ‰€æœ‰çš„æ“ä½œç³»ç»Ÿéƒ½èƒ½æ”¯æŒä¸ä½¿ç”¨Xã€‚æ›´é‡è¦çš„æ˜¯ï¼Œä»Šæ—¥çŸ¥åçš„æ¡Œé¢ç¯å¢ƒâ€”â€”GNOMEå’ŒKDEä¹Ÿéƒ½æ˜¯ä»¥Xçª—å£ç³»ç»Ÿä¸ºåŸºç¡€å»ºæ„æˆçš„ã€‚&lt;/p>
&lt;p>ç†è§£Xè§†çª—ç³»ç»Ÿæœ‰ä¸¤ç‚¹å¾ˆå…³é”®ï¼š&lt;/p>
&lt;ol>
&lt;li>X æ˜¯ä¸€ä¸ªâ€œè½¯ä»¶â€è€Œä¸æ˜¯ä¸€ä¸ªæ“ä½œç³»ç»Ÿï¼›&lt;/li>
&lt;li>X æ˜¯ç”¨æ¥è¿›è¡Œå›¾å½¢æ¥å£çš„æ‰§è¡Œä¸ç»˜åˆ¶ï¼›&lt;/li>
&lt;/ol>
&lt;p>Xè§†çª—ç³»ç»Ÿä»é€»è¾‘ä¸Šä¸»è¦åˆ†ä¸ºä¸‰å±‚ï¼šæœ€åº•å±‚çš„X Serverï¼ˆXæœåŠ¡å™¨ï¼‰ä¸»è¦å¤„ç†è¾“å…¥/è¾“å‡ºä¿¡æ¯å¹¶ç»´æŠ¤ç›¸å…³èµ„æºï¼Œå®ƒæ¥å—æ¥è‡ªé”®ç›˜ã€é¼ æ ‡çš„æ“ä½œå¹¶å°†å®ƒäº¤ç»™X Clientï¼ˆXå®¢æˆ·ç«¯ï¼‰ä½œå‡ºåé¦ˆï¼Œè€Œç”±X Clientä¼ æ¥çš„è¾“å‡ºä¿¡æ¯ä¹Ÿç”±å®ƒæ¥è´Ÿè´£è¾“å‡ºï¼›æœ€å¤–å±‚çš„X Clientåˆ™æä¾›ä¸€ä¸ªå®Œæ•´çš„GUIç•Œé¢ï¼Œè´Ÿè´£ä¸ç”¨æˆ·çš„ç›´æ¥äº¤äº’ï¼ˆKDEã€Gnomeç­‰æ¡Œé¢ç®¡ç†å™¨æœ¬è´¨ä¸Šéƒ½æ˜¯ä¸€ä¸ªX Clientï¼‰ï¼Œè€Œè¡”æ¥X Serverä¸X Clientçš„å°±æ˜¯X Protocol(Xé€šè®¯åè®®)ä¹Ÿç§°ä¸ºX11åè®®ï¼Œå®ƒçš„ä»»åŠ¡æ˜¯å……å½“è¿™ä¸¤è€…çš„æ²Ÿé€šç®¡é“ã€‚Xè§†çª—ç³»ç»Ÿä¸æ“ä½œç³»ç»Ÿçš„å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ˆå®Œå…¨ç‹¬ç«‹äºttyå­ç³»ç»Ÿï¼‰ï¼š&lt;/p>
&lt;p>&lt;img src="../../images/x-window-system.drawio.svg" alt="x-window-system">&lt;/p>
&lt;p>ä»äº¤äº’çš„æµç¨‹æ¥çœ‹ï¼Œæ¯å½“ç”±è¾“å…¥æ“ä½œæ”¹å˜æ¡Œé¢éƒ¨ä»¶ï¼ˆå¦‚ç‚¹å‡»é¼ æ ‡æ‹–åŠ¨çª—å£ã€å…³é—­çª—å£ç­‰ï¼‰ï¼Œè¾“å…¥è®¾å¤‡é©±åŠ¨å°±ä¼šå°†ä¿¡æ¯äº¤ç»™X serverï¼ŒX serverä¼šé€šè¿‡X11åè®®å°†åŠ¨ä½œå†…å®¹è½¬é€’ç»™ç›¸åº”çš„X clientã€‚X clientå°†ä¼šæ”¹å˜è‡ªèº«çŠ¶æ€å¹¶å‘X serverå‘å‡ºä¸€ä¸ªé‡æ–°ç»˜ç”»ã€æ¸²æŸ“çš„è¯·æ±‚ï¼›X serverä½¿ç”¨å›¾å½¢æ¸²æŸ“æœºåˆ¶ï¼ˆå¦‚DDXï¼‰å®Œæˆå›¾åƒçš„è®¡ç®—ï¼Œäº¤ç»™Compositorç»˜åˆ¶å…·ä½“çš„å›¾åƒå†…å®¹ã€‚X serverå°†ç»˜åˆ¶å¥½çš„å›¾åƒä¿¡æ¯ä»Compositorçš„ç¼“å†²åŒºæ›´æ–°åˆ°æ˜¾ç¤ºé©±åŠ¨çš„ç¼“å†²åŒºï¼Œæœ€ç»ˆåœ¨æ˜¾ç¤ºå™¨ä¸Šå‡ºç°æ–°çš„å†…å®¹ã€‚&lt;/p>
&lt;p>ä»ç³»ç»Ÿæ¶æ„æ¥çœ‹ï¼Œç”±äºXè§†çª—ç³»ç»Ÿä»åˆšå¼€å§‹é˜¶æ®µå°±æ˜¯ç‹¬ç«‹äºæ“ä½œç³»ç»Ÿè®¾è®¡çš„ï¼Œå› æ­¤å¯¹äºLinuxè€Œè¨€ï¼ŒXè§†çª—ç³»ç»Ÿä¹Ÿåªç®—ä¸ªæ™®é€šè½¯ä»¶ï¼Œå·¥ä½œåœ¨ç”¨æˆ·åŒºã€‚X serverä½œä¸ºå›¾å½¢ç•Œé¢çš„æ ¸å¿ƒè´Ÿè´£ä¸Linuxå†…æ ¸äº¤äº’ï¼Œè¿™ç§ç”¨æˆ·åŒºå·¥ä½œçš„æ¨¡å¼è™½ç„¶é™ä½äº†æ€§èƒ½ï¼Œä½†æ˜¯å¢åŠ ç³»ç»Ÿçš„ç¨³å®šæ€§ã€‚åœ¨å›¾å½¢åŒ–ç•Œé¢åˆæœŸï¼Œç”±äºå…¶å¤æ‚çš„è®¾è®¡æ¨¡å¼å’Œå¼€å‘äººå‘˜ç»éªŒä¸å¤Ÿä¸°å¯Œï¼Œå›¾å½¢äº¤äº’ç•Œé¢çš„BUGå±‚å‡ºä¸ç©·ï¼Œåƒwindowsæ—©æœŸç³»ç»Ÿä»¥å›¾å½¢åŒ–ä¸ºæ ¸å¿ƒçš„æ“ä½œç³»ç»Ÿï¼Œå‡ºBUGå¯¼è‡´æ•´ä¸ªç³»ç»Ÿå´©æºƒã€è“å±çš„ç°è±¡å¹¶ä¸ç½•è§ã€‚X serverä½œä¸ºç”¨æˆ·åŒºè¿›ç¨‹ï¼Œå³ä½¿å´©æºƒäº†ä¹Ÿåªæ˜¯é€ æˆX clientçš„å…³é—­ï¼Œä¸ä¼šå½±å“Linuxå†…æ ¸çš„è¿è¡Œï¼Œè¿™ä¹Ÿæ˜¯Linuxä¸€ç›´ä»¥ç¨³å®šæ€§ç§°è‘—çš„åŸå› ä¹‹ä¸€ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬åœ¨X windowç³»ç»Ÿä¸­ï¼Œä¹Ÿæ ‡å‡ºäº†ç¬¬äºŒä¸ªå…³é”®è¯ï¼šçª—å£ç®¡ç†å™¨window managerã€‚å®ƒæ˜¯ä¸ºäº†æ–¹ä¾¿Xå›¾å½¢ç¯å¢ƒä½¿ç”¨çš„ä¸€ç§ç‰¹æ®ŠX clientï¼Œå…¶ä½œç”¨å°±æ˜¯æ¥ç®¡ç†å…¶ä»–æ‰€æœ‰çª—å£ã€‚çª—å£ç®¡ç†å™¨ä¹Ÿæ˜¯å›¾å½¢åŒ–æ“ä½œç³»ç»Ÿçš„é›å½¢ã€‚&lt;/p>
&lt;p>å½“æˆ‘ä»¬è¿è¡Œ&lt;code>xterm&lt;/code>æˆ–&lt;code>xclock&lt;/code>ä¹‹ç±»çš„å›¾å½¢åŒ–ç¨‹åºï¼ŒX clientç¨‹åºå°±ä¼šåœ¨ä¸€ä¸ªçª—å£ä¸­æ‰“å¼€è¯¥ç¨‹åºã€‚çª—å£ç®¡ç†å™¨å¯ä»¥è·Ÿè¸ªçª—å£å¹¶è¿›è¡ŒåŸºæœ¬çš„å†…éƒ¨ç®¡ç†ï¼Œä¾‹å¦‚è®©ä½ å¯ä»¥æ¥å›ç§»åŠ¨çª—å£å¹¶å°†å…¶æœ€å°åŒ–ã€‚å…¶ä½™çš„äº‹æƒ…å–å†³äºä½ è‡ªå·±ã€‚ä½ å¯ä»¥é€šè¿‡å°†ç¨‹åºååˆ—åœ¨&lt;code>~/.xinitrc&lt;/code>æ–‡ä»¶ä¸­ä»¥åœ¨ X å¼€å§‹æ—¶å¯åŠ¨è¿™äº›ç¨‹åºï¼Œä½†æ˜¯é€šå¸¸ï¼Œä½ ä¼šä»&lt;code>xterm&lt;/code>ä¸­è¿è¡Œæ–°ç¨‹åºã€‚&lt;/p>
&lt;p>åœ¨1993å¹´ï¼Œæœ€å¸¸è§çš„çª—å£ç®¡ç†å™¨æ˜¯TWMã€‚TWMç›¸å½“ç®€å•ï¼Œä»…ä»…æä¾›äº†åŸºæœ¬çš„çª—å£ç®¡ç†åŠŸèƒ½ã€‚å…¶æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p>
&lt;p>&lt;img src="../../images/TWM.png" alt="TWM">&lt;/p>
&lt;p>å›¾ä¸­çš„ä¸‰ä¸ªçª—å£åˆ†åˆ«æ˜¯&lt;code>xterm&lt;/code>ã€&lt;code>xclock&lt;/code>ä»¥åŠ&lt;code>EMacs&lt;/code>ã€‚å®ƒä»¬æ˜¯ä¸‰ä¸ªç‹¬ç«‹çš„çª—å£ï¼Œä¹‹é—´æ— æ³•ç›¸äº’äº¤äº’ã€‚é»˜è®¤çš„Xè§†çª—ç³»ç»Ÿè¿è¡Œåœ¨&lt;code>tty7&lt;/code>ã€‚&lt;/p>
&lt;p>è™½ç„¶ï¼ŒLinuxåæ¥ä¹Ÿå‘å±•å‡ºäº†FVWM95å’Œå…¶ä»–çª—å£ç®¡ç†å™¨ï¼Œä½†æ ¸å¿ƒé—®é¢˜ä»ç„¶å­˜åœ¨ï¼šå®ƒä»¬å¹¶ä¸æ˜¯çœŸæ­£çš„æ¡Œé¢ã€‚å®ƒåªæ˜¯èƒ½å¤Ÿç®¡ç†ä¸€å †çª—å£ç®¡ç†å™¨ï¼Œä»…æ­¤è€Œå·²ã€‚ä½¿ç”¨å›¾å½¢ç”¨æˆ·ç•Œé¢çš„Linuxåº”ç”¨ç¨‹åºï¼ˆåŸºæœ¬ä¸Šæ„å‘³ç€å®ƒä»¬æ˜¯Xåº”ç”¨ç¨‹åºï¼‰çœ‹èµ·æ¥å½¢æ€å„å¼‚ä¸”å·¥ä½œæ–¹å¼ä¹Ÿä¸åŒã€‚é™¤äº†æœ‰äº›Xçª—å£ç³»ç»Ÿæä¾›çš„ç®€å•çš„â€œçº¯æ–‡æœ¬â€å¤åˆ¶/ç²˜è´´åŠŸèƒ½å¤–ï¼Œä½ ä¸èƒ½ä»ä¸€ä¸ªåº”ç”¨ç¨‹åºå¤åˆ¶å’Œç²˜è´´åˆ°å¦ä¸€ä¸ªåº”ç”¨ç¨‹åºé‡Œã€‚LinuxçœŸæ­£éœ€è¦çš„æ˜¯åœ¨å…¶å›¾å½¢ç”¨æˆ·ç•Œé¢ä¸­è¿›è¡Œå½»åº•çš„é‡æ–°æ‰“é€ ï¼Œä»¥åˆ›å»ºå®ƒçš„ç¬¬ä¸€ä¸ªæ¡Œé¢ã€‚&lt;/p>
&lt;h2 id="desktopé—®é¼">Desktopé—®é¼&lt;/h2>
&lt;p>è‡ªè¯ç”Ÿä»¥æ¥ï¼ŒLinuxéƒ½è¢«æ™®éè®¤ä¸ºæ˜¯ä»¥å‘½ä»¤è¡Œï¼ˆCLIï¼‰äº¤äº’ä¸ºä¸»çš„æ“ä½œç³»ç»Ÿï¼Œå¤§éƒ¨åˆ†æ˜¯å› ä¸ºLinux/UNIXçš„ttyå­ç³»ç»Ÿåœ¨ç»ˆç«¯è®¾å¤‡å˜é©çš„å¤§æ½®ä¸­æ—¥ä¹…å¼¥åšï¼Œå³ä½¿ç»å†äº†ä¸å°‘æ”¹é€ ï¼ŒåŠ¨äº†æ ¹æœ¬çš„æ”¹å˜æ˜¯åŸºæœ¬æ²¡æœ‰çš„ã€‚è™½ç„¶ï¼Œæ­¤æ—¶çš„Linuxç³»ç»Ÿå·²ç»èƒ½å¤Ÿä»¥å›¾å½¢åŒ–ç•Œé¢çš„æ–¹å¼æä¾›ä¸€éƒ¨åˆ†ç¨‹åºçš„äº¤äº’ï¼Œä½†æ˜¯æœ€å¤§çš„é—®é¢˜è¿˜æ²¡æœ‰è§£å†³ï¼š&lt;strong>ä¸å¥½ç”¨&lt;/strong>ã€‚&lt;/p>
&lt;p>åœ¨1995å¹´ï¼Œå¾®è½¯å…¬å¸å‘å¸ƒçš„Windows 95å¯¹Windows 3.xè¿›è¡Œé‡æ–°è®¾è®¡ï¼Œæ•´ä¸ªGUIç„•ç„¶ä¸€äº›ï¼Œè®¸å¤šç»å…¸è®¾è®¡æ²¿ç”¨è‡³ä»Šï¼Œä¾‹å¦‚åœ¨æ¯ä¸ªçª—å£ä¸ŠåŠ ä¸Šäº†å…³é—­æŒ‰é’®ï¼Œä¹Ÿæ˜¯æœ€è‘—åçš„â€œå¼€å§‹â€æŒ‰é’®ç¬¬ä¸€æ¬¡å‡ºç°ã€‚Windows 95ç³»ç»Ÿä¸€ç»æ¨å‡ºå°±å—åˆ°äº†å¸‚åœºå’Œç ”ç©¶ç•Œçš„åŒé‡èµèª‰ï¼Œå«å¥½ä¹Ÿå«åº§ã€‚è¿™æ˜¯Microsoftå†å²ä¸Šæœ€å¤§çš„ä¸€æ­¥ï¼Œä»æ­¤èµ°ä¸Šäº†å¸å›½ä¹‹è·¯ã€‚&lt;/p>
&lt;p>ç„¶è€Œï¼ŒWindows 95çš„ä»·æ ¼ä¹Ÿååˆ†ç¾ä¸½ï¼Œ$209.95çš„å”®ä»·ä¹Ÿè®©å¾ˆå¤šæƒ³ä½¿ç”¨å›¾å½¢åŒ–æ“ä½œç³»ç»Ÿçš„ç”¨æˆ·å†ä¸‰è¸Œèº‡ã€‚å—åˆ°windows 95çš„å¯å‘ï¼Œåœ¨1996å¹´ï¼ŒMatthias Ettrich æœ‰æ„Ÿäº X windowsä¹‹ä¸‹Linuxåº”ç”¨ç¨‹åºä½“éªŒä¸ä¸€è‡´çš„å›°æ‰°ã€‚ä»–æƒ³ä½¿æ‰¾ä¸ªæ›´æ˜“äºä½¿ç”¨çš„å›¾å½¢ç¯å¢ƒï¼Œè€Œä¸”æ›´é‡è¦çš„æ˜¯ï¼Œä»–æƒ³è®©æ‰€æœ‰ä¸œè¥¿éƒ½â€œé›†æˆâ€åœ¨ä¸€èµ·ï¼Œå°±åƒWindows 95çš„æ¡Œé¢ä¸€æ ·ã€‚&lt;/p>
&lt;p>Matthiaså¼€å§‹äº†Kæ¡Œé¢ç¯å¢ƒK Desktop Environmentï¼ˆKDEï¼‰çš„å·¥ä½œã€‚é‚£ä¸ªâ€œKâ€ä»£è¡¨ç€ â€œKoolâ€ã€‚ä½†æ˜¯ KDE è¿™ä¸ªåå­—ä¹Ÿæ„å‘³ç€å¯ä»¥ç±»ä¼¼é€šç”¨æ¡Œé¢ç¯å¢ƒCommon Desktop Environmentï¼ˆCDEï¼‰çš„åšæ³•ï¼Œè€ŒCDE æ˜¯â€œå¤§ Unixâ€ä¸–ç•Œçš„æ ‡å‡†ï¼ˆå°½ç®¡åˆ°äº†1996å¹´ï¼ŒCDEå·²ç»æœ‰ç‚¹è¿‡æ—¶äº†ï¼‰ã€‚KDE 1.0äº1998å¹´7æœˆå®Œæˆï¼ŒKDEæ˜¯Linuxå‘å‰è¿ˆå‡ºçš„ä¸€å¤§æ­¥ã€‚æœ€ç»ˆï¼ŒLinuxæœ‰äº†ä¸€ä¸ªçœŸæ­£çš„æ¡Œé¢ï¼Œé›†æˆäº†åº”ç”¨ç¨‹åºå’Œæ›´å¤šç°ä»£çš„æ¡Œé¢å›¾æ ‡ã€‚KDEçš„è®¾è®¡ä¸Windows 95å¹¶æ— ä¸åŒã€‚å±å¹•åº•éƒ¨æœ‰ä¸€ä¸ªä»»åŠ¡æ ï¼Œå®ƒæä¾›äº†ç›¸å½“äºWindows 95 çš„â€œå¼€å§‹â€èœå•ä»¥åŠä¸€äº›åº”ç”¨ç¨‹åºçš„å¿«æ·é”®ï¼ŒKDEè¿˜æ”¯æŒè™šæ‹Ÿæ¡Œé¢ã€‚æ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºé€šè¿‡ä½äºå±å¹•é¡¶éƒ¨å•ç‹¬çš„ä»»åŠ¡æ çš„æŒ‰é’®è¡¨ç¤ºã€‚&lt;/p>
&lt;p>&lt;img src="../../images/KDE1.0.png" alt="KDE">&lt;/p>
&lt;p>ä»æ­¤ï¼ŒLinuxçš„å›¾åƒåŒ–ç•Œé¢å‘å±•å°±è¿›å…¥äº†å¿«è½¦é“ã€‚&lt;/p>
&lt;p>ç„¶è€Œï¼ŒKDEå¹¶ä¸èƒ½ç®—æ˜¯å®Œå…¨çš„è‡ªç”±è½¯ä»¶ï¼Œå› ä¸ºå…¶ä½¿ç”¨äº†Trolltechçš„Qtå·¥å…·å¥—ä»¶åº“ï¼Œè€ŒQtå¹¶ä¸æ˜¯ä»¥è‡ªç”±è½¯ä»¶çš„è®¸å¯è¯è¿›è¡Œåˆ†å‘çš„ã€‚é¢å¯¹è¿™ç§æƒ…å†µï¼ŒMiguel de Icazaå’ŒFederico Mena äº 1997å¹´å¼€å§‹å¼€å‘æ–°çš„Linuxæ¡Œé¢ä¸Šã€‚è¿™ä¸ªæ–°é¡¹ç›®è¢«ç§°ä¸ºGNOMEï¼Œå³GNUç½‘ç»œå¯¹è±¡æ¨¡å‹ç¯å¢ƒGNU Network Object Model Environmentçš„ç¼©å†™ã€‚GNOMEæ—¨åœ¨æˆä¸ºä¸€ä¸ªå®Œå…¨è‡ªç”±çš„è½¯ä»¶ï¼Œå¹¶ä½¿ç”¨äº†ä¸€ä¸ªä¸åŒçš„å·¥å…·å¥—ä»¶åº“â€”â€”æ¥è‡ªGIMPå›¾åƒç¼–è¾‘å™¨çš„GTKã€‚GTKä»å­—é¢ä¸Šçš„æ„æ€GIMPå·¥å…·å¥—ä»¶GIMP Tool Kitã€‚å½“GNOME 1.0ç»ˆäºåœ¨1999å¹´å‘å¸ƒæ—¶ï¼ŒLinuxåˆå¤šäº†ä¸€ä¸ªç°ä»£åŒ–çš„æ¡Œé¢ç¯å¢ƒã€‚ä½†æ˜¯GNOME 1.0çš„åšçš„ååˆ†åŒ†å¿™ï¼ŒBUGå±‚å‡ºä¸ç©·ï¼Œç”šè‡³ä¸å¦‚KDE 1.0çš„æµ‹è¯•ç‰ˆã€‚å¥½åœ¨GNOMEä¹‹åçš„ç‰ˆæœ¬æœ‰äº†å¤§é‡æ”¹è¿›ï¼Œä½¿å®ƒé€æ¸è¶‹äºç¨³å®šã€‚&lt;/p>
&lt;p>å…³äºlinuxçš„å›¾å½¢åŒ–å†ç¨‹æˆ‘æ¨èå¤§å®¶å¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç« ï¼š&lt;a href="https://linux.cn/article-12068-1.html">ã€ŠLinux æ¡Œé¢å²è¯ã€‹&lt;/a>ï¼Œå…¶çº·ç¹å¤æ‚çš„è¿‡ç¨‹è¿œè¶…è¿‡äº†æœ¬æ–‡çš„è®¨è®ºèŒƒå›´ã€‚&lt;/p>
&lt;p>å³ä½¿ï¼ŒLinuxçš„æ¡Œé¢æ“ä½œç³»ç»Ÿæœ‰äº†é•¿è¿œçš„è¿›æ­¥ï¼Œæ€»ä½“è€Œè¨€ï¼ŒLinuxçš„æ¡Œé¢ç³»ç»Ÿå’Œå¾®è½¯çš„Windowsè¿˜æ˜¯æœ‰ä¸å°‘å·®è·ï¼Œæ”¯æŒå›¾å½¢åŒ–çš„Linuxè½¯ä»¶ï¼Œåˆ™è¡¨ç°çš„æ›´ä¸å°½å¦‚äººæ„ï¼Œä¼¼ä¹Linuxçš„GUIçš„å®Œæˆåº¦ï¼Œæ€»æ˜¯è®©äººä¸‹ä¸äº†å†³å¿ƒå®Œå…¨æ‹¥æŠ±å®ƒã€‚&lt;/p>
&lt;p>ç„¶è€Œï¼ŒLinuxçš„ä¸€ä¸ªè¿œäº²ï¼ŒUnixç³»ç»Ÿçš„ä¸€ä¸ªå˜ä½“ï¼Œ2001å¹´å‘å¸ƒçš„Mac OSä¼¼ä¹è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è¿™ä¸ªå›¾å½¢åŒ–æ“ä½œç³»ç»Ÿæ˜¯å¦‚æ­¤çš„å®Œå–„ï¼Œä¼˜é›…ï¼Œä»¥è‡³äºå¤§å¤šæ•°ä½¿ç”¨Mac OSçš„äººéƒ½ä¸ä¼šæ¥è§¦å®ƒçš„CLIï¼Œå³ä½¿å®ƒçš„CLIåšçš„ä¹Ÿå¾ˆå¥½ã€‚å—åˆ°Mac OSçš„æ¿€åŠ±ï¼ŒLinuxçš„ä¸€ä¸ªæ¡Œé¢å‘è¡Œç‰ˆUbuntuä¹Ÿåœ¨2004å¹´æ­£å¼é—®ä¸–ã€‚UbuntuåŸºäºå¼€æºè‡ªç”±çš„Debianå‘è¡Œç‰ˆå’ŒGNOMEæ¡Œé¢ç¯å¢ƒï¼Œç›®æ ‡åœ¨äºä¸ºä¸€èˆ¬ç”¨æˆ·æä¾›ä¸€ä¸ªæœ€æ–°åŒæ—¶åˆç›¸å½“ç¨³å®šï¼Œä¸»è¦ä»¥è‡ªç”±è½¯ä»¶å»ºæ„è€Œæˆçš„æ“ä½œç³»ç»Ÿã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¶Šæ¥è¶Šå¤šçš„ç¨‹åºå‘˜åœ¨è¿½æ±‚åŠŸèƒ½å’Œæ€§èƒ½çš„åŒæ—¶ï¼Œå°†â€œé¢œå€¼å°±æ˜¯æ­£ä¹‰â€ä¹Ÿçº³å…¥äº†è€ƒè™‘èŒƒå›´ï¼Œæ›´å¤šçš„ä¼˜é›…çš„æ¡Œé¢å‘è¡Œç‰ˆå¦‚Centosï¼ŒMint Linuxï¼Œelementary OSï¼Œdeepinç­‰ç­‰å¦‚é›¨åæ˜¥ç¬‹ä¸€èˆ¬è¿…é€Ÿå†’å‡ºç”Ÿé•¿ã€‚è¿™ä¹Ÿç»™äº†å¾ˆå¤šç”¨æˆ·æ‹¥æŠ±Linuxæ¡Œé¢æ“ä½œç³»ç»Ÿçš„ä¿¡å¿ƒã€‚åœ¨2020å¹´ï¼ŒUbuntuç³»ç»Ÿå·²ç»å åˆ°æ‰€æœ‰æ¡Œé¢æ“ä½œç³»ç»Ÿå¸‚åœºä»½é¢çš„1.04%ï¼Œæ˜¯æ‰€æœ‰Linuxæ¡Œé¢å‘è¡Œç‰ˆä¸­æœ€é«˜çš„ä¸€ä¸ªã€‚ä¸‹å›¾æ˜¯Unbuntu 20.04çš„æ¡Œé¢ï¼š&lt;/p>
&lt;p>&lt;img src="../../images/Ubuntu-20.04-cat.png" alt="Ubuntu-20.04-cat.png">&lt;/p>
&lt;p>å½“å‰çš„å½¢åŠ¿æ¥çœ‹ï¼Œå›¾å½¢åŒ–æ“ä½œç³»ç»Ÿçš„å¤§æ½®å·²ç»åŠ¿ä¸å¯æŒ¡ï¼Œä½¿ç”¨æ–‡æœ¬æ¨¡å¼äº¤äº’ä¹Ÿå˜æˆäº†ç‰¹å®šä¸“ä¸šäººå‘˜çš„é€‰é¡¹ã€‚æˆ‘ä»¬ä»ä¸‹é¢è¿™å¼ æ“ä½œç³»ç»Ÿå¸‚åœºä»½é¢å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œå›¾å½¢åŒ–æ“ä½œç³»ç»Ÿå·²ç»ç¨³ç¨³åœ°å æ®äº†ç›®å‰ç»å¤§å¤šæ•°å¸‚åœºä»½é¢ã€‚å›¾å½¢åŒ–æ“ä½œç³»ç»Ÿå¦‚å®‰å“ã€Windowsã€iOSã€OS Xå æ®ç»å¤§å¤šæ•°ç”¨æˆ·çš„å±å¹•ï¼Œçº¯Linuxåªæ˜¯æœ€åº•ä¸‹é‚£æ¡è¶´è¶´ç€çš„çº¢çº¿ï¼Œè¿˜æ˜¯ä¼—å¤šæ¡Œé¢å‘è¡Œç‰ˆä¸å‘½ä»¤è¡Œå‘è¡Œç‰ˆå…±äº«çš„ä»½é¢ã€‚è¿™é‡Œç‰¹åˆ«æä¸€ä¸‹Androidç³»ç»Ÿï¼Œç›®å‰å®‰å“ç³»ç»Ÿå·²ç»è¶…è¶Šwindowsæˆä¸ºä½¿ç”¨äººæ•°æœ€å¤šçš„æ“ä½œç³»ç»Ÿï¼Œå®ƒæ˜¯ä¸€ä¸ªåŸºäºLinuxå†…æ ¸ä¸å…¶ä»–å¼€æºè½¯ä»¶çš„å¼€æ”¾æºä»£ç çš„ç§»åŠ¨æ“ä½œç³»ç»Ÿï¼Œç”±è°·æ­Œæˆç«‹çš„å¼€æ”¾æ‰‹æŒè®¾å¤‡è”ç›ŸæŒç»­é¢†å¯¼ä¸å¼€å‘ï¼Œæœ¬è´¨ä¸Šä¹Ÿç®—æ˜¯Linuxçš„ä¸€ä¸ªè¡ç”Ÿå‘è¡Œç‰ˆï¼Œæ‰€ä»¥ä»å¹¿ä¹‰ä¸Šæ¥è®²ï¼ŒLinuxå·²ç»æˆä¸ºä½¿ç”¨äººæ•°æœ€å¤šçš„æ“ä½œç³»ç»Ÿä¹Ÿæ²¡é”™å‘¢ã€‚&lt;/p>
&lt;p>å®é™…ç”Ÿæ´»ä¸­ï¼Œç”±äºå›¾å½¢åŒ–ç”¨æˆ·ç•Œé¢ï¼ˆGraphic User Interface, GUIï¼‰çš„æ™®åŠï¼Œç°åœ¨ç»å¤§å¤šæ•°äººåŸºæœ¬ä¸Šæ²¡æœ‰ä½¿ç”¨è¿‡CLIï¼Œå³ä¾¿æ˜¯å¾ˆå¤šè®¡ç®—æœºä¸“ä¸šçš„æœ¬ç§‘ç”Ÿï¼Œä¹Ÿä¸ç”¨CLIã€‚å³ä½¿åœ¨Linux CLIçš„ä½¿ç”¨äººç¾¤ä¸­ï¼Œä½¿ç”¨ä¼ ç»Ÿtext consoleçš„äººå¾ˆå°‘äº†ï¼Œè¶Šæ¥è¶Šå¤šçš„äººä½¿ç”¨ä¼ªç»ˆç«¯ï¼Œä¾‹å¦‚Xtermæ¥ä»£æ›¿ä¼ ç»Ÿç»ˆç«¯æˆ–åœ¨è¿œç¨‹sshè¿æ¥ä¸­ä½¿ç”¨ä¼ªç»ˆç«¯ã€‚&lt;/p>
&lt;p>&lt;img src="../../images/os_combined-ww-monthly-200901-202111.png" alt="os_combined-ww-monthly-200901-202111.png">&lt;/p>
&lt;h2 id="ä¼ªç»ˆç«¯cliäº¤äº’çš„è–ªç«ç›¸ä¼ ">ä¼ªç»ˆç«¯â€”â€”CLIäº¤äº’çš„è–ªç«ç›¸ä¼ &lt;/h2>
&lt;p>æˆ‘ä»¬ä¹‹å‰çš„æ–‡ç« ä¸­ï¼Œä¸€ç›´ç”±æåˆ°è™šæ‹Ÿç»ˆç«¯æ˜¯åœ¨&lt;strong>Linuxå†…æ ¸&lt;/strong>ä¸­å®ç°çš„æ¨¡æ‹Ÿç‰©ç†ç»ˆç«¯çš„ç¨‹åºï¼Œä¸€èˆ¬ç”±å†…æ ¸çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨å®Œæˆã€‚å½“æˆ‘ä»¬éœ€è¦ç»ˆç«¯æ¨¡æ‹Ÿå™¨æœ‰æ›´çµæ´»ã€æ›´èŠ±é‡Œèƒ¡å“¨çš„åŠŸèƒ½è€Œåˆä¸æƒ³ä¹±åŠ¨å†…æ ¸æ—¶ï¼ˆå†…æ ¸ä¸€ä¸ªè¿›ç¨‹å´©æºƒå®¹æ˜“å¯¼è‡´å…¶ä»–è¿›ç¨‹çš„è¿é”å´©æºƒï¼‰ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è®©&lt;strong>ç»ˆç«¯æ¨¡æ‹Ÿç¨‹åºè¿è¡Œåœ¨ç”¨æˆ·åŒº&lt;/strong>ï¼Œå¦‚æœæˆ‘ä»¬è®©ç»ˆç«¯æ¨¡æ‹Ÿç¨‹åºè¿è¡Œåœ¨ç”¨æˆ·åŒºï¼Œå°±éœ€è¦&lt;strong>ä¼ªç»ˆç«¯&lt;/strong>ï¼ˆpseudoterminalæˆ–pseudotty, PTYï¼‰ã€‚PTYæ˜¯æè¿°å¹¶éå•ä¸ªè®¾å¤‡æ–‡ä»¶ï¼Œè€Œæ˜¯&lt;strong>ä¸€å¯¹å¯å¼‚æ­¥åŒå‘é€šä¿¡çš„è™šæ‹Ÿå­—ç¬¦è®¾å¤‡&lt;/strong>ï¼Œè¿™å¯¹ä¼ªç»ˆç«¯è®¾å¤‡ä¸ºä¸»ä»å…³ç³»åˆ†åˆ«ä¸º PTY master(ptmx)å’Œ PYT slave(pts)ã€‚masterç«¯æ˜¯æ›´è´´è¿‘ç¡¬ä»¶çš„ä¸€ç«¯ï¼Œæä¾›å¤ç”¨ã€slaveç«¯ä¼šè¯ç®¡ç†ç­‰åŠŸèƒ½ï¼Œslaveç«¯åˆ™æ˜¯æ¨¡æ‹Ÿæ ‡å‡†æ–‡å­—ç»ˆç«¯çš„&lt;strong>ä¸€å¥—æ¥å£&lt;/strong>ã€‚ä¹‹æ‰€ä»¥å«å®ƒâ€œä¼ªâ€ç»ˆç«¯ï¼Œæ˜¯å› ä¸ºä¼ªç»ˆç«¯ä¸åƒè™šæ‹Ÿç»ˆç«¯æ‹¥æœ‰ä¸€ä¸ªå®å®åœ¨åœ¨çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨ï¼Œè€Œæ˜¯å¯¹å¤–è¡¨ç°çš„åƒç»ˆç«¯ä¸€æ ·çš„ç©ºå£³ï¼Œå£³å­é‡Œçš„å†…å®¹éœ€è¦ç”¨æˆ·åŒºè¿è¡Œçš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨ï¼Œç”šè‡³è¿œç¨‹çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨å»å¡«ã€‚å½“å‰PTYæœ‰BSDï¼ˆmasterå&lt;code>/dev/pty[p-za-e][0-9a-f]&lt;/code>ï¼Œsalveå&lt;code>/dev/tty[p-za-e][0-9a-f]&lt;/code>ï¼‰å’ŒUNIX 98(masterå&lt;code>/dev/ptmx&lt;/code>ï¼Œsalveå&lt;code>/dev/pts/*&lt;/code>)ä¸¤ç§å‘½åä¸å®ç°æ–¹å¼ï¼Œä½†æ˜¯ç›®å‰Linuxå¤§å¤šæ•°éƒ½ç”¨çš„æ˜¯UNIX98æ ‡å‡†ã€‚&lt;/p>
&lt;p>ä»ç”¨æˆ·ç©ºé—´çš„ç¨‹åºæ¥çœ‹ï¼Œä½¿ç”¨è™šæ‹Ÿç»ˆç«¯ttyè¿˜æ˜¯ä¼ªç»ˆç«¯çš„slaveï¼Œptséƒ½æ˜¯ä¸€æ ·çš„ã€‚ä»å†…æ ¸çš„è§’åº¦æ¥çœ‹ï¼Œptyç³»ç»Ÿæ˜¯ä¸ªä¸ä¸å†…æ ¸å…¶ä»–æ¨¡å—äº¤äº’çš„æ•°æ®è½¬å‘ç³»ç»Ÿï¼Œä¸€ç«¯æ˜¯ptmxï¼Œä¸Gnomes terminal serverï¼Œsshdå’ŒTMUXç­‰ç”¨æˆ·ç©ºé—´åº”ç”¨ç¨‹åºè¿æ¥ï¼Œå¦ä¸€ç«¯æ˜¯ptsä¹Ÿæ˜¯ç›´æ¥å’Œç”¨æˆ·ç©ºé—´ç¨‹åºäº¤äº’ã€‚è€ŒTTYç³»ç»Ÿåˆ™å’Œå†…æ ¸å…³ç³»å¯†åˆ‡ï¼Œå…¶ä¸€ç«¯ä¸å†…æ ¸çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨è¿æ¥ï¼Œå†…æ ¸ç»ˆç«¯æ¨¡æ‹Ÿå™¨çš„å¦ä¸€ç«¯åˆ™ä¸å†…æ ¸ä¸­ç‰¹å®šçš„ç¡¬ä»¶é©±åŠ¨è¿æ¥ï¼Œå¦‚é”®ç›˜å’Œæ˜¾ç¤ºå™¨ã€‚&lt;/p>
&lt;p>æ­¤å¤–ï¼Œå¦‚æœç³»ç»Ÿæœ‰å¤šä¸ªäº¤äº’éœ€æ±‚ï¼Œä¼ªç»ˆç«¯ç³»ç»Ÿä½¿ç”¨ptmxå’ŒptsåˆåŠ›å®Œæˆå¤šä¸ªä¼ªç»ˆç«¯çš„ä¼šè¯ç®¡ç†ã€‚è€ŒTTYç³»ç»Ÿæ˜¯é å†…æ ¸ç»ˆç«¯æ¨¡æ‹Ÿå™¨åˆ›å»ºå¤šä¸ªè™šæ‹Ÿç»ˆç«¯ï¼Œå¹¶ç»´æŠ¤å„ä¸ªè™šæ‹Ÿç»ˆç«¯çš„ä¼šè¯å…³ç³»ã€‚å› æ­¤ï¼Œptmxå’Œå†…æ ¸ç»ˆç«¯æ¨¡æ‹Ÿå™¨éƒ½éœ€è¦è´Ÿè´£ç»´æŠ¤ä¼šè¯å’Œè½¬å‘æ•°æ®åŒ…ã€‚ä¸åŒçš„æ˜¯ï¼Œä¼ªç»ˆç«¯ç³»ç»Ÿå°†ç»ˆç«¯æ¨¡æ‹Ÿå™¨éƒ¨åˆ†äº¤ç»™äº†ç”¨æˆ·åŒºè½¯ä»¶å»åšï¼Œä»è€Œæ–¹ä¾¿å®ç°æ›´å¤šçš„æ‰©å±•åŠŸèƒ½ï¼Œä»åŠŸèƒ½è§’åº¦ç®€å•æ¥è¯´ï¼Œå†…æ ¸ç»ˆç«¯æ¨¡æ‹Ÿå™¨=ptmx+ï¼ˆç”¨æˆ·åŒºç»ˆç«¯æ¨¡æ‹Ÿå™¨-æ‰©å±•åŠŸèƒ½ï¼‰ã€‚&lt;/p>
&lt;p>ä½†ç”±äºPTYè¿è¡Œåœ¨ç”¨æˆ·åŒºï¼Œæ›´åŠ å®‰å…¨å’Œçµæ´»ï¼ŒåŒæ—¶ä»ç„¶ä¿ç•™äº†ä¼ ç»ŸTTYé©±åŠ¨çš„åŠŸèƒ½ï¼Œå› æ­¤æˆ‘ä»¬ç›®å‰åœ¨Linuxæ¡Œé¢å‘è¡Œç‰ˆä¸­è°ƒå‡ºæ¥çš„å‘½ä»¤è¡Œå·¥å…·ã€telnetã€sshã€VNCè¿œç¨‹è¿æ¥å‡ ä¹éƒ½æ˜¯ä¼ªç»ˆç«¯ã€‚ä¼ªç»ˆç«¯å¸¸åœ¨ä¸‰ç§æƒ…å½¢ä¸‹ä½¿ç”¨ï¼Œä¸€æ˜¯åœ¨GUIä¸­å¸Œæœ›ä½¿ç”¨CLIè¿›è¡Œæ›´æ–¹ä¾¿çš„æ“ä½œï¼Œå¦‚ä½¿ç”¨xtermï¼Œgnome-terminalï¼›äºŒæ˜¯è¿œç¨‹ç»ˆç«¯è¿æ¥ï¼Œå¦‚telnetã€sshç­‰ï¼›ç¬¬ä¸‰ä¸ªæƒ…å½¢ç®—æ˜¯ç¬¬äºŒç‚¹çš„æ‰©å±•ï¼Œå³ç”¨tmuxï¼Œscreenä¹‹ç±»è½¯ä»¶ï¼Œè®©ç¨‹åºåœ¨åå°è¿è¡Œï¼Œå°±ç®—sshè¿æ¥æ–­å¼€ï¼Œæ­£åœ¨è¿è¡Œçš„ç¨‹åºä¹Ÿä¸ä¼šç»ˆæ­¢ã€‚&lt;/p>
&lt;p>å…³äºè¿™ä¸‰ç§åœºæ™¯ï¼Œæˆ‘èŠ±äº†å¾ˆé•¿æ—¶é—´æ¥ç”»ä»–ä»¬çš„æ€»ä½“ç»“æ„å›¾ï¼Œæ¯ä¸€åœºæ™¯æˆ‘éƒ½ç”¨ä¸€ç§é¢œè‰²æ ‡è¯†å‡ºæ¥ï¼Œæ¥ä¸‹æ¥æˆ‘å°†æ ¹æ®ä¸‰ä¸ªåœºæ™¯åˆ†åˆ«é˜é‡Šã€‚&lt;/p>
&lt;p>&lt;img src="../../images/pty-all.drawio.svg" alt="ä¼ªç»ˆç«¯æ€»ä½“ç»“æ„å›¾">&lt;/p>
&lt;p>æˆ‘ä»¬å…ˆæ¥è¯´è¯´ä¸‰ä¸ªåœºæ™¯å…±æ€§çš„éƒ¨åˆ†â€”â€”PTYå­ç³»ç»Ÿã€‚PTYå­ç³»ç»Ÿçš„æ ¸å¿ƒåŠŸèƒ½ä¸TTYå­ç³»ç»Ÿä¸€è‡´ï¼Œæœ¬è´¨æ˜¯TTYå­ç³»ç»Ÿçš„åŒä¸€ä»£ç ï¼Œè°ƒç”¨äº†ä¸åŒåŠŸèƒ½å‡½æ•°ï¼Œåªæ˜¯ç°åœ¨ä½¿ç”¨çš„æ˜¯ä¼ªç»ˆç«¯ï¼Œæ‰€ä»¥å«PTYå­ç³»ç»Ÿã€‚ä¾‹å¦‚ï¼Œåœ¨ä¼ ç»Ÿç‰©ç†ç»ˆç«¯è¿æ¥æ—¶ï¼Œttyé©±åŠ¨è°ƒç”¨çš„æ˜¯ä¸²å£é©±åŠ¨ï¼›åœ¨ä½¿ç”¨è™šæ‹Ÿç»ˆç«¯æ—¶ï¼Œttyé©±åŠ¨è°ƒç”¨çš„æ˜¯consoleé©±åŠ¨ï¼›ç°åœ¨ä½¿ç”¨ä¼ªç»ˆç«¯æ—¶ï¼Œåˆ™è°ƒç”¨çš„ä¼ªç»ˆç«¯é©±åŠ¨ã€‚å®ƒæ¯”ä¼ ç»Ÿçš„TTYå­ç³»ç»Ÿå¢åŠ äº†ä¼ªç»ˆç«¯çš„Masterç«¯ï¼Œptmxï¼Œè¿™æ˜¯å› ä¸ºæ²¡æœ‰äº†å†…æ ¸ä¸­çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨æä¾›å¤šè·¯å¤ç”¨å’Œä¼šè¯ç®¡ç†ï¼Œå°±è®©ptmxå®Œæˆä¸Šè¿°åŠŸèƒ½ï¼›PTYå­ç³»ç»Ÿäº§ç”Ÿçš„æ¥å£è®¾å¤‡å«ptsï¼Œå­˜å‚¨åœ¨&lt;code>/dev/pts/X&lt;/code>ï¼Œâ€œXâ€è¡¨ç¤ºä¸€ä¸ªæ•°å­—ï¼Œç”±ptmxç®¡ç†ï¼Œé€šå¸¸æœ‰å‡ ä¸ªä¼ªç»ˆç«¯è¿æ¥ï¼Œ&lt;code>/dev/pts/&lt;/code>è·¯å¾„ä¸‹å°±æœ‰å‡ ä¸ªæ•°å­—è¡¨ç¤ºçš„ä¼ªç»ˆç«¯è®¾å¤‡ï¼Œptsåœ¨å¯¹ç”¨æˆ·ç¨‹åºçš„è¡¨ç°å’Œ&lt;code>/dev/ttyX&lt;/code>ä¸€è‡´ã€‚&lt;/p>
&lt;h3 id="guiä¸­çš„cli">GUIä¸­çš„CLI&lt;/h3>
&lt;p>Linuxæ¡Œé¢ç³»ç»Ÿçš„æ™®åŠä¸ºç¨‹åºå‘˜ä»¬æä¾›äº†æ›´åŠ æ–¹ä¾¿çš„ç³»ç»Ÿç®¡ç†å’Œç¼–ç¨‹ç¯å¢ƒï¼ŒGUIæ“ä½œç›´è§‚ï¼Œé…ç½®æ–¹å¼æ˜“æ‡‚ï¼Œå´ä¹Ÿæ©ç›–ä¸äº†æ“ä½œæµç¨‹å¤æ‚ï¼Œéœ€è¦æ‰“å¼€å¤šä¸ªçª—å£ï¼Œé¼ æ ‡+é”®ç›˜åå¤äº¤äº’çš„é—®é¢˜ã€‚æœ‰æ—¶å€™åªæ˜¯ä¿®æ”¹ä¸€ä¸ªé…ç½®å°±éœ€è¦æ‰¾å¾ˆä¹…å¯¹åº”çš„æŒ‰é’®å’Œæ“ä½œæ¡†ï¼›ä¸€æ–¹é¢GUIçªå‡ºäº†ç”¨æˆ·é›†ä¸­ä½¿ç”¨çš„é‡ç‚¹åŠŸèƒ½ï¼Œå¦ä¸€æ–¹é¢GUIéšè—äº†æ™®é€šç”¨æˆ·å®¹æ˜“è¯¯ç”¨çš„ç³»ç»Ÿè®¾ç½®ã€‚æ°æ°è¿™äº›è®¾ç½®ï¼Œå¯¹ç³»ç»Ÿç®¡ç†å‘˜å’Œè®¡ç®—æœºä»ä¸šè€…è€Œè¨€æ˜¯å¾ˆé‡è¦çš„ã€‚æœ‰äº›ç¨‹åºå‘˜å¼€å§‹æ€€å¿µå…¶CLIçš„ç®€æ´ã€ç›´æ¥ä¸é«˜æ•ˆã€‚ä¸ºäº†èƒ½å¤Ÿåœ¨GUIä¸­ä½¿ç”¨ä¼ ç»Ÿçš„CLIï¼Œç»ˆç«¯æ¨¡æ‹Ÿå™¨å¼€å§‹ä½œä¸ºç”¨æˆ·åŒºè½¯ä»¶è¢«å¹¿æ³›åœ°æ¥å—ã€‚&lt;/p>
&lt;p>ç›®å‰Linuxä¸­æœ€æµè¡Œçš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨åº”è¯¥è¦ç®—xtermäº†ï¼Œå®ƒèƒ½ä¸ºX Window Systemä¸Šåˆ›å»ºæ ‡å‡†è™šæ‹Ÿç»ˆç«¯ï¼Œç”¨æˆ·å¯ä»¥åœ¨åŒä¸€ä¸ªæ˜¾ç¤ºå™¨ä¸Šå¼€å¯è®¸å¤šxtermï¼Œæ¯ä¸€ä¸ªéƒ½ä¸ºå…¶ä¸­è¿è¡Œçš„è¿›ç¨‹æä¾›ç‹¬ç«‹çš„è¾“å…¥è¾“å‡ºï¼ˆä¸€èˆ¬æ¥è¯´æ­¤è¿›ç¨‹æ˜¯shellï¼‰ã€‚æ­¤å¤–æœ‰è®¸å¤šxtermå˜ä½“å¯ç”¨ï¼Œå¤§å¤šæ•°çš„Xè™šæ‹Ÿç»ˆç«¯éƒ½æ˜¯ä»xtermçš„å˜ä½“èµ·æ­¥çš„ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬ä»¥Ubuntu 20.04è¿™ä¸ªæ¡Œé¢æ“ä½œç³»ç»Ÿä¸ºä¾‹ï¼Œä¹‹å‰æˆ‘ä»¬è¯´è¿‡æ¡Œé¢æ“ä½œç³»ç»Ÿä¸­çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨ç›¸å½“äºX è§†çª—ç³»ç»Ÿä¸­çš„ä¸€ä¸ªX clientï¼Œæ‰€ä»¥è¿™é‡Œä¹Ÿä¸ä¾‹å¤–ã€‚æˆ‘ä»¬ç”¨ä¸‹å›¾ä¸­è“è‰²çš„éƒ¨åˆ†è¡¨ç¤ºGUIä¸­çš„ä¼ªç»ˆç«¯ç›¸å…³æ¨¡å—ã€‚&lt;/p>
&lt;p>å†…æ ¸éƒ¨åˆ†ï¼Œç¡¬ä»¶ä»¥åŠé©±åŠ¨éƒ¨åˆ†å’Œæ™®é€šçš„GUIæ˜¯ä¸€æ ·çš„ï¼›PTYå­ç³»ç»Ÿçš„å˜åŒ–æœ¬èŠ‚å¼€å¤´å·²ç»è¯´è¿‡äº†ã€‚ç”¨æˆ·ç©ºé—´ä¸­ï¼Œx serverä¸x clientçš„æ¨¡å¼ä¹Ÿæ²¡ç”¨å˜åŒ–ï¼Œä½œä¸ºGUIä¸­ç”¨æˆ·åŒºç»ˆç«¯æ¨¡æ‹Ÿå™¨çš„Gnome terminal serverä½œä¸ºx clientæ‰“å¼€ï¼Œè´Ÿè´£å¤„ç†å’Œè½¬åŒ–ç”¨æˆ·äº¤äº’ä¿¡æ¯ï¼ŒGnome terminal serveræŒæœ‰PTY masterçš„æ–‡ä»¶æè¿°ç¬¦&lt;code>/dev/ptmx&lt;/code>,å¹¶è´Ÿè´£ç›‘å¬é”®ç›˜äº‹ä»¶ï¼Œé€šè¿‡PTY masteræ¥æ”¶æˆ–å‘é€å­—ç¬¦åˆ° PTY slaveï¼Œè¿˜ä¼šåœ¨å±å¹•ä¸Šç»˜åˆ¶æ¥è‡ªPTY masterçš„å­—ç¬¦è¾“å‡ºã€‚&lt;strong>æ¯å½“æˆ‘ä»¬é€šè¿‡Gnome terminal serveræ‰“å¼€ä¸€ä¸ªæ–°çš„CLIï¼Œå®ƒå°±ä¼šforkå‡ºä¸€ä¸ªè¿›ç¨‹æ¥æ¨¡æ‹Ÿä¸€ä¸ªç»ˆç«¯ï¼ˆå¦‚xtermï¼Œvt100ç­‰ï¼‰ï¼Œå¹¶æ‰§è¡Œbashå‘½ä»¤å˜æˆä¸€ä¸ªCLI shellï¼Œä»¥&lt;code>/dev/pts/X&lt;/code>ä¸ºæ ‡å‡†è¾“å…¥è¾“å‡ºï¼Œå› æ­¤æ¨¡æ‹Ÿå‡ºæ¥çš„CLIç»ˆç«¯éƒ½æ˜¯Gnome terminal serverçš„å­è¿›ç¨‹ã€‚Gnome terminal serveræ¥æ”¶åˆ°çš„æ•°æ®ä¼šäº¤ç»™å†…æ ¸çš„PTYå­ç³»ç»Ÿï¼Œå¹¶ç”±ç›¸åº”çš„ptsæ¥å£æä¾›ç»™shellï¼Œå®ç°æ•°æ®æµäº¤äº’&lt;/strong>ã€‚&lt;/p>
&lt;p>éœ€è¦æŒ‡å‡ºï¼ŒGnome terminal serverçˆ¶è¿›ç¨‹å’Œshellå­è¿›ç¨‹ä¹‹é—´å¹¶ä¸ä¼šç›´æ¥ä¼ é€’ä¿¡æ¯ï¼Œé¦–å…ˆå› ä¸ºæ•°æ®æ¨¡å¼ä¸åŒï¼Œæ¥è‡ªGnome terminal serverçš„ä¿¡æ¯éœ€è¦ç»è¿‡PTYå­ç³»ç»Ÿé©±åŠ¨è½¬æ¢å’Œline disciplineçš„è¿›ä¸€æ­¥è§£ç æˆCLIèƒ½å¤Ÿæ¥å—çš„æ¨¡å¼ï¼›åŒæ—¶å¤ç”¨PTYå­ç³»ç»Ÿå¤§å¤§é™ä½äº†Gnome terminal serverç¨‹åºçš„å¤æ‚åº¦ï¼Œç”±å…¶æ˜¯IPCæ–¹é¢çš„å†…å®¹ï¼›å¦ä¸€æ–¹é¢è¿™ç§ç»“æ„å…¼å®¹äº†Linuxä¸€ç›´ä»¥æ¥çš„ç³»ç»Ÿç»“æ„ï¼Œåœ¨ç¨³å®šæ€§å’Œæˆç†Ÿåº¦æ–¹é¢ä¹Ÿæ›´åŠ å¯é ã€‚å¯¹ç»ˆç«¯æ¨¡æ‹Ÿå™¨çš„ç¨‹åºç¼–å†™è€…æ¥è¯´ï¼Œç»´æŠ¤å’ŒCLIçš„æ•°æ®äº¤äº’ä¹Ÿå¹¶éç»ˆç«¯æ¨¡æ‹Ÿå™¨çš„èŒè´£ï¼Œç»ˆç«¯æ¨¡æ‹Ÿå™¨åªæ˜¯ä¸€ä¸ªæ¨¡æ‹Ÿå™¨ï¼Œå®ƒçš„ä»»åŠ¡åªæ˜¯ç”¨è½¯ä»¶ç”Ÿæˆä¸€ä¸ªâ€œè™šæ‹Ÿçš„ç»ˆç«¯â€ï¼Œä¸€ä¸ªå¤æ‚çš„terminal serverä¸ç¬¦åˆUNIXç³»ç»Ÿ &lt;strong>keep it simple, stupid (KISS)&lt;/strong> çš„è®¾è®¡å“²å­¦ã€‚&lt;/p>
&lt;p>&lt;img src="../../images/pty-gui.drawio.svg" alt="pty-gui">&lt;/p>
&lt;p>æˆ‘ä»¬ä»¥å®é™…çš„ä¾‹å­ï¼Œçœ‹çœ‹åœ¨ terminal æ‰§è¡Œä¸€ä¸ªå‘½ä»¤çš„å…¨è¿‡ç¨‹ï¼ˆå½“å‰è¿›ç¨‹çš„ç»ˆç«¯æ˜¯&lt;code>/dev/pts/0&lt;/code>ï¼‰ã€‚&lt;/p>
&lt;ol>
&lt;li>æˆ‘ä»¬åœ¨æ¡Œé¢å¯åŠ¨ç»ˆç«¯ç¨‹åºgnome-terminalï¼Œå®ƒå‘gnome terminal serverè¯·æ±‚ptmxå»ºä¸€ä¸ªä¼šè¯ï¼Œå¹¶é€šè¿‡x serveræŠŠgnome-terminalçš„å›¾åƒç»˜åˆ¶åœ¨æ˜¾ç¤ºå™¨ä¸Šï¼›&lt;/li>
&lt;li>gnome terminal serverå…ˆforkå¯åŠ¨å­è¿›ç¨‹ï¼Œå†æ‰§è¡Œ&lt;code>bash&lt;/code>å‘½ä»¤ï¼›&lt;/li>
&lt;li>&lt;code>bash&lt;/code>çš„æ ‡å‡†è¾“å…¥ã€æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯éƒ½è®¾ç½®ä¸ºPTY slaveï¼Œå³&lt;code>/dev/pts/0&lt;/code>ï¼›&lt;/li>
&lt;li>gnome terminal serverç›‘å¬é”®ç›˜äº‹ä»¶ï¼Œå¹¶å°†è¾“å…¥çš„å­—ç¬¦å‘é€åˆ°ptmxï¼›&lt;/li>
&lt;li>PTYå­ç³»ç»Ÿæ‰§è¡Œä¼ ç»ŸTTYå­ç³»ç»Ÿçš„bufferï¼Œline disciplineï¼Œå­—ç¬¦å›æ˜¾çš„åŠŸèƒ½ï¼›å½“æŒ‰ä¸‹å›è½¦é”®æ—¶ï¼Œtty I/O coreè´Ÿè´£å°†ç¼“å†²çš„æ•°æ®å¤åˆ¶åˆ°PTY slaveï¼Œ&lt;code>/dev/pts/0&lt;/code>ï¼›&lt;/li>
&lt;li>&lt;code>bash&lt;/code>æ¥æ”¶æ¥è‡ª&lt;code>/dev/pts/0&lt;/code>çš„æ ‡å‡†è¾“å…¥ï¼Œæ‰§è¡Œè¾“å…¥çš„å‘½ä»¤ï¼Œåœ¨å°†ç»“æœå†™å…¥ç»™æ ‡å‡†è¾“å…¥ï¼ˆæ ‡å‡†é”™è¯¯ï¼‰&lt;code>/dev/pts/0&lt;/code>ï¼›&lt;/li>
&lt;li>tty I/O coreå°†&lt;code>/dev/pts/0&lt;/code>ä¸­çš„ç»“æœå¤åˆ¶ç»™ptmxçš„bufferï¼›&lt;/li>
&lt;li>gnome-terminalå¾ªç¯ä»ptmxè¯»å–å­—èŠ‚ï¼Œå¹¶äº¤ç»™x serverç»˜åˆ¶åˆ°ç”¨æˆ·ç•Œé¢ä¸Šã€‚&lt;/li>
&lt;/ol>
&lt;h3 id="è¿œç¨‹è¿æ¥æ“ä½œç³»ç»Ÿ">è¿œç¨‹è¿æ¥æ“ä½œç³»ç»Ÿ&lt;/h3>
&lt;p>ä¼ªç»ˆç«¯å¦ä¸€ä¸ªé‡è¦åº”ç”¨åœºæ™¯å°±æ˜¯ä½¿ç”¨ç½‘ç»œè¿œç¨‹ç™»å½•Linuxä¸»æœºã€‚è¿™ä¸ªåœºæ™¯çš„ä¼ªç»ˆç«¯åº”ç”¨å‡ºç°è¿œæ—©äºGUIåœºæ™¯ä¸‹çš„ä¼ªç»ˆç«¯ï¼Œç”šè‡³æ—©äºGUIçš„å‡ºç°ã€‚CLIè¿œç¨‹ç™»å½•çš„ä¸»è¦æ‰‹æ®µå°±æ˜¯telnetå’Œsshã€‚ç”±äºtelnetæ˜¯ä½¿ç”¨æ˜ç æ¥ä¼ é€æ•°æ®ï¼Œå®‰å…¨æ€§ä¸å¤Ÿå¥½ï¼Œå·²ç»é€æ¸è¢«èˆå¼ƒï¼Œæ‰€ä»¥å½“å‰å‡ ä¹æ‰€æœ‰çš„CLIè¿œç¨‹ç™»å½•éƒ½æ˜¯ä½¿ç”¨sshã€‚&lt;/p>
&lt;p>sshç™»å½•éœ€è¦è¿œç¨‹ä¸»æœºä¸Šè¿è¡ŒsshæœåŠ¡å™¨ï¼Œæ¯”å¦‚openssh serverï¼Œå…¶å®ˆæŠ¤è¿›ç¨‹ä¸€èˆ¬ä¸º&lt;code>sshd&lt;/code>ï¼Œè´Ÿè´£è¿œç¨‹ä¸»æœºsshåè®®å°è£…ã€åŠ å¯†è§£å¯†ã€ç»´æŠ¤sshä¼šè¯ç­‰åŠŸèƒ½ã€‚ä½†&lt;code>ssd&lt;/code>ä¸å†ç›‘å¬é”®ç›˜äº‹ä»¶ï¼Œä»¥åŠåœ¨å±å¹•ä¸Šç»˜åˆ¶è¾“å‡ºç»“æœï¼Œè€Œæ˜¯é€šè¿‡TCPè¿æ¥ï¼Œå‘ssh clientå‘é€æˆ–æ¥æ”¶å­—ç¬¦ã€‚åœ¨è¿œç¨‹ç™»å½•åœºæ™¯ä¸‹ï¼Œ&lt;code>sshd&lt;/code>å–ä»£terminal serveræ‹…ä»»forkå­è¿›ç¨‹å¹¶æ‰§è¡Œbashå‘½ä»¤ç”ŸæˆCLI shellçš„åŠŸèƒ½ï¼Œè€Œç»ˆç«¯æ¨¡æ‹ŸåŠŸèƒ½åˆ™äº¤ç»™æœ¬åœ°ç»ˆç«¯æ¨¡æ‹Ÿå™¨æ‰§è¡Œã€‚&lt;/p>
&lt;p>ç¡¬ä»¶æ–¹é¢ï¼Œç”±äºä½¿ç”¨ç½‘ç»œè¿æ¥å–ä»£é”®ç›˜å±å¹•çš„ç›´è¿ï¼Œå› æ­¤å¯¹åº”ç¡¬ä»¶æ¢æˆäº†ç½‘å¡ï¼ˆnetwork interface card, NICï¼‰ã€‚å†…æ ¸ä¸­ï¼Œç¡¬ä»¶é©±åŠ¨æ”¹æˆäº†ç½‘å¡é©±åŠ¨ï¼ˆnetwork interface card driver, NIC driverï¼‰ï¼Œæ•°æ®ç»è¿‡ç½‘å¡é©±åŠ¨åï¼Œè¿˜è¦é€šè¿‡ TCP/IPåè®®æ ˆå±‚å±‚è§£åŒ…ï¼ˆè¿”å›ç»™å®¢æˆ·ç«¯æ—¶åˆ™æ˜¯å±‚å±‚å°è£…æ•°æ®åŒ…ï¼‰ï¼Œæœ€åå°†åº”ç”¨å±‚æ•°æ®äº¤ä»˜ç»™å¯¹åº”çš„åº”ç”¨è¿›ç¨‹ï¼Œå¦‚&lt;code>sshd&lt;/code>ã€‚æœ¬åœ°å®¢æˆ·ç«¯ç¨‹åºæ‹…ä»»ç»ˆç«¯æ¨¡æ‹Ÿå™¨çš„è§’è‰²å¹¶å¯åŠ¨ssh clientï¼Œé€šè¿‡äº’è”ç½‘æˆ–ä»¥å¤ªç½‘ç­‰ç½‘ç»œè¿æ¥ä¸è¿œç¨‹ä¸»æœºä¼ è¾“ä¿¡æ¯ã€‚&lt;/p>
&lt;p>&lt;strong>ä»&lt;code>sshd&lt;/code>å¾€åçš„éƒ¨åˆ†å’Œæœ¬åœ°ç›´æ¥ä½¿ç”¨é”®ç›˜ã€æ˜¾ç¤ºå™¨è¿æ¥æ²¡æœ‰åŒºåˆ«&lt;/strong>ï¼Œé©±åŠ¨ã€åè®®æ ˆä»¥åŠåº”ç”¨å±‚è½¯ä»¶&lt;code>sshd&lt;/code>å·²ç»å±è”½äº†åº•å±‚çš„åŒºåˆ«ï¼Œä¸ºä¸Šå±‚æä¾›äº†ç»Ÿä¸€çš„æ¥å£ã€‚&lt;/p>
&lt;p>&lt;img src="../../images/pty-ssh.drawio.svg" alt="pty-ssh">&lt;/p>
&lt;p>ç®€å•æ¢³ç†ä¸€ä¸‹è¿œç¨‹ç»ˆç«¯æ˜¯å¦‚ä½•æ‰§è¡Œå‘½ä»¤çš„ï¼Œæ­¤å¤„PTSä¸º&lt;code>/dev/pts/1&lt;/code>ï¼š&lt;/p>
&lt;ol>
&lt;li>ç”¨æˆ·åœ¨å®¢æˆ·ç«¯çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨ä¸­è¾“å…¥&lt;code>ssh username@hostIP&lt;/code>å‘½ä»¤ï¼Œç»è¿‡ç½‘ç»œåˆ°è¾¾è¿œç¨‹ä¸»æœºï¼Œé€šè¿‡ç½‘å¡é©±åŠ¨ã€TCP/IPåè®®æ ˆè§£åŒ…åï¼Œå†…æ ¸é€šè¿‡sshåè®®å¯¹åº”ç«¯å£ï¼ˆé»˜è®¤22ï¼‰ï¼Œæ‰¾åˆ°ç›‘å¬çš„&lt;code>sshd&lt;/code>è¿›ç¨‹ã€‚&lt;/li>
&lt;li>&lt;code>sshd&lt;/code>æ¥å—sshè¯·æ±‚åï¼Œå‘å†…æ ¸ç”³è¯·åˆ›å»º PTYï¼Œè·å¾—ä¸€å¯¹è®¾å¤‡æ–‡ä»¶æè¿°ç¬¦ã€‚è®©&lt;code>sshd&lt;/code>æŒæœ‰ptmxï¼Œ&lt;code>sshd&lt;/code> fork å‡ºçš„å­è¿›ç¨‹&lt;code>bash&lt;/code>æŒæœ‰PTY slaveã€‚&lt;code>bash&lt;/code>çš„æ ‡å‡†è¾“å…¥ã€æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯éƒ½è®¾ç½®ä¸ºäº†&lt;code>/dev/pts/1&lt;/code>ã€‚å®Œæˆä¼šè¯å»ºç«‹ã€‚&lt;/li>
&lt;li>ç”¨æˆ·ç«¯æ•°æ®é€šè¿‡&lt;code>sshd&lt;/code>ä¼ è¾“ç»™PTYå­ç³»ç»Ÿï¼Œåˆ°è¾¾PTY slaveï¼Œ&lt;code>/dev/pts/1&lt;/code>ã€‚&lt;/li>
&lt;li>ä¹‹åè¿‡ç¨‹å’Œ&lt;a href="#gui%E4%B8%AD%E7%9A%84cli">GUIä¸­çš„CLI&lt;/a>ç« èŠ‚ä¸­4-7æ­¥ä¸€æ ·ï¼Œåªä¸è¿‡&lt;code>sshd&lt;/code>å–ä»£äº†gnome terminal serverçš„ä½œç”¨ï¼›&lt;/li>
&lt;li>&lt;code>sshd&lt;/code>å¾ªç¯ä»ptmxè¯»å–å­—èŠ‚ï¼Œå¹¶é€šè¿‡ä¹‹é—´å»ºç«‹çš„TCPè¿æ¥å‘é€ç»™ ssh clientã€‚&lt;/li>
&lt;/ol>
&lt;p>æ³¨æ„1ï¼šåœ¨å®¢æˆ·ç«¯ï¼Œæˆ‘ä»¬åœ¨å±å¹•ä¸Šçœ‹åˆ°çš„æ‰€æœ‰å­—ç¬¦éƒ½æ¥è‡ªäºè¿œç¨‹æœåŠ¡å™¨ã€‚åŒ…æ‹¬æˆ‘ä»¬è¾“å…¥çš„å†…å®¹ï¼Œä¹Ÿæ˜¯è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„ line discipline åº”ç”¨&lt;code>echo&lt;/code>è§„åˆ™çš„ç»“æœï¼Œå°†è¿™äº›å­—ç¬¦å›æ˜¾äº†å›æ¥ã€‚è¡¨é¢çœ‹ä¼¼ç®€å•çš„åœ¨è¿œç¨‹ç»ˆç«¯ä¸Šæ‰§è¡Œäº†ä¸€æ¡å‘½ä»¤ï¼Œå®é™…ä¸Šåº•ä¸‹ç¡®æ˜¯æ³¢æ¶›æ±¹æ¶Œã€‚&lt;/p>
&lt;p>æ³¨æ„2ï¼šå½“æˆ‘ä»¬æŸ¥çœ‹è¿›ç¨‹æ—¶ï¼Œç»†å¿ƒçš„äººå¯èƒ½ä¼šå‘ç°ï¼Œ&lt;code>sshd&lt;/code>å¹¶éåªæ˜¯ç®€å•çš„forkäº†ä¸€ä¸ª&lt;code>bash&lt;/code>å­è¿›ç¨‹ï¼Œè€Œæ˜¯&lt;code>sshdâ”€â”€â”€sshdâ”€â”€â”€sshdâ”€â”€â”€bash&lt;/code>è¿™ç§ç»“æ„ã€‚ç¬¬ä¸€ä¸ª&lt;code>sshd&lt;/code>æ˜¯è´Ÿè´£ç›‘å¬çš„è¿›ç¨‹ï¼Œç¬¬äºŒä¸ª&lt;code>sshd&lt;/code>æ˜¯forkå‡ºæ¥å®é™…å’Œssh clientå»ºç«‹è¿æ¥çš„å­è¿›ç¨‹ï¼Œç¬¬ä¸‰ä¸ª&lt;code>sshd&lt;/code>æ˜¯sshä¸­åŸºäºå®‰å…¨æ€§è€ƒè™‘ä½¿ç”¨&amp;quot;privilege separation&amp;quot;çš„ç»“æœï¼Œæœ€åä¸€ä¸ª&lt;code>bash&lt;/code>æ‰æ˜¯çœŸæ­£çš„CLI shellã€‚ç”±äºè¿™ç§ç»†èŠ‚ä¸å½±å“æˆ‘ä»¬æ•´ä½“çš„è®¨è®ºï¼Œæ‰€ä»¥åªæ˜¯åœ¨è¿™é‡Œæä¸€ä¸‹ã€‚&lt;/p>
&lt;h3 id="åå°ä¿éšœè¿è¡Œçš„tmux">åå°ä¿éšœè¿è¡Œçš„Tmux&lt;/h3>
&lt;p>æœ¬èŠ‚å¼€å¤´å·²ç»è¯´è¿‡ï¼Œç¬¬ä¸‰ä¸ªåœºæ™¯æ—¶ç¬¬äºŒä¸ªåœºæ™¯çš„æ‰©å±•ã€‚å½“æˆ‘ä»¬ä½¿ç”¨sshè¿œç¨‹è¿æ¥æ—¶ï¼Œå¸¸é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šæ‰€æœ‰çš„å·¥ä½œé»˜è®¤éƒ½æ˜¯ä»&lt;code>sshd&lt;/code>äº§ç”Ÿçš„å­è¿›ç¨‹ä¸­å¯åŠ¨ï¼Œå³å®ƒä»¬å±äºåŒä¸€ä¸ªä¼šè¯ã€‚å½“ä½œä¸ºæ ¹è¿›ç¨‹çš„&lt;code>sshd&lt;/code>ä¸€æ—¦è¢«ç»ˆæ­¢ï¼Œé‚£ä¹ˆå®ƒäº§ç”Ÿçš„å­è¿›ç¨‹ï¼Œå…¨éƒ¨ä¼šå…³é—­ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ&lt;code>sshd&lt;/code>ä¸ä¼šè¯å¯ä»¥&amp;quot;è§£ç»‘&amp;quot;ï¼Œå°†å®ƒä»¬å½»åº•åˆ†ç¦»ï¼š&lt;code>sshd&lt;/code>å…³é—­æ—¶ï¼Œä¼šè¯å¹¶ä¸ç»ˆæ­¢ï¼Œè€Œæ˜¯ç»§ç»­è¿è¡Œï¼Œç­‰åˆ°ä»¥åéœ€è¦çš„æ—¶å€™ï¼Œå†è®©ä¼šè¯&amp;quot;ç»‘å®š&amp;quot;å…¶ä»–&lt;code>sshd&lt;/code>è¿›ç¨‹ã€‚è¿™å°±æ˜¯&lt;code>Tmux&lt;/code>ä»¥åŠç±»ä¼¼åº”ç”¨&lt;code>screen&lt;/code>çš„ä¸»è¦ä½œç”¨ã€‚&lt;/p>
&lt;p>&lt;strong>Tmuxçš„ä½œç”¨æœºç†å¾ˆç®€å•ï¼Œå°±æ˜¯æ”¹å˜å½“å‰ä¼šè¯çš„æ ¹è¿›ç¨‹&lt;/strong>ã€‚å½“æˆ‘ä»¬å¯åŠ¨Tmux clientçš„æ—¶å€™ï¼Œå¹¶ä¸æ˜¯åœ¨åŸæ¥&lt;code>sshd--bash&lt;/code>çš„è¿›ç¨‹å…³ç³»ä¸­å¯åŠ¨æ–°çš„CLI shellï¼Œè€Œæ˜¯é€šçŸ¥Tmux serverï¼Œè®©å®ƒforkå­è¿›ç¨‹ï¼Œç„¶åæ‰§è¡Œ&lt;code>bash&lt;/code>,ç„¶åTmux clienté€šè¿‡IPCæ–¹å¼ï¼ˆUnix domain socketï¼‰è¿åˆ°è¿™ä¸ª&lt;code>bash&lt;/code>ä¸Šï¼Œè¿™æ ·è¿™ä¸ªæ–°çš„&lt;code>bash&lt;/code>å°±ä»&lt;code>sshd&lt;/code>ä¸­ç‹¬ç«‹å‡ºæ¥ï¼Œå³ä½¿sshæ–­å¼€è¿æ¥ï¼Œä¹Ÿåªæ˜¯Unix domain socketè¿æ¥æ–­äº†ï¼ŒTmux serverå¯åŠ¨çš„&lt;code>bash&lt;/code>åŠå…¶å­è¿›ç¨‹ä¸å—å½±å“ã€‚å½“æ–°çš„sshè¿æ¥å»ºç«‹åï¼Œå¯ä»¥é€šè¿‡&lt;code>tmux attach&lt;/code>å‘½ä»¤å†å»ºç«‹æ–°çš„Unix domain socketè¿æ¥ã€‚&lt;/p>
&lt;p>Tmux serverçš„ä½œç”¨å’Œä¹‹å‰åœºæ™¯ä¸­&lt;code>sshd&lt;/code>çš„ä½œç”¨ç±»ä¼¼ï¼Œä½†æ˜¯ä¸åŒå¤„ç†å¤æ‚çš„sshåè®®ã€‚&lt;/p>
&lt;p>&lt;img src="../../images/pty-tmux.drawio.svg" alt="pty-tmux">&lt;/p>
&lt;p>Tmuxåœºæ™¯ä¸‹ï¼Œæ•°æ®æµç¨‹ä¼šç¨å¾®å¤æ‚ä¸€ä¸‹ï¼Œæˆ‘ä»¬æ ¹æ®ä¸Šå›¾æ¢³ç†ä¸€ä¸‹ã€‚ä»&lt;code>sshd&lt;/code>å¯åŠ¨å­è¿›ç¨‹shell 3çš„&lt;code>Bash&lt;/code>ä¹‹åå¼€å§‹ã€‚&lt;/p>
&lt;ol start="0">
&lt;li>å¦‚ä¸Šå›¾çº¢è‰²éƒ¨åˆ†ï¼Œssh clientå’Œ&lt;code>sshd&lt;/code>å»ºç«‹ç½‘ç»œè¿æ¥ï¼Œå¹¶äº§ç”ŸBash Shell 3ï¼Œå…¶ä½¿ç”¨PTY slaveï¼Œ&lt;code>/dev/pts/2&lt;/code>ä½œä¸ºæ ‡å‡†è¾“å…¥è¾“å‡ºã€‚æ­¤é˜¶æ®µå’Œ&lt;a href="#%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F">è¿œç¨‹è¿æ¥æ“ä½œç³»ç»Ÿ&lt;/a>ä¸­çš„è¿‡ç¨‹ä¸€è‡´ã€‚&lt;/li>
&lt;li>å½“&lt;code>sshd&lt;/code>å­è¿›ç¨‹çš„&lt;code>bash&lt;/code>æ‰§è¡Œ&lt;code>tmux&lt;/code>åï¼Œshell 3çš„&lt;code>bash&lt;/code> forkå‡ºå­è¿›ç¨‹ï¼Œå¹¶è¿è¡Œtmux clientä½œä¸ºå…¶å‰å°åº”ç”¨ï¼Œå ç”¨&lt;code>/dev/pts/2&lt;/code>ï¼Œæ­¤æ—¶bash shell 3å’Œ&lt;code>/dev/pts/2&lt;/code>çš„é€»è¾‘è¿æ¥è¢«ä¸­æ–­ï¼Œ&lt;code>/dev/pts/2&lt;/code>å’Œtmux clientè¿æ¥ï¼›&lt;/li>
&lt;li>ç”±äºtmux clientå¹¶éä¸€ä¸ªshellï¼Œå› æ­¤å®ƒå”¤é†’äº†tmux serverï¼ˆå¦‚æœå½“å‰tmux serveræœªå¯åŠ¨ï¼Œåˆ™å¯åŠ¨tmux serverï¼‰ï¼Œè®©å…¶forkå‡ºä¸€ä¸ªå­è¿›ç¨‹ï¼Œå¹¶æ‰§è¡Œ&lt;code>bash&lt;/code>å‘½ä»¤ï¼Œå½¢æˆshell 4ï¼Œå‡†å¤‡ä¾›ç»™tmux clientä½¿ç”¨ï¼›&lt;/li>
&lt;li>tmux serveré€šçŸ¥PTYå­ç³»ç»Ÿï¼Œtmux serveræŒæœ‰ptmxï¼ŒPTYå­ç³»ç»Ÿç”Ÿæˆæ–°çš„ä¼ªç»ˆç«¯æ¥å£&lt;code>/dev/pts/3&lt;/code>äº¤ç”±shell 4æŒæœ‰ï¼Œä½œä¸ºå…¶æ ‡å‡†è¾“å…¥è¾“å‡ºè®¾å¤‡ï¼Œæ­¤æ—¶shell 4åªèƒ½å’Œtmux serverè¿é€šï¼›&lt;/li>
&lt;li>tmux clientå’Œtmux serverå»ºç«‹Unix domain socketè¿æ¥ï¼Œtmux clientå°†æ¥è‡ª&lt;code>sshd&lt;/code>(æœ¬è´¨æ¥è‡ªssh client)çš„æ•°æ®é€šè¿‡è¯¥socketè¿æ¥ä¼ é€’ç»™tmux serverï¼Œå¹¶æ¥æ”¶å…¶è¿”å›çš„ä¿¡æ¯ï¼›&lt;/li>
&lt;li>tmux serveré€šè¿‡PTYå­ç³»ç»Ÿå°†æ•°æ®åŠ å·¥ã€ä¼ é€’ç»™&lt;code>/dev/pts/3&lt;/code>ï¼Œå³shell 4çš„æ ‡å‡†è¾“å…¥è¾“å‡ºï¼›&lt;/li>
&lt;li>shell 4ä»æ ‡å‡†è¾“å…¥è¾“å‡º&lt;code>/dev/pts/3&lt;/code>ä¸­è¯»å–æ¥è‡ªç”¨æˆ·çš„å‘½ä»¤ï¼Œæ‰§è¡Œåå†è¿”å›ç»™&lt;code>/dev/pts/3&lt;/code>ï¼›&lt;/li>
&lt;li>è¿”å›çš„ä¿¡æ¯ç»PTYå­ç³»ç»Ÿå¤„ç†åäº¤ä»˜ç»™tmux serverï¼Œå¹¶é€šè¿‡ä¹‹å‰å»ºç«‹socketè¿æ¥ä¼ è¾“å›tmux clientã€‚&lt;/li>
&lt;li>tmux clientæ”¶åˆ°æ•°æ®åå°†æ¶ˆæ¯è¿”å›ç»™å ç”¨çš„&lt;code>/dev/pts/2&lt;/code>ï¼ŒåŒæ ·é€šè¿‡PTYå­ç³»ç»Ÿï¼Œè½¬å‘ç»™&lt;code>sshd&lt;/code>ï¼›&lt;/li>
&lt;li>&lt;code>sshd&lt;/code>åƒä¹‹å‰ä¸€æ ·ï¼Œå¾ªç¯ä»ptmxè¯»å–å­—èŠ‚ï¼Œå¹¶é€šè¿‡ä¹‹é—´å»ºç«‹çš„TCPè¿æ¥å‘é€ç»™ ssh clientã€‚&lt;/li>
&lt;/ol>
&lt;p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œçˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹ä¹‹é—´é€šå¸¸ä¸ç›´æ¥ä¼ é€’æ•°æ®ï¼Œsshd serverå’Œtmux serveræ•°æ®ä¼ è¾“æµç¨‹ç›¸ä¼¼ï¼Œéƒ½é€šè¿‡PTYå­ç³»ç»Ÿä¼ é€’æ•°æ®ï¼Œä¸”ä¸¤è€…äº’ä¸å¹²æ¶‰ï¼›ä½¿ç”¨Tmuxçš„åœºæ™¯ä¸‹ï¼Œæ¯ä¸ªå•é¡¹æ•°æ®æµéƒ½è¦ç»è¿‡PTYå­ç³»ç»Ÿ&lt;strong>ä¸¤æ¬¡&lt;/strong>ã€‚&lt;/p>
&lt;p>ä»æ•°æ®æµç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½çœ‹å‡ºï¼Œå½“sshè¿æ¥æ–­å¼€æ—¶ï¼Œ&lt;code>sshd&lt;/code>ä¾§å…³é—­çš„åªæ˜¯shell 3å’Œsocketè¿æ¥ï¼Œå®é™…ä¸Šè¿è¡Œç¨‹åºçš„shell 4å¹¶ä¸å—å½±å“ã€‚&lt;/p>
&lt;h2 id="æ€»ç»“">æ€»ç»“&lt;/h2>
&lt;p>ä¸ç”¨æˆ·äº¤äº’çš„ç»ˆç«¯ç»å†äº†ä»ç‰©ç†ç»ˆç«¯åˆ°è™šæ‹Ÿç»ˆç«¯å†åˆ°ä¼ªç»ˆç«¯çš„æ¼”å˜ï¼Œæ€»çš„è¶‹åŠ¿æ˜¯ç¡¬ä»¶é€šç”¨åŒ–ï¼ŒåŠŸèƒ½è½¯ä»¶åŒ–ï¼›äº¤äº’çš„å½¢å¼ä¸Šï¼Œä¹Ÿä»æ–‡å­—CLIç»ˆç«¯å‘å›¾å½¢GUIç»ˆç«¯ä¸æ–­å‘å±•ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸èƒ½å¦è®¤CLIä¹Ÿä¸€ç›´æœ‰å®ƒç‹¬åˆ°çš„ä¼˜åŠ¿ï¼Œæ‰èƒ½åœ¨åŠä¸ªä¸–çºªçš„å‰§å˜ä¸­ç”Ÿç”Ÿä¸æ¯ã€‚ç°åœ¨ï¼Œè¾“å…¥è¾“å‡ºä¸€ä½“åŒ–ç»ˆç«¯å¦‚è§¦æ‘¸å±æ–¹å…´æœªè‰¾ï¼Œ3Däº¤äº’ã€ç”šè‡³è„‘æœºæ¥å£ä¹Ÿæ¸å…¥äººä»¬çš„è§†é‡ï¼Œæˆ–è®¸ç°åœ¨å¸¸ç”¨çš„äº¤äº’çš„æ–¹å¼æœªæ¥ä¹Ÿåªèƒ½åƒç‰©ç†ç»ˆç«¯ä¸€æ ·è¿›å…¥åšç‰©é¦†ï¼Œæœ€ç»ˆæœ€é€‚åˆçš„æ‰ä¼šç•™ä¸‹æ¥ï¼Œâ€œé€‚è€…ç”Ÿå­˜â€ä¸ä»…ä»…é€‚ç”¨äºè‡ªç„¶ç•Œçš„ç”Ÿç‰©å‘¢ã€‚&lt;/p>
&lt;h2 id="å‚è€ƒæ–‡ç« åŠèµ„æ–™">å‚è€ƒæ–‡ç« åŠèµ„æ–™&lt;/h2>
&lt;ol>
&lt;li>&lt;a href="https://xie.infoq.cn/article/a6153354865c225bdce5bd55e">https://xie.infoq.cn/article/a6153354865c225bdce5bd55e&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.computerhope.com/history/index.htm">https://www.computerhope.com/history/index.htm&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://developpaper.com/overview-of-linux-tty-pts-differences/">https://developpaper.com/overview-of-linux-tty-pts-differences/&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.feyrer.de/NetBSD/ttys.html">https://www.feyrer.de/NetBSD/ttys.html&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://linux.cn/article-12068-1.html">https://linux.cn/article-12068-1.html&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.linusakesson.net/programming/tty/">https://www.linusakesson.net/programming/tty/&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://blog.csdn.net/dog250/article/details/78766716">https://blog.csdn.net/dog250/article/details/78766716&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.kernel.org/doc/html/latest/fb/index.html">https://www.kernel.org/doc/html/latest/fb/index.html&lt;/a>&lt;/li>
&lt;li>Wikipedia&lt;/li>
&lt;/ol></description></item><item><title>linux-ç‰¹æ®Šè®¾å¤‡æ–‡ä»¶</title><link>https://surprisedcat.github.io/projectnotes/linux-%E7%89%B9%E6%AE%8A%E8%AE%BE%E5%A4%87%E6%96%87%E4%BB%B6/</link><pubDate>Wed, 01 Dec 2021 00:00:00 +0000</pubDate><guid>https://surprisedcat.github.io/projectnotes/linux-%E7%89%B9%E6%AE%8A%E8%AE%BE%E5%A4%87%E6%96%87%E4%BB%B6/</guid><description>
&lt;ul>
&lt;li>&lt;a href="#%E4%BC%AA%E8%AE%BE%E5%A4%87">ä¼ªè®¾å¤‡&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#devnull">&lt;code>/dev/null&lt;/code>&lt;/a>&lt;/li>
&lt;li>&lt;a href="#devzero">&lt;code>/dev/zero&lt;/code>&lt;/a>&lt;/li>
&lt;li>&lt;a href="#devfull">&lt;code>/dev/full&lt;/code>&lt;/a>&lt;/li>
&lt;li>&lt;a href="#devrandom%E5%92%8Cdevurandom">&lt;code>/dev/random&lt;/code>å’Œ&lt;code>/dev/urandom&lt;/code>&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E8%AE%BE%E5%A4%87">æ ‡å‡†è¾“å…¥è¾“å‡ºè®¾å¤‡&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#devstdin%E6%88%960">&lt;code>/dev/stdin&lt;/code>æˆ–0&lt;/a>&lt;/li>
&lt;li>&lt;a href="#devstdout%E6%88%961">&lt;code>/dev/stdout&lt;/code>æˆ–1&lt;/a>&lt;/li>
&lt;li>&lt;a href="#devstderr%E6%88%962">&lt;code>/dev/stderr&lt;/code>æˆ–2&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#%E7%BB%88%E7%AB%AF%E8%AE%BE%E5%A4%87">ç»ˆç«¯è®¾å¤‡&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#%E4%BB%8E%E7%89%A9%E7%90%86%E7%BB%88%E7%AB%AF%E5%88%B0%E8%99%9A%E6%8B%9F%E7%BB%88%E7%AB%AF">ä»ç‰©ç†ç»ˆç«¯åˆ°è™šæ‹Ÿç»ˆç«¯&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E4%BC%AA%E7%BB%88%E7%AB%AF">ä¼ªç»ˆç«¯&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E4%B8%B2%E8%A1%8C%E7%AB%AF%E5%8F%A3%E7%BB%88%E7%AB%AF">ä¸²è¡Œç«¯å£ç»ˆç«¯&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E9%94%99%E8%AF%AF%E8%AE%BE%E5%A4%87%E5%92%8C%E7%BB%88%E7%AB%AF%E8%AE%BE%E5%A4%87%E7%9A%84%E5%85%B3%E7%B3%BB">æ ‡å‡†è¾“å…¥è¾“å‡ºï¼ˆé”™è¯¯ï¼‰è®¾å¤‡å’Œç»ˆç«¯è®¾å¤‡çš„å…³ç³»&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="linux-ç‰¹æ®Šè®¾å¤‡æ–‡ä»¶---omit-in-toc---">linux-ç‰¹æ®Šè®¾å¤‡æ–‡ä»¶&lt;!-- omit in toc -->&lt;/h2>
&lt;p>åœ¨Linuxç³»ç»Ÿä¸­ï¼Œä¸€åˆ‡çš†ä¸ºæ–‡ä»¶ï¼Œè®¾å¤‡ä¹Ÿä¸ä¾‹å¤–ï¼Œä¼šè¢«æè¿°ä¸ºè®¾å¤‡æ–‡ä»¶ï¼Œæ¯”å¦‚å¸¸è§ç¡¬ç›˜ä¼šè¢«æè¿°ä¸º&lt;em>æ”¯æŒéšæœºå­˜å–å’Œå¯»å€&lt;/em>çš„å—è®¾å¤‡æ–‡ä»¶ï¼Œé”®ç›˜ç»ˆç«¯ä¼šè¢«æè¿°æˆ&lt;em>ä¸æ”¯æŒéšæœºå­˜å–&lt;/em>çš„å­—ç¬¦è®¾å¤‡æ–‡ä»¶ã€‚æ­¤å¤–ï¼ŒLinuxæ“ä½œç³»ç»Ÿè¿˜æœ‰ä¸€äº›ç‰¹æ®Šçš„è®¾å¤‡ï¼Œä¾‹å¦‚ä¼ªè®¾å¤‡ã€æ ‡å‡†è¾“å…¥è¾“å‡ºè®¾å¤‡ã€ç»ˆç«¯è®¾å¤‡ç­‰ç­‰ï¼Œå®ƒä»¬ä¸ºæ“ä½œç³»ç»Ÿæä¾›äº†ç¡¬ä»¶çš„æŠ½è±¡åŒ–åŠŸèƒ½ï¼Œç®€åŒ–çš„ç³»ç»Ÿç»“æ„æå‡äº†ç³»ç»Ÿæ¶æ„çš„å¯ç†è§£æ€§ã€‚&lt;/p>
&lt;h2 id="ä¼ªè®¾å¤‡">ä¼ªè®¾å¤‡&lt;/h2>
&lt;p>åœ¨ç±»Unixæ“ä½œç³»ç»Ÿä¸­ï¼Œè®¾å¤‡èŠ‚ç‚¹å¹¶ä¸ä¸€å®šè¦å¯¹åº”ç‰©ç†è®¾å¤‡ã€‚æ²¡æœ‰è¿™ç§å¯¹åº”å…³ç³»çš„è®¾å¤‡æ˜¯&lt;strong>ä¼ªè®¾å¤‡æˆ–è™šæ‹Ÿè®¾å¤‡&lt;/strong>ã€‚è€Œå¯¹ç¨‹åºè€Œè¨€ï¼Œè¿™äº›ä¼ªæ‹Ÿè®¾å¤‡æ–‡ä»¶åˆ™ä¼šè¢«å½“æˆçœŸå®çš„æ–‡ä»¶å¯¹å¾…ã€‚ç¨‹åºå¯ä»¥å‘ä¼ªè®¾å¤‡è¯·æ±‚æ•°æ®ï¼ˆå½“å…·æœ‰å¯è¯»æƒé™æ—¶ï¼‰ï¼Œæ‰€å¾—åˆ°çš„æ•°æ®å°†ç”±æ“ä½œç³»ç»Ÿæä¾›ã€‚æ³¨æ„ï¼Œè¿™äº›æ•°æ®å¹¶ä¸æ˜¯ä»ç£ç›˜ä¸Šè¯»å–åˆ°çš„ï¼Œè€Œæ˜¯ç”±æ“ä½œç³»ç»ŸåŠ¨æ€ç”Ÿæˆçš„ã€‚ç¨‹åºä¹Ÿå¯ä»¥å‘ä¼ªè®¾å¤‡å†™å…¥æ•°æ®ï¼ˆå½“å…·æœ‰å¯å†™æƒé™æ—¶ï¼‰ï¼Œç¨‹åºä¼šæ ¹æ®ä¼ªè®¾å¤‡çš„ç‰¹æ€§ç›¸åº”åœ°å¤„ç†å†™å…¥çš„æ•°æ®ã€‚éƒ¨åˆ†ç»å¸¸ä½¿ç”¨åˆ°çš„ä¼ªè®¾å¤‡åŒ…æ‹¬ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>/dev/null&lt;/code>ï¼šæ¥å—å¹¶ä¸¢å¼ƒæ‰€æœ‰è¾“å…¥ï¼›ã€‚&lt;/li>
&lt;li>&lt;code>/dev/zero&lt;/code>ï¼šäº§ç”Ÿè¿ç»­çš„NULå­—å…ƒçš„ä¸²æµ(æ•°å€¼ä¸º0)ã€‚&lt;/li>
&lt;li>&lt;code>/dev/full&lt;/code>ï¼šæ°¸è¿œåœ¨è¢«å¡«æ»¡çŠ¶æ€çš„è®¾å¤‡ã€‚&lt;/li>
&lt;li>&lt;code>/dev/random&lt;/code>ï¼šäº§ç”Ÿä¸€ä¸ªè™šå‡éšæœºçš„ä»»æ„é•¿åº¦å­—å…ƒä¸²æµã€‚(Blockingï¼Œé˜»å¡å¼)&lt;/li>
&lt;li>&lt;code>/dev/urandom&lt;/code>ï¼šäº§ç”Ÿä¸€ä¸ªè™šå‡éšæœºçš„ä»»æ„é•¿åº¦å­—å…ƒä¸²æµã€‚(Non-Blockingï¼Œéé˜»å¡å¼)&lt;/li>
&lt;/ul>
&lt;h3 id="devnull">&lt;code>/dev/null&lt;/code>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>$ ls -l /dev/null
&lt;span class="ln">2&lt;/span>crw-rw-rw- &lt;span class="m">1&lt;/span> root root 1, &lt;span class="m">3&lt;/span> Nov &lt;span class="m">18&lt;/span> 18:57 null
&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¯¹äºä»¥ä¸Šä¼ªè®¾å¤‡ï¼Œæˆ‘ä»¬&lt;code>/dev/null&lt;/code>åº”è¯¥ç®—æ˜¯æœ€å¸¸è§çš„äº†ã€‚&lt;code>/dev/null&lt;/code>å¯ç§°ä¸ºç©ºè®¾å¤‡ï¼Œå®ƒä¼šæ¥å—ä»»ä½•å†™å…¥çš„å†…å®¹å¹¶æŠŠå®ƒä»¬ç»Ÿç»Ÿæ‰”æ‰ï¼ˆä½†æŠ¥å‘Šå†™å…¥æ“ä½œæˆåŠŸï¼‰ï¼Œå°±åƒé»‘æ´ä¸€æ ·ï¼Œ&lt;strong>é€šå¸¸ç”¨äºä¸¢å¼ƒä¸éœ€è¦çš„æ•°æ®è¾“å‡º&lt;/strong>ã€‚åœ¨ç¨‹åºå‘˜è¡Œè¯ï¼Œå°¤å…¶æ˜¯Unixè¡Œè¯ä¸­ï¼Œ&lt;code>/dev/null&lt;/code>åˆè¢«ç§°ä¸ºä½æ¡¶(bit bucket)æˆ–è€…é»‘æ´(black hole)ã€‚ä»æƒé™æ¥çœ‹ï¼Œ&lt;code>/dev/null&lt;/code>è¿˜æ˜¯å¯è¯»çš„ï¼Œè¯»å–å®ƒåˆ™ä¼šç«‹å³å¾—åˆ°ä¸€ä¸ª&lt;code>EOF&lt;/code>(END Of Fileçš„ç¼©å†™ï¼Œè¡¨ç¤ºç»ˆæ­¢ç¬¦)æ ‡å¿—ã€‚&lt;/p>
&lt;p>æ€»ç»“ï¼šæ‰€æœ‰å†™å…¥&lt;code>\dev\null&lt;/code>çš„å†…å®¹éƒ½ä¼šæ°¸è¿œä¸¢å¤±ï¼Œè€Œå°è¯•ä»å®ƒé‚£å„¿è¯»å–å†…å®¹åˆ™ä»€ä¹ˆä¹Ÿè¯»ä¸åˆ°ã€‚&lt;/p>
&lt;h3 id="devzero">&lt;code>/dev/zero&lt;/code>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>$ ls -l /dev/zero
&lt;span class="ln">2&lt;/span>crw-rw-rw- &lt;span class="m">1&lt;/span> root root 1, &lt;span class="m">5&lt;/span> Nov &lt;span class="m">18&lt;/span> 18:57 /dev/zero
&lt;/code>&lt;/pre>&lt;/div>&lt;p>åœ¨ç±»UNIX æ“ä½œç³»ç»Ÿä¸­ï¼Œ&lt;code>/dev/zero&lt;/code>æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ï¼Œå½“ä½ è¯»å®ƒçš„æ—¶å€™ï¼Œå®ƒä¼šæä¾›æ— é™çš„ç©ºå­—ç¬¦(NULL, ASCII NUL, 0x00)ã€‚å®ƒçš„å…¸å‹ç”¨æ³•åŒ…æ‹¬ç”¨å®ƒæä¾›çš„å­—ç¬¦æµæ¥è¦†ç›–ä¿¡æ¯ï¼Œä»¥åŠäº§ç”Ÿä¸€ä¸ªç‰¹å®šå¤§å°çš„ç©ºç™½æ–‡ä»¶ç­‰ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>&lt;span class="c1"># åˆ›å»ºä¸€ä¸ªåä¸ºtest-dev-zeroã€å¤§å°ä¸º1 MiBçš„æ–‡ä»¶ï¼Œä»¥ASCIIç ä¸ºâ€œ0â€(NULL)çš„å­—ç¬¦å¡«å……ï¼š&lt;/span>
&lt;span class="ln">2&lt;/span>$ dd &lt;span class="k">if&lt;/span>&lt;span class="o">=&lt;/span>/dev/zero &lt;span class="nv">of&lt;/span>&lt;span class="o">=&lt;/span>test-dev-zero &lt;span class="nv">count&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1024&lt;/span> &lt;span class="nv">bs&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1024&lt;/span>
&lt;span class="ln">3&lt;/span>1024+0 records in
&lt;span class="ln">4&lt;/span>1024+0 records out
&lt;span class="ln">5&lt;/span>&lt;span class="m">1048576&lt;/span> bytes &lt;span class="o">(&lt;/span>1.0 MB, 1.0 MiB&lt;span class="o">)&lt;/span> copied, 0.00280503 s, &lt;span class="m">374&lt;/span> MB/s
&lt;span class="ln">6&lt;/span>$ ls -lh test-dev-zero
&lt;span class="ln">7&lt;/span>-rw-r--r-- &lt;span class="m">1&lt;/span> lelouch lelouch 1.0M Dec &lt;span class="m">6&lt;/span> 22:34 test-dev-zero
&lt;span class="ln">8&lt;/span>&lt;span class="c1"># å½»åº•è¦†ç›–æŸä¸€åˆ†åŒºçš„æ•°æ®ï¼ˆä½æ ¼ï¼‰,è°¨æ…æ“ä½œ&lt;/span>
&lt;span class="ln">9&lt;/span>$ dd &lt;span class="k">if&lt;/span>&lt;span class="o">=&lt;/span>/dev/zero &lt;span class="nv">of&lt;/span>&lt;span class="o">=&lt;/span>/dev/&amp;lt;destination partition&amp;gt;
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¸&lt;code>/dev/null&lt;/code>ç±»ä¼¼ï¼Œ&lt;code>/dev/zero&lt;/code>ä¹Ÿå¯ä»¥ä½œä¸ºä¸€ä¸ªæ•°æ®æ¥æ”¶ç‚¹ï¼Œæ‰€æœ‰å†™å¾€&lt;code>/dev/zero&lt;/code>å°†è¿”å›æˆåŠŸï¼Œæ²¡æœ‰å…¶ä»–å½±å“ï¼›&lt;code>/dev/null&lt;/code>ä¹Ÿæ˜¯ä¸€æ ·ï¼Œä½†æ˜¯&lt;code>/dev/null&lt;/code>æ›´å¸¸ç”¨ã€‚&lt;/p>
&lt;h3 id="devfull">&lt;code>/dev/full&lt;/code>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>$ ls -l /dev/full
&lt;span class="ln">2&lt;/span>crw-rw-rw- &lt;span class="m">1&lt;/span> root root 1, &lt;span class="m">7&lt;/span> Nov &lt;span class="m">18&lt;/span> 18:57 /dev/full
&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ³¨æ„å•Š&lt;code>/dev/full&lt;/code>ä¸&lt;code>/dev/null&lt;/code>åªæœ‰ä¸€ä¸ªå­—æ¯ä¹‹å·®ï¼Œä¸è¦æ‰“é”™æˆ–çœ‹é”™äº†ã€‚&lt;code>/dev/full&lt;/code>ä¹Ÿæ˜¯å¯è¯»å†™çš„ï¼Œä»»ä½•è¿›ç¨‹åœ¨å‘å…¶å†™å…¥æ—¶æ€»æ˜¯è¿”å›è®¾å¤‡æ— å‰©ä½™ç©ºé—´ï¼ˆé”™è¯¯ç ä¸ºENOSPCï¼Œ Error No Spaceçš„ç¼©å†™ï¼‰ï¼Œåœ¨Debiançš„è¿”å›ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼›é€šå¸¸è¢«ç”¨æ¥&lt;strong>æµ‹è¯•ç¨‹åºåœ¨é‡åˆ°ç£ç›˜æ— å‰©ä½™ç©ºé—´é”™è¯¯æ—¶çš„è¡Œä¸º&lt;/strong>ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>$ &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;hello&amp;#34;&lt;/span> &amp;gt; /dev/full
&lt;span class="ln">2&lt;/span>-bash: echo: write error: No space left on device
&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¯»å–æ—¶åˆ™ä¸&lt;code>/dev/zero&lt;/code>ä¸€æ ·ï¼Œå¯è¿”å›æ— é™å¤šçš„ç©ºå­—ç¬¦ï¼ˆNULL, ASCII NUL, 0x00ï¼‰ã€‚å®ƒçš„å…¸å‹ç”¨æ³•å’Œ&lt;code>/dev/zero&lt;/code>åŒ…æ‹¬ç”¨å®ƒæä¾›çš„å­—ç¬¦æµæ¥è¦†ç›–ä¿¡æ¯ï¼Œä»¥åŠäº§ç”Ÿä¸€ä¸ªç‰¹å®šå¤§å°çš„ç©ºç™½æ–‡ä»¶ç­‰ï¼Œä½†æ˜¯æ­£å¸¸æƒ…å†µä¸‹ï¼Œç”¨&lt;code>/dev/zero&lt;/code>æ›´å¤šã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>&lt;span class="c1"># åˆ›å»ºä¸€ä¸ªåä¸ºtest-dev-fullã€å¤§å°ä¸º1 MiBçš„æ–‡ä»¶ï¼Œä»¥ASCIIç ä¸ºâ€œ0â€(NULL)çš„å­—ç¬¦å¡«å……ï¼š&lt;/span>
&lt;span class="ln">2&lt;/span>$ dd &lt;span class="k">if&lt;/span>&lt;span class="o">=&lt;/span>/dev/full &lt;span class="nv">of&lt;/span>&lt;span class="o">=&lt;/span>test-dev-full &lt;span class="nv">count&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1024&lt;/span> &lt;span class="nv">bs&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1024&lt;/span>
&lt;span class="ln">3&lt;/span>1024+0 records in
&lt;span class="ln">4&lt;/span>1024+0 records out
&lt;span class="ln">5&lt;/span>&lt;span class="m">1048576&lt;/span> bytes &lt;span class="o">(&lt;/span>1.0 MB, 1.0 MiB&lt;span class="o">)&lt;/span> copied, 0.00283009 s, &lt;span class="m">371&lt;/span> MB/s
&lt;span class="ln">6&lt;/span>$ ls -lh test-dev-full
&lt;span class="ln">7&lt;/span>-rw-r--r-- &lt;span class="m">1&lt;/span> lelouch lelouch 1.0M Dec &lt;span class="m">6&lt;/span> 22:38 test-dev-full
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="devrandomå’Œdevurandom">&lt;code>/dev/random&lt;/code>å’Œ&lt;code>/dev/urandom&lt;/code>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>$ ls -l /dev/random /dev/urandom
&lt;span class="ln">2&lt;/span>crw-rw-rw- &lt;span class="m">1&lt;/span> root root 1, &lt;span class="m">8&lt;/span> Nov &lt;span class="m">18&lt;/span> 18:57 /dev/random
&lt;span class="ln">3&lt;/span>crw-rw-rw- &lt;span class="m">1&lt;/span> root root 1, &lt;span class="m">9&lt;/span> Nov &lt;span class="m">18&lt;/span> 18:57 /dev/urandom
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>/dev/random&lt;/code>å’Œ&lt;code>/dev/urandom&lt;/code>æ˜¯Linuxç³»ç»Ÿä¸­æä¾›çš„éšæœºæ€§çš„ä¼ªè®¾å¤‡ï¼Œè¿™ä¸¤ä¸ªè®¾å¤‡çš„ä»»åŠ¡ï¼Œæ˜¯&lt;strong>æä¾›æ°¸ä¸ä¸ºç©ºçš„éšæœºå­—èŠ‚æ•°æ®æµ&lt;/strong>ã€‚å¾ˆå¤šè§£å¯†ç¨‹åºä¸å®‰å…¨åº”ç”¨ç¨‹åºï¼ˆå¦‚SSH Keys,SSL Keysç­‰ï¼‰éœ€è¦å®ƒä»¬æä¾›çš„éšæœºæ•°æ®æµã€‚è¯»å–è¿™ä¸ªä¸¤ä¸ªè®¾å¤‡éƒ½ä¼šè¿”å›ä¸€å †éšæœºä¹±ç ã€‚&lt;/p>
&lt;p>è¿™ä¸¤ä¸ªè®¾å¤‡çš„å·®å¼‚åœ¨äºï¼š&lt;code>/dev/random&lt;/code>çš„random poolä¾èµ–äºç³»ç»Ÿä¸­æ–­ï¼Œå› æ­¤åœ¨ç³»ç»Ÿçš„ä¸­æ–­æ•°ä¸è¶³æ—¶ï¼Œ&lt;code>/dev/random&lt;/code>è®¾å¤‡ä¼šä¸€ç›´å°é”ï¼Œå°è¯•è¯»å–çš„è¿›ç¨‹å°±ä¼šè¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œç›´åˆ°ç³»ç»Ÿçš„ä¸­æ–­æ•°å……åˆ†å¤Ÿç”¨, &lt;code>/dev/random&lt;/code>è®¾å¤‡å¯ä»¥ä¿è¯æ•°æ®çš„éšæœºæ€§ã€‚&lt;code>/dev/urandom&lt;/code>ä¸ä¾èµ–ç³»ç»Ÿçš„ä¸­æ–­ï¼Œä¹Ÿå°±ä¸ä¼šé€ æˆè¿›ç¨‹å¿™ç­‰å¾…ï¼Œä½†æ˜¯æ•°æ®çš„éšæœºæ€§ä¹Ÿä¸é«˜ã€‚å¦‚æœä¸æ˜¯ç ”ç©¶ç‰¹å®šé—®é¢˜ï¼Œä¸€èˆ¬æ˜¯ç”¨ä¸åˆ°è¿™ä¸¤ä¸ªè®¾å¤‡çš„ã€‚&lt;/p>
&lt;h2 id="æ ‡å‡†è¾“å…¥è¾“å‡ºè®¾å¤‡">æ ‡å‡†è¾“å…¥è¾“å‡ºè®¾å¤‡&lt;/h2>
&lt;p>è¿˜æœ‰ä¸€ç±»å¸¸ç”¨çš„ç‰¹æ®Šè®¾å¤‡å°±æ˜¯&lt;strong>æ ‡å‡†è¾“å…¥è¾“å‡ºè®¾å¤‡&lt;/strong>ï¼Œå®ƒä»¬å’Œæˆ‘ä»¬çš„æ“ä½œæœ€æ¯æ¯ç›¸å…³ã€‚æ‰€æœ‰ç¨‹åºé»˜è®¤çš„è¾“å…¥éƒ½æ¥è‡ª&lt;strong>æ ‡å‡†è¾“å…¥è®¾å¤‡&lt;/strong>ï¼Œæ‰€æœ‰å›æ˜¾çš„å†…å®¹éƒ½ä¼šè¾“å‡ºåˆ°&lt;strong>æ ‡å‡†è¾“å‡ºè®¾å¤‡&lt;/strong>ï¼Œè€Œæ‰€æœ‰çš„æ“ä½œå¼‚å¸¸ã€é”™è¯¯ä¿¡æ¯éƒ½ä¼šç»™åˆ°&lt;strong>æ ‡å‡†é”™è¯¯è®¾å¤‡&lt;/strong>ã€‚å¯ä»¥è¯´æ ‡å‡†è¾“å…¥è¾“å‡ºè®¾å¤‡æ˜¯å’Œæˆ‘ä»¬ç›´æ¥äº¤äº’çš„è®¾å¤‡ï¼Œç®€å•è¯´ï¼Œæˆ‘ä»¬é€šè¿‡æ ‡å‡†è¾“å…¥è®¾å¤‡ç»™ç¨‹åºè¾“å…¥æ•°æ®ï¼Œå†ä»æ ‡å‡†è¾“å‡ºï¼ˆé”™è¯¯ï¼‰è®¾å¤‡å¾—çŸ¥ç¨‹åºè¿ç®—çš„ç»“æœã€‚å®ƒä»¬ä¸‰ä¸ªåˆ†åˆ«è¡¨ç¤ºä¸ºä¸‰ä¸ªè®¾å¤‡æ–‡ä»¶ï¼šæ ‡å‡†è¾“å…¥è®¾å¤‡&lt;code>/dev/stdin&lt;/code>ï¼Œæ ‡å‡†è¾“å‡ºè®¾å¤‡&lt;code>/dev/stdout&lt;/code>ï¼Œæ ‡å‡†é”™è¯¯è®¾å¤‡&lt;code>/dev/stderr&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>$ ls -l /dev/std*
&lt;span class="ln">2&lt;/span>lrwxrwxrwx &lt;span class="m">1&lt;/span> root root &lt;span class="m">15&lt;/span> Nov &lt;span class="m">18&lt;/span> 18:57 /dev/stderr -&amp;gt; /proc/self/fd/2
&lt;span class="ln">3&lt;/span>lrwxrwxrwx &lt;span class="m">1&lt;/span> root root &lt;span class="m">15&lt;/span> Nov &lt;span class="m">18&lt;/span> 18:57 /dev/stdin -&amp;gt; /proc/self/fd/0
&lt;span class="ln">4&lt;/span>lrwxrwxrwx &lt;span class="m">1&lt;/span> root root &lt;span class="m">15&lt;/span> Nov &lt;span class="m">18&lt;/span> 18:57 /dev/stdout -&amp;gt; /proc/self/fd/1
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä»ä¸Šé¢çš„ç»“æœæ¥çœ‹ï¼Œè¿™ä¸‰ä¸ªè®¾å¤‡åˆ†åˆ«äº†é“¾æ¥åˆ°ä¸‰ä¸ªæ–‡ä»¶æè¿°ç¬¦(file descriptor, fd)ï¼Œä¹ æƒ¯ä¸Šï¼Œæ ‡å‡†è¾“å…¥ï¼ˆstandard inputï¼‰çš„æ–‡ä»¶æè¿°ç¬¦æ˜¯ &lt;strong>0&lt;/strong>ï¼Œæ ‡å‡†è¾“å‡ºï¼ˆstandard outputï¼‰æ˜¯ &lt;strong>1&lt;/strong>ï¼Œæ ‡å‡†é”™è¯¯ï¼ˆstandard errorï¼‰æ˜¯ &lt;strong>2&lt;/strong>ã€‚å°½ç®¡è¿™ç§ä¹ æƒ¯å¹¶éUnixå†…æ ¸çš„ç‰¹æ€§ï¼Œä½†æ˜¯å› ä¸ºä¸€äº› shell å’Œå¾ˆå¤šåº”ç”¨ç¨‹åºéƒ½ä½¿ç”¨è¿™ç§ä¹ æƒ¯ï¼Œå› æ­¤ï¼ŒåŸºæœ¬å¸¸è§å†…æ ¸éƒ½éµå¾ªè¿™ç§ä¹ æƒ¯ã€‚&lt;/p>
&lt;h3 id="devstdinæˆ–0">&lt;code>/dev/stdin&lt;/code>æˆ–0&lt;/h3>
&lt;p>STDINæ ‡å‡†è¾“å…¥æ˜¯æŒ‡è¾“å…¥è‡³ç¨‹åºï¼ˆè¿›ç¨‹ï¼‰çš„èµ„æ–™ã€æ–‡ä»¶ç­‰æ•°æ®æµï¼Œæ­¤æ•°æ®æµé»˜è®¤ä»æ ‡å‡†è¾“å…¥è®¾å¤‡è·å–ï¼Œæœ€å¸¸è§çš„æ ‡å‡†è¾“å…¥è®¾å¤‡æ˜¯é”®ç›˜ï¼Œåœ¨ä»¥&lt;code>ssh&lt;/code>è¿œç¨‹ç™»é™†çš„linuxä¸­ä¹Ÿä¼šæŒ‡å‘è™šæ‹Ÿç»ˆç«¯ptsã€‚éœ€è¦æŒ‡å‡ºï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰ç¨‹åºéƒ½éœ€è¦è¾“å…¥ï¼Œå¦‚diræˆ–lsç¨‹åºï¼ˆæ˜¾ç¤ºä¸€ä¸ªç›®å½•ä¸­çš„æ–‡ä»¶åï¼‰è¿è¡Œæ—¶ä¸ç”¨ä»»ä½•è¾“å…¥ã€‚&lt;/p>
&lt;ul>
&lt;li>é»˜è®¤ç»ˆç«¯ç™»å½•ï¼š/dev/stdin -&amp;gt; /proc/self/fd/0 -&amp;gt; /dev/tty1&lt;/li>
&lt;li>SSHç™»å½•ï¼š/dev/stdin -&amp;gt; /proc/self/fd/0 -&amp;gt; /dev/pts/0&lt;/li>
&lt;/ul>
&lt;h3 id="devstdoutæˆ–1">&lt;code>/dev/stdout&lt;/code>æˆ–1&lt;/h3>
&lt;p>STDOUTï¼ˆfd:1ï¼‰æ ‡å‡†è¾“å‡ºæ˜¯æŒ‡ç¨‹åºè¾“å‡ºèµ„æ–™ã€æ•°æ®ã€å›¾åƒçš„æ•°æ®æµï¼Œæ ‡å‡†è¾“å‡ºçš„é»˜è®¤å¯¹åº”è®¾å¤‡æ˜¯ç»ˆç«¯ï¼ˆè¿™æ˜¯ä¸ªå¹¿é˜”çš„æ¦‚å¿µï¼Œlinuxä¸­ä»¥ttyæŒ‡ä»£ï¼‰ï¼Œåœ¨ä»¥&lt;code>ssh&lt;/code>è¿œç¨‹ç™»é™†çš„linuxä¸­ä¹Ÿä¼šæŒ‡å‘è™šæ‹Ÿç»ˆç«¯ptsã€‚éœ€è¦æŒ‡å‡ºï¼šå¹¶éæ‰€æœ‰ç¨‹åºéƒ½è¦æ±‚è¾“å‡ºã€‚å¦‚mvæˆ–renç¨‹åºåœ¨æˆåŠŸå®Œæˆæ—¶æ˜¯æ²‰é»˜çš„ã€‚&lt;em>Linuxçš„è®¾è®¡ç†å¿µæœ‰ä¸€æ¡å³æ˜¯æ²¡æœ‰æ¶ˆæ¯å°±æ˜¯å¥½æ¶ˆæ¯&lt;/em>ã€‚&lt;/p>
&lt;ul>
&lt;li>é»˜è®¤ç»ˆç«¯ç™»å½•ï¼š/dev/stdout -&amp;gt; /proc/self/fd/1 -&amp;gt; /dev/tty1&lt;/li>
&lt;li>SSHç™»å½•ï¼š/dev/stdout -&amp;gt; /proc/self/fd/1 -&amp;gt; /dev/pts/0&lt;/li>
&lt;/ul>
&lt;h3 id="devstderræˆ–2">&lt;code>/dev/stderr&lt;/code>æˆ–2&lt;/h3>
&lt;p>STDERRï¼ˆfd:2ï¼‰æ ‡å‡†é”™è¯¯æ˜¯å¦ä¸€è¾“å‡ºæµï¼Œç”¨äºè¾“å‡ºé”™è¯¯æ¶ˆæ¯æˆ–è¯Šæ–­ã€‚å®ƒç‹¬ç«‹äºæ ‡å‡†è¾“å‡ºï¼Œä¸”å¯ä»¥&lt;strong>åˆ†åˆ«&lt;/strong>è¢«é‡å®šå‘ã€‚å¸¸è§çš„é»˜è®¤ç›®çš„åˆ™ä¸ºå¯å§‹è¿™ä¸ªç¨‹åºçš„ç»ˆç«¯ï¼ˆå’ŒSTDOUTä¸€è‡´ï¼‰ã€‚&lt;/p>
&lt;ul>
&lt;li>é»˜è®¤ç»ˆç«¯ç™»å½•ï¼š/dev/stderr -&amp;gt; /proc/self/fd/2 -&amp;gt; /dev/tty1&lt;/li>
&lt;li>SSHç™»å½•ï¼š/dev/stderr -&amp;gt; /proc/self/fd/2 -&amp;gt; /dev/pts/0&lt;/li>
&lt;/ul>
&lt;p>æˆ‘ä»¬å‘ç°ä¸ç®¡æ˜¯é€šè¿‡ç»ˆç«¯è¿˜æ˜¯sshç™»å½•ï¼Œæœ€ç»ˆæ ‡å‡†è¾“å…¥ã€è¾“å‡ºã€é”™è¯¯è®¾å¤‡éƒ½ä¼šè¢«å®šä½åˆ°åŒä¸€ä¸ªè®¾å¤‡ï¼Œ&lt;code>/dev/tty1&lt;/code>æˆ–&lt;code>/dev/pts/0&lt;/code>ï¼Œè¿™éƒ½æ˜¯linuxä½¿ç”¨è™šæ‹Ÿç»ˆç«¯çš„ç»“æœï¼Œlinuxä½¿ç”¨è™šæ‹Ÿç»ˆç«¯æ¥åŒä¸€ç®¡ç†è¿™äº›æ•°æ®æµå’Œç›¸åº”è®¾å¤‡çš„é©±åŠ¨ã€åè®®ç­‰ã€‚ä¸‹ä¸€èŠ‚æˆ‘ä»¬å°±ä»‹ç»ç»ˆç«¯è®¾å¤‡ï¼Œä¾‹å¦‚ttyä¸ptsã€‚&lt;/p>
&lt;h2 id="ç»ˆç«¯è®¾å¤‡">ç»ˆç«¯è®¾å¤‡&lt;/h2>
&lt;p>Linuxçš„ç»ˆç«¯è®¾å¤‡æ˜¯ä¸æˆ‘ä»¬ç›´æ¥äº¤äº’çš„è®¾å¤‡ï¼Œæˆ‘ä»¬è¿™é‡Œä»…ä»‹ç»ä»¥å‘½ä»¤è¡Œä¸ºä¸»çš„æ–‡å­—ç»ˆç«¯è®¾å¤‡ã€‚ç»ˆç«¯è®¾å¤‡ï¼Œæˆ–TTYè®¾å¤‡æ˜¯ä¸€ç±»ç‰¹æ®Šçš„å­—ç¬¦è®¾å¤‡ï¼Œæ‰€æœ‰å¯ä»¥è¢«ç”¨æ¥å½“ä½œæ§åˆ¶ç»ˆç«¯çš„è®¾å¤‡éƒ½å¯ä»¥è¢«ç§°ä¸ºç»ˆç«¯è®¾å¤‡ï¼Œç›®å‰å¸¸è§çš„åŒ…æ‹¬&lt;strong>è™šæ‹Ÿç»ˆç«¯ã€ä¸²å£å’Œä¼ªç»ˆç«¯&lt;/strong>ã€‚&lt;/p>
&lt;h3 id="ä»ç‰©ç†ç»ˆç«¯åˆ°è™šæ‹Ÿç»ˆç«¯">ä»ç‰©ç†ç»ˆç«¯åˆ°è™šæ‹Ÿç»ˆç«¯&lt;/h3>
&lt;p>è®¡ç®—æœºåœ¨æ—©æœŸéƒ½æ˜¯åºå¤§ã€å¤æ‚ä¸”æ˜‚è´µçš„ï¼Œå³ä½¿å‘å±•åˆ°20ä¸–çºª80ï¼Œ90å¹´ä»£ï¼Œä¸€å°ä¸ªäººç”µè„‘ï¼ˆPCï¼‰ä¾æ—§æ˜¯å¾ˆç½•è§çš„ï¼Œåœ¨Linuxè¯ç”Ÿçš„1991å¹´ï¼Œä¸€å°ä¾¿å®œçš„Apple Macintosh PowerBookçš„ä»·æ ¼æ˜¯&lt;strong>2,299ç¾å…ƒ&lt;/strong>ï¼Œè¦çŸ¥é“é‚£å¯æ˜¯1991å¹´çš„2,299ç¾å…ƒï¼Œå½“å¹´ä¸­å›½äººæ°‘çš„äººå‡GDPæ‰333ç¾å…ƒã€‚æ‰€ä»¥åœ¨è®¡ç®—æœºå‘å±•æ—©æœŸï¼Œå¤§å¤šç”¨æˆ·æ˜¯é€šè¿‡ç‰©ç†ç»ˆç«¯ï¼ˆå¤–è®¾ï¼‰è¿æ¥åˆ°å¤§å‹è®¡ç®—æœºæˆ–ä¸­å‹è®¡ç®—æœºçš„ï¼Œå…±äº«ä¸€å°è®¡ç®—æœºã€‚æ¥çœ‹çœ‹è‘—åçš„IBM 308Xç³»åˆ—è®¡ç®—æœºï¼ˆä»¥ä¸‹æˆ¿é—´ä¸­æ‰€æœ‰è®¾å¤‡éƒ½æ˜¯IBM 3081è®¡ç®—æœºçš„ä¸€éƒ¨åˆ†ï¼‰ï¼š
&lt;img src="../../images/IBM_3081.jpg" alt="IBM_3081.jpg">
ç”±äºæ—©æœŸçš„è®¡ç®—æœºéƒ½æ˜¯å¤šç”¨æˆ·å…±äº«çš„ï¼Œè€Œæ¯ä¸ªç”¨æˆ·éœ€è¦ä¸€å¥—å•ç‹¬çš„å¤–è®¾ï¼ˆç”µä¼ æœºï¼Œteletypeï¼Œç®€ç§°ttyä»¥åŠæ˜¾ç¤ºå™¨ï¼‰å»è¿æ¥ä¸»æœºï¼Œå› æ­¤ç³»ç»Ÿä¸­å°±è¦æœ‰ç›¸åº”çš„ttyç»ˆç«¯å¯¹æ¥ç¨‹åºï¼ŒLinuxä¸­ä¿ç•™çš„å¯ä»¥é€šè¿‡&lt;code>ctrl+alt+F1~F6&lt;/code>åˆ‡æ¢çš„tty1-tty6ï¼ˆ&lt;code>/dev/tty1~/dev/tty6&lt;/code>ï¼‰å…­ä¸ªç»ˆç«¯å°±æ˜¯è¿™ä¸ªæ—¶æœŸå†å²é—ç•™çš„äº§ç‰©ï¼ˆåœ¨å…·æœ‰æ¡Œé¢ç¯å¢ƒçš„Linuxå‘è¡Œç‰ˆä¸­ï¼ŒX Window Systemyä¸€èˆ¬åœ¨/dev/tty7ä¸Šè¿è¡Œï¼Œä¹Ÿæœ‰æŠŠæ¡Œé¢ç»ˆç«¯æ”¾åœ¨tty1å’Œtty2çš„æ¯”å¦‚Ubuntuï¼Œä¾å„Linuxå‘è¡Œç‰ˆè‡ªå·±å†³å®šï¼‰ã€‚é™¤äº†é€šè¿‡ttyè¿æ¥çš„ç»ˆç«¯ï¼Œæ—©æœŸç”µè„‘ä¸Šè¿˜è‡ªå¸¦ä¸€ä¸ªå¯ä»¥ç›´æ¥æ“ä½œå’Œèƒ½å¤Ÿæ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯çš„æ§åˆ¶å°ï¼ˆconsoleï¼‰ï¼Œåœ¨linuxä¸­ä¹Ÿæœ‰ä¸€ä¸ªå¯¹åº”çš„è®¾å¤‡&lt;code>/dev/console&lt;/code>ã€‚&lt;/p>
&lt;p>é‚£æ—¶ttyå’Œconsoleè¿˜æ˜¯æœ‰å¾ˆå¤§çš„åŒºåˆ«çš„ï¼Œå¾ˆå¤šç³»ç»Ÿé…ç½®åªèƒ½é€šè¿‡consoleä¿®æ”¹ï¼Œttyåªèƒ½æ‰§è¡Œç‰¹å®šçš„ç”¨æˆ·ç¨‹åºï¼Œå¾—åˆ°ç”¨æˆ·ç¨‹åºè¿”å›çš„ä¿¡æ¯ã€‚è¿™åŒæ ·è¯´æ˜ï¼Œæ§åˆ¶å°æ˜¯è®¡ç®—æœºçš„åŸºæœ¬è®¾å¤‡ï¼Œè€Œç»ˆç«¯æ˜¯é™„åŠ å¤–è®¾ã€‚&lt;/p>
&lt;p>è¿™ä¸ªè®¾è®¡ä¹Ÿä¿ç•™åˆ°äº†å¦‚ä»Šçš„Linuxæ“ä½œç³»ç»Ÿä¸­ï¼Œä¸ç»ˆç«¯ä¸ç›¸å…³çš„ä¿¡æ¯ï¼Œæ¯”å¦‚å†…æ ¸æ¶ˆæ¯ï¼Œåå°æœåŠ¡æ¶ˆæ¯ï¼Œåªæ˜¾ç¤ºåˆ°æ§åˆ¶å°ä¸Šï¼Œä½†ä¸ä¼šæ˜¾ç¤ºåˆ°ç»ˆç«¯ä¸Šã€‚æ¯”å¦‚åœ¨å¯åŠ¨å’Œå…³é—­Linuxç³»ç»Ÿæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ§åˆ¶å°ä¸Šçœ‹åˆ°å¾ˆå¤šçš„å†…æ ¸ä¿¡æ¯ï¼Œè€Œå¦‚æœé€šè¿‡telnetã€sshç­‰æ–¹å¼è¿æ¥ä¸ŠLinuxç³»ç»Ÿï¼Œè¿™äº›å¼€å…³æœºä¿¡æ¯æ˜¯ä¸ä¼šæ˜¾ç¤ºçš„ã€‚&lt;/p>
&lt;p>åæ¥ï¼Œç”±äºç»ˆç«¯ç¡¬ä»¶è®¾å¤‡è¶Šæ¥è¶Šå¤šæ ·åŒ–ï¼Œå‚å•†ä¹Ÿå„ä¸ç›¸åŒï¼Œäºæ˜¯Linuxå°±å°†å¯¹æ¥å¤–è®¾çš„éƒ¨åˆ†å•ç‹¬æ‹å‡ºæ¥æ¨¡å—åŒ–å¹¶è®¾è®¡äº†åå«TTYçš„å­ç³»ç»Ÿï¼Œå¯¹äºæ¯ä¸€ä¸ªç»ˆç«¯ï¼ŒTTY driveréƒ½ä¼šåˆ›å»ºä¸€ä¸ªTTYè®¾å¤‡ä¸å®ƒå¯¹åº”ï¼Œå¦‚æœæœ‰å¤šä¸ªç»ˆç«¯è¿æ¥è¿‡æ¥ï¼Œé‚£ä¹ˆçœ‹èµ·æ¥å°±æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="ln"> 1&lt;/span> +----------------------------------------+
&lt;span class="ln"> 2&lt;/span> &lt;span class="p">|&lt;/span> TTY é©±åŠ¨ &lt;span class="p">|&lt;/span>
&lt;span class="ln"> 3&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;span class="ln"> 4&lt;/span> &lt;span class="p">|&lt;/span> +-------+ &lt;span class="p">|&lt;/span> +------------------------+
&lt;span class="ln"> 5&lt;/span>+------------+ &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>&amp;lt;--------&amp;gt;&lt;span class="p">|&lt;/span> ç”¨æˆ·è¿›ç¨‹ A &lt;span class="p">|&lt;/span>
&lt;span class="ln"> 6&lt;/span>&lt;span class="p">|&lt;/span> ç»ˆç«¯ A &lt;span class="p">|&lt;/span>&amp;lt;---------&lt;span class="p">|&lt;/span>-&amp;gt;&lt;span class="p">|&lt;/span> tty1 &lt;span class="p">|&lt;/span> +------------+
&lt;span class="ln"> 7&lt;/span>+------------+ &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>&amp;lt;--------&amp;gt;&lt;span class="p">|&lt;/span> ç”¨æˆ·è¿›ç¨‹ B &lt;span class="p">|&lt;/span>
&lt;span class="ln"> 8&lt;/span> &lt;span class="p">|&lt;/span> +-------+ &lt;span class="p">|&lt;/span> +------------------------+
&lt;span class="ln"> 9&lt;/span> &lt;span class="p">|&lt;/span>
&lt;span class="ln">10&lt;/span> &lt;span class="p">|&lt;/span> +-------+ &lt;span class="p">|&lt;/span> +------------------------+
&lt;span class="ln">11&lt;/span>+------------+ &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>&amp;lt;--------&amp;gt;&lt;span class="p">|&lt;/span> ç”¨æˆ·è¿›ç¨‹ C &lt;span class="p">|&lt;/span>
&lt;span class="ln">12&lt;/span>&lt;span class="p">|&lt;/span> ç»ˆç«¯ B &lt;span class="p">|&lt;/span>&amp;lt;---------&lt;span class="p">|&lt;/span>-&amp;gt;&lt;span class="p">|&lt;/span> tty2 &lt;span class="p">|&lt;/span> +------------+
&lt;span class="ln">13&lt;/span>+------------+ &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>&amp;lt;--------&amp;gt;&lt;span class="p">|&lt;/span> ç”¨æˆ·è¿›ç¨‹ D &lt;span class="p">|&lt;/span>
&lt;span class="ln">14&lt;/span> &lt;span class="p">|&lt;/span> +-------+ &lt;span class="p">|&lt;/span> +------------------------+
&lt;span class="ln">15&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;span class="ln">16&lt;/span> +----------------------------------------+
&lt;/code>&lt;/pre>&lt;/div>&lt;p>åæ¥éšç€è®¡ç®—æœºçš„ä¸æ–­å‘å±•ï¼Œteletypeï¼Œconsoleè¿™äº›ç‰¹å®šçš„å¤–è®¾é€æ¸æ¶ˆå¤±ï¼Œæˆ‘ä»¬ä¸å†éœ€è¦ä¸“é—¨çš„ç»ˆç«¯è®¾å¤‡äº†ï¼Œæ¯ä¸ªæœºå™¨éƒ½æœ‰è‡ªå·±çš„é”®ç›˜å’Œæ˜¾ç¤ºå™¨ï¼Œæ¯å°æœºå™¨è¿˜å¯ä»¥æ˜¯å…¶å®ƒæœºå™¨çš„ç»ˆç«¯ï¼Œå³è¿œç¨‹çš„æ“ä½œé€šè¿‡sshæ¥å®ç°ï¼Œä½†æ˜¯å†…æ ¸TTYé©±åŠ¨è¿™ä¸€æ¶æ„ä¸€ç›´æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œæˆ‘ä»¬æƒ³è¦å’Œç³»ç»Ÿä¸­çš„è¿›ç¨‹è¿›è¡ŒI/Oäº¤äº’ï¼Œè¿˜æ˜¯éœ€è¦é€šè¿‡TTYè®¾å¤‡ï¼Œäºæ˜¯å‡ºç°äº†å„ç§&lt;strong>ç»ˆç«¯æ¨¡æ‹Ÿè½¯ä»¶&lt;/strong>ï¼Œæœ€ç»ˆç‰©ç†ç»ˆç«¯éƒ½å˜æˆäº†è™šæ‹Ÿç»ˆç«¯åŸ‹è¿›äº†å†…æ ¸ä¸­ã€‚æˆ‘ä»¬çš„è¾“å…¥å’Œç¨‹åºçš„è¾“å‡ºéƒ½é€šè¿‡ç»ˆç«¯æ¨¡æ‹Ÿè½¯ä»¶è½¬å˜ä¸º&lt;strong>è¿‡å»çš„ttyè®¾å¤‡ä¿¡æ¯æµ&lt;/strong>ä¸å†…æ ¸äº¤äº’ï¼Œå¯ä»¥ç§°ä¹‹ä¸ºéšè—åœ¨å†…æ ¸æ·±å¤„çš„è®¡ç®—æœºå†å²ç—•è¿¹ğŸ˜†ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="ln"> 1&lt;/span> +-----------------------------------------+
&lt;span class="ln"> 2&lt;/span> å†…æ ¸ &lt;span class="p">|&lt;/span> ç”¨æˆ·ç©ºé—´ &lt;span class="p">|&lt;/span>
&lt;span class="ln"> 3&lt;/span> &lt;span class="p">|&lt;/span> +-----+ +------+ &lt;span class="p">|&lt;/span> +---------+
&lt;span class="ln"> 4&lt;/span>+--------+ &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>&amp;lt;--&amp;gt;&lt;span class="p">|&lt;/span> tty1 &lt;span class="p">|&lt;/span>&amp;lt;-&lt;span class="p">|&lt;/span>---&amp;gt;&lt;span class="p">|&lt;/span> Shell &lt;span class="m">1&lt;/span> &lt;span class="p">|&lt;/span>
&lt;span class="ln"> 5&lt;/span>&lt;span class="p">|&lt;/span> é”® ç›˜ &lt;span class="p">|&lt;/span>---&amp;gt;&lt;span class="p">|&lt;/span> ç»ˆç«¯ &lt;span class="p">|&lt;/span> +------+ &lt;span class="p">|&lt;/span> +---------+
&lt;span class="ln"> 6&lt;/span>+--------&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> æ¨¡æ‹Ÿ &lt;span class="p">|&lt;/span>&amp;lt;--&amp;gt;&lt;span class="p">|&lt;/span> tty2 &lt;span class="p">|&lt;/span>&amp;lt;-&lt;span class="p">|&lt;/span>---&amp;gt;&lt;span class="p">|&lt;/span> Shell &lt;span class="m">2&lt;/span> &lt;span class="p">|&lt;/span>
&lt;span class="ln"> 7&lt;/span>&lt;span class="p">|&lt;/span> æ˜¾ç¤ºå™¨ &lt;span class="p">|&lt;/span>&amp;lt;---&lt;span class="p">|&lt;/span> è½¯ä»¶ &lt;span class="p">|&lt;/span> +------+ &lt;span class="p">|&lt;/span> +---------+
&lt;span class="ln"> 8&lt;/span>+--------+ &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>&amp;lt;--&amp;gt;&lt;span class="p">|&lt;/span> tty3 &lt;span class="p">|&lt;/span>&amp;lt;-&lt;span class="p">|&lt;/span>---&amp;gt;&lt;span class="p">|&lt;/span> Shell &lt;span class="m">3&lt;/span> &lt;span class="p">|&lt;/span>
&lt;span class="ln"> 9&lt;/span> &lt;span class="p">|&lt;/span> +-----+ +------+ &lt;span class="p">|&lt;/span>--------------+
&lt;span class="ln">10&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span>
&lt;span class="ln">11&lt;/span> +-----------------------------------------+
&lt;/code>&lt;/pre>&lt;/div>&lt;p>éœ€è¦æŒ‡å‡ºï¼Œè½¯ä»¶ä»¿çœŸç»ˆç«¯å’Œttyæ˜¯è¿è¡Œåœ¨å†…æ ¸æ€çš„ã€‚è¿‡å»çš„&lt;code>/dev/console&lt;/code>è¢«é»˜è®¤è¿æ¥åˆ°å½“å‰ç™»å½•çš„è™šæ‹Ÿç»ˆç«¯ï¼ˆ&lt;code>/dev/tty0&lt;/code>ä¹ŸåŒæ ·æŒ‡å‘å½“å‰çš„è™šæ‹Ÿç»ˆç«¯ï¼Œä½†æ˜¯&lt;code>/dev/tty&lt;/code>æŒ‡å‘çš„å½“å‰ä»»æ„ç»ˆç«¯ï¼Œæ—¢å¯ä»¥æ˜¯è™šæ‹Ÿç»ˆç«¯ä¹Ÿå¯ä½¿ä¼ªç»ˆç«¯ï¼‰ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æŠŠç»ˆç«¯ç”¨&lt;code>ctrl+alt+F6&lt;/code>åˆ‡æ¢åˆ°tty6åšä»¥ä¸‹å°è¯•ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln"> 1&lt;/span>&lt;span class="c1">#/dev/tty Current TTY device&lt;/span>
&lt;span class="ln"> 2&lt;/span>&lt;span class="c1">#/dev/console System console, defalut current virtual console&lt;/span>
&lt;span class="ln"> 3&lt;/span>&lt;span class="c1">#/dev/tty0 Current virtual console&lt;/span>
&lt;span class="ln"> 4&lt;/span>$ tty
&lt;span class="ln"> 5&lt;/span>/dev/tty6
&lt;span class="ln"> 6&lt;/span>$ sudo bash -c &lt;span class="s1">&amp;#39;echo &amp;#34;Hello from tty6&amp;#34; &amp;gt; /dev/console&amp;#39;&lt;/span>
&lt;span class="ln"> 7&lt;/span>Hello from tty6
&lt;span class="ln"> 8&lt;/span>$ sudo bash -c &lt;span class="s1">&amp;#39;echo &amp;#34;Hello from tty6&amp;#34; &amp;gt; /dev/tty&amp;#39;&lt;/span>
&lt;span class="ln"> 9&lt;/span>Hello from tty6
&lt;span class="ln">10&lt;/span>$ sudo bash -c &lt;span class="s1">&amp;#39;echo &amp;#34;Hello from tty6&amp;#34; &amp;gt; /dev/tty0&amp;#39;&lt;/span>
&lt;span class="ln">11&lt;/span>Hello from tty6
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä»è¿™ä¸‰ä¸ªè®¾å¤‡éƒ½å¾—åˆ°äº†é‡å®šå‘çš„æ¶ˆæ¯ï¼Œè¯´æ˜å®ƒä»¬ä¸‰ä¸ªéƒ½è¢«è¿æ¥åˆ°äº†å½“å‰ç»ˆç«¯ã€‚ä½†æ˜¯ï¼Œå¦‚æœç”¨&lt;em>ä¼ªç»ˆç«¯&lt;/em>ï¼Œåªæœ‰&lt;code>sudo bash -c 'echo &amp;quot;Hello from tty6&amp;quot; &amp;gt; /dev/tty'&lt;/code>ä¼šæœ‰å›æ˜¾ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬ç”¨Ubuntuè‡ªå¸¦çš„ä¼ªç»ˆç«¯å°è¯•ç»“æœå¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="../../images/%E4%BC%AA%E7%BB%88%E7%AB%AF%E5%9B%9E%E6%98%BE.png" alt="ä¼ªç»ˆç«¯å›æ˜¾">&lt;/p>
&lt;p>ä¼ªç»ˆç«¯å’Œè™šæ‹Ÿç»ˆç«¯æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿæˆ‘ä»¬ä¸‹é¢çœ‹çœ‹ä¼ªç»ˆç«¯ã€‚&lt;/p>
&lt;h3 id="ä¼ªç»ˆç«¯">ä¼ªç»ˆç«¯&lt;/h3>
&lt;p>å½“æˆ‘ä»¬éœ€è¦ç»ˆç«¯æ¨¡æ‹Ÿå™¨æœ‰æ›´çµæ´»çš„åŠŸèƒ½è€Œåˆä¸æƒ³åŠ¨ç”¨å†…æ ¸æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è®©&lt;strong>ç»ˆç«¯æ¨¡æ‹Ÿç¨‹åºè¿è¡Œåœ¨ç”¨æˆ·åŒº&lt;/strong>ã€‚å¦‚æœæˆ‘ä»¬è®©ç»ˆç«¯æ¨¡æ‹Ÿç¨‹åºè¿è¡Œåœ¨ç”¨æˆ·åŒºï¼Œå°±éœ€è¦&lt;strong>ä¼ªç»ˆç«¯&lt;/strong>ï¼ˆpseudoterminalæˆ–pseudotty, PTYï¼‰ã€‚PTYæ˜¯æè¿°å¹¶éå•ä¸ªè®¾å¤‡æ–‡ä»¶ï¼Œè€Œæ˜¯&lt;strong>ä¸€å¯¹å¯åŒå‘é€šä¿¡çš„è™šæ‹Ÿå­—ç¬¦è®¾å¤‡&lt;/strong>ï¼Œç§°ä¸º PTY master(ptmx)å’Œ PYT slave(pts)ã€‚å½“å‰PTYæœ‰BSDï¼ˆmasterå&lt;code>/dev/pty[p-za-e][0-9a-f]&lt;/code>ï¼Œsalveå&lt;code>/dev/tty[p-za-e][0-9a-f]&lt;/code>ï¼‰å’ŒUNIX 98(masterå&lt;code>/dev/ptmx&lt;/code>ï¼Œsalveå&lt;code>/dev/pts/*&lt;/code>)ä¸¤ç§å‘½åä¸å®ç°æ–¹å¼ï¼Œä½†æ˜¯ç›®å‰å¤§å¤šæ•°éƒ½ç”¨çš„æ˜¯UNIX98æ ‡å‡†ã€‚&lt;/p>
&lt;p>ä»ç”¨æˆ·ç©ºé—´çš„ç¨‹åºæ¥çœ‹ï¼Œä½¿ç”¨è™šæ‹Ÿç»ˆç«¯è¿˜æ˜¯ä¼ªç»ˆç«¯éƒ½æ˜¯ä¸€æ ·çš„ã€‚æ­¤å¤–ï¼Œå¦‚æœç³»ç»Ÿç”±å¤šä¸ªä¼ªç»ˆç«¯è¿æ¥ï¼Œptmxå’ŒptsåˆåŠ›å®Œæˆå¤šä¸ªä¼ªç»ˆç«¯çš„ä¼šè¯ç®¡ç†ã€‚ä½†ç”±äºPTYè¿è¡Œåœ¨ç”¨æˆ·åŒºï¼Œæ›´åŠ å®‰å…¨å’Œçµæ´»ï¼ŒåŒæ—¶ä»ç„¶ä¿ç•™äº†TTYé©±åŠ¨çš„åŠŸèƒ½ï¼Œå› æ­¤æˆ‘ä»¬ç›®å‰åœ¨Linuxæ¡Œé¢å‘è¡Œç‰ˆä¸­è°ƒå‡ºæ¥çš„å‘½ä»¤è¡Œå·¥å…·ã€telnetã€sshã€VNCè¿œç¨‹è¿æ¥å‡ ä¹éƒ½æ˜¯ä¼ªç»ˆç«¯ã€‚å¸¸ç”¨çš„ä¼ªç»ˆç«¯æœ‰xtermï¼Œgnome-terminalï¼Œä»¥åŠè¿œç¨‹ç»ˆç«¯sshç­‰ã€‚&lt;/p>
&lt;p>ä¼ªç»ˆç«¯çš„å…·ä½“å·¥ä½œæµç¨‹æ¯”è¾ƒå¤æ‚ï¼Œå¦‚æœæƒ³å…·ä½“äº†è§£å¯ä»¥å‚è€ƒ2010å¹´çš„ã€ŠThe Linux Programming Interfaceã€‹çš„64ç« ã€‚å¯¹ä¸€èˆ¬ç”¨æˆ·è€Œè¨€ï¼Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“ä»–æ˜¯ä¸€ç§è¿è¡Œåœ¨ç”¨æˆ·ç©ºé—´çš„ttyå°±å¯ä»¥äº†~&lt;/p>
&lt;h3 id="ä¸²è¡Œç«¯å£ç»ˆç«¯">ä¸²è¡Œç«¯å£ç»ˆç«¯&lt;/h3>
&lt;p>ä¸²è¡Œç«¯å£ç»ˆç«¯æ˜¯åŸºäºRS-232æ¥å£è¿æ¥åˆ°ä¸»æœºçš„ç»ˆç«¯è®¾å¤‡ï¼Œä½œä¸ºæœ€å¤è€çš„è®¾å¤‡æ¥å£ä¹‹ä¸€ï¼Œæ—©æœŸçš„å¤–è®¾ä¸€èˆ¬éƒ½ä½¿ç”¨ä¸²è¡Œç«¯å£ç»ˆç«¯ã€‚åŒæ ·çš„ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ç±»å­—ç¬¦è®¾å¤‡ï¼Œç”¨è®¾å¤‡æè¿°ç¬¦&lt;code>/dev/ttySX&lt;/code>è¡¨ç¤º,&amp;quot;X&amp;quot;ä»£è¡¨ä¸€æ•°å­—ã€‚ç°åœ¨ä¸²å£åè®®ä¸€èˆ¬ç”¨åœ¨åµŒå…¥å¼å•ç‰‡æœºæˆ–å·¥ä¸šæœºä¸Šï¼Œå¤§å¤šæ•°ä¸ªäººç”µè„‘ç°åœ¨è¿ä¸²å£æ¥å£éƒ½æ²¡ä¿ç•™ã€‚ä¸‹å›¾ä»¥çºªå¿µæˆ‘å•ç‰‡æœºç„Šæ¿å­çš„ç”Ÿæ´»ï¼š&lt;/p>
&lt;p>&lt;img src="../../images/RS232.jfif" alt="RS232ä¸²å£">&lt;/p>
&lt;h3 id="æ ‡å‡†è¾“å…¥è¾“å‡ºé”™è¯¯è®¾å¤‡å’Œç»ˆç«¯è®¾å¤‡çš„å…³ç³»">æ ‡å‡†è¾“å…¥è¾“å‡ºï¼ˆé”™è¯¯ï¼‰è®¾å¤‡å’Œç»ˆç«¯è®¾å¤‡çš„å…³ç³»&lt;/h3>
&lt;p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ ‡å‡†è¾“å…¥è¾“å‡ºï¼ˆé”™è¯¯ï¼‰è®¾å¤‡ä¼šè¢«é“¾æ¥åˆ°&lt;strong>å½“å‰æ­£åœ¨ä½¿ç”¨çš„ç»ˆç«¯è®¾å¤‡&lt;/strong>ï¼Œå¯ä»¥æ˜¯è™šæ‹Ÿè®¾å¤‡ä¹Ÿå¯ä»¥æ˜¯ä¼ªè®¾å¤‡ï¼Œé‡è¦ç‚¹æ˜¯æ­£åœ¨æ“ä½œå“ªä¸ªç»ˆç«¯è®¾å¤‡ã€‚&lt;/p></description></item><item><title>linux-ä»è®¾å¤‡æ–‡ä»¶çœ‹é‡å®šå‘</title><link>https://surprisedcat.github.io/projectnotes/linux-%E4%BB%8E%E8%AE%BE%E5%A4%87%E6%96%87%E4%BB%B6%E7%9C%8B%E9%87%8D%E5%AE%9A%E5%90%91/</link><pubDate>Wed, 24 Nov 2021 00:00:00 +0000</pubDate><guid>https://surprisedcat.github.io/projectnotes/linux-%E4%BB%8E%E8%AE%BE%E5%A4%87%E6%96%87%E4%BB%B6%E7%9C%8B%E9%87%8D%E5%AE%9A%E5%90%91/</guid><description>
&lt;ul>
&lt;li>&lt;a href="#%E7%BB%88%E7%AB%AF%E8%AE%BE%E5%A4%87%E6%96%87%E4%BB%B6">ç»ˆç«¯è®¾å¤‡æ–‡ä»¶&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E8%AE%BE%E5%A4%87%E4%B8%8E%E7%BB%88%E7%AB%AF%E8%AE%BE%E5%A4%87%E6%96%87%E4%BB%B6">æ ‡å‡†è¾“å…¥è¾“å‡ºè®¾å¤‡ä¸ç»ˆç«¯è®¾å¤‡æ–‡ä»¶&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E4%B8%80%E5%88%87%E7%9A%86%E6%96%87%E4%BB%B6">ä¸€åˆ‡çš†æ–‡ä»¶&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91">è¾“å…¥è¾“å‡ºé‡å®šå‘&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E6%B3%A8%E6%84%8F-here-doucment">æ³¨æ„&amp;lt;&amp;lt; Here doucment&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E7%AC%A6%E5%8F%B7">&amp;amp;ç¬¦å·&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E5%8F%82%E8%80%83%E5%86%85%E5%AE%B9">å‚è€ƒå†…å®¹&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="linux-ä»è®¾å¤‡æ–‡ä»¶çœ‹é‡å®šå‘---omit-in-toc---">linux-ä»è®¾å¤‡æ–‡ä»¶çœ‹é‡å®šå‘&lt;!-- omit in toc -->&lt;/h2>
&lt;p>æˆ‘ä»¬åœ¨ã€Šlinux-ç‰¹æ®Šè®¾å¤‡æ–‡ä»¶ã€‹ä¸€æ–‡ä¸­ä»‹ç»äº†æ ‡å‡†è¾“å…¥è¾“å‡ºï¼ˆé”™è¯¯ï¼‰è®¾å¤‡å’Œç»ˆç«¯è®¾å¤‡ï¼ŒæŒ‡å‡ºé»˜è®¤æƒ…å†µä¸‹è¾“å…¥çš„ä¿¡æ¯æ¥è‡ªæ ‡å‡†è¾“å…¥è®¾å¤‡(stdin)ï¼Œç¨‹åºè¿”å›çš„ä¸€èˆ¬ä¿¡æ¯äº¤ç»™æ ‡å‡†è¾“å‡ºè®¾å¤‡(stdout)ï¼Œè¿”å›çš„é”™è¯¯ä¿¡æ¯äº¤ç»™æ ‡å‡†é”™è¯¯è®¾å¤‡(stderr)ï¼Œè€Œæ ‡å‡†è¾“å…¥è¾“å‡ºï¼ˆé”™è¯¯ï¼‰è®¾å¤‡åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œéƒ½ä¼šè¢«é“¾æ¥åˆ°æ­£åœ¨è¢«æ“ä½œçš„è™šæ‹Ÿç»ˆç«¯(tty)æˆ–ä¼ªç»ˆç«¯(pty)ï¼Œæœ€ç»ˆè½¬å‘åˆ°æˆ‘ä»¬çš„äº¤äº’ç•Œé¢ã€‚&lt;/p>
&lt;p>ä»æ•°æ®æµçš„è§’åº¦æ¥çœ‹ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œè¾“å…¥æ•°æ®æµæ˜¯Linuxå†…æ ¸å°†é”®ç›˜è¾“å…¥çš„æ•°æ®æ¥æ”¶åï¼Œå†å†™å…¥&lt;code>/dev/stdin&lt;/code>è®¾å¤‡ï¼Œ&lt;code>/dev/stdin&lt;/code>è®¾å¤‡å†å°†æ•°æ®ä¼ é€’ç»™ç›¸åº”çš„ç¨‹åºï¼›è¾“å‡ºæ•°æ®æµæ˜¯ç¨‹åºå°†è¿”å›çš„ä¿¡æ¯å†™å…¥&lt;code>/dev/stdout,/dev/stderr&lt;/code>è®¾å¤‡ï¼ŒLinuxå†…æ ¸ä»&lt;code>/dev/stdout,/dev/stderr&lt;/code>è®¾å¤‡è¯»å–ç¨‹åºçš„ä¿¡æ¯ï¼Œå¹¶æœ€ç»ˆäº¤ä»˜ç»™ç‰©ç†ç»ˆç«¯ï¼ˆæ˜¾ç¤ºå™¨ï¼‰ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p>
&lt;p>&lt;img src="../../images/%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E7%AE%80%E5%8C%96%E5%9B%BE.drawio.svg" alt="æ ‡å‡†è¾“å…¥è¾“å‡ºç®€åŒ–å›¾">&lt;/p>
&lt;p>ä»ç»“æœä¸Šæ¥è®²ï¼Œä¸Šè¿°æµç¨‹å¤§ä½“æ˜¯å¯¹çš„ï¼Œå¦‚æœåªæ˜¯æ­£å¸¸ä½¿ç”¨Linuxç³»ç»Ÿï¼Œç†è§£åˆ°æ­¤ä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜ã€‚å¦‚æœæˆ‘ä»¬æ·±å…¥åœ°äº†è§£å®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼Œä¼šå‘ç°ä»¥ä¸Šçš„æè¿°å­˜åœ¨ä¸€äº›ä¸å‡†ç¡®çš„åœ°æ–¹ã€‚&lt;/p>
&lt;h2 id="ç»ˆç«¯è®¾å¤‡æ–‡ä»¶">ç»ˆç«¯è®¾å¤‡æ–‡ä»¶&lt;/h2>
&lt;p>å½“æˆ‘ä»¬ä½¿ç”¨åŸºäºå‘½ä»¤è¡Œçš„ç”¨æˆ·æ¥å£ï¼ŒCLI Shellï¼Œæ—¶ï¼ˆä¾‹å¦‚Bashï¼Œshï¼Œzshï¼‰ï¼Œéƒ½æ˜¯é€šè¿‡ç»ˆç«¯æ¨¡æ‹Ÿå™¨å’ŒLinuxç³»ç»Ÿè¿›è¡Œäº¤äº’ã€‚å¦‚æœè¿™ä¸ªç»ˆç«¯æ¨¡æ‹Ÿå™¨ä½¿ç”¨çš„æ˜¯å†…æ ¸ä¸­å®ç°çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨ï¼Œé‚£ä¹ˆå«åšè™šæ‹Ÿç»ˆç«¯ï¼Œä¸ºç”¨æˆ·æä¾›äº†&lt;code>/dev/ttyX&lt;/code>çš„è®¾å¤‡æ¥å£æ–‡ä»¶ï¼›è‹¥è¿™ä¸ªç»ˆç«¯æ¨¡æ‹Ÿå™¨å·¥ä½œåœ¨Linuxç”¨æˆ·åŒºç”šè‡³è¿œç¨‹å®¢æˆ·ç«¯ï¼ˆå¦‚sshï¼‰ï¼Œé‚£ä¹ˆå«åšä¼ªç»ˆç«¯ï¼Œä¸ºç”¨æˆ·æä¾›äº†&lt;code>/dev/ptmx&lt;/code>å’Œ&lt;code>/dev/pts/X&lt;/code>è¿™ä¸¤ä¸ªè®¾å¤‡æ¥å£æ–‡ä»¶ã€‚å¯¹ç”¨æˆ·åŒºç¨‹åºè€Œè¨€ï¼Œæ— è®ºæ˜¯&lt;code>/dev/ttyX&lt;/code>è¿˜æ˜¯&lt;code>/dev/pts/X&lt;/code>I/Oæ“ä½œéƒ½è¡¨ç°å¾—åƒä¸ªæ ‡å‡†ç»ˆç«¯ã€‚&lt;/p>
&lt;blockquote>
&lt;p>æ³¨ï¼šLinuxè¯ç”Ÿä¹‹åˆï¼Œç”¨æˆ·é€šè¿‡ç‰©ç†ç»ˆç«¯å’ŒLinuxè®¡ç®—æœºè¿æ¥äº¤äº’ï¼Œåæ¥ç‰©ç†ç»ˆç«¯è¢«æ·˜æ±°å˜æˆé”®ç›˜ã€æ˜¾ç¤ºå™¨ç­‰å¤–è®¾ï¼Œç„¶åLinuxå†…éƒ¨æœºåˆ¶å´å·²ç»å’Œç‰©ç†ç»ˆç«¯æ¨¡å¼æ·±æ·±ç»‘å®šä¸”å·¥ä½œè‰¯å¥½ï¼Œå› æ­¤Linuxç³»ç»Ÿä¸ºäº†ä¿æŒå…¼å®¹æ€§ï¼ˆå°‘æ”¹ä»£ç ï¼‰ï¼Œå°±åœ¨ç³»ç»Ÿä¸­ç”¨è½¯ä»¶å®ç°äº†ä¸€ä¸ªæ¨¡ä»¿ç»ˆç«¯å·¥ä½œçš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨ï¼Œæ¥â€œæ¬ºéª—â€å…¶ä»–æ¨¡å—ï¼šæˆ‘ä»¬ä»ç„¶åœ¨å’Œç»ˆç«¯äº¤äº’ï¼Œä»€ä¹ˆéƒ½ä¸ç”¨æ”¹~~ç»ˆç«¯å‘å±•å†ç¨‹å¯å‚è€ƒæ–‡ç« ã€Šlinux-ä¸ç»ˆç«¯äº¤äº’çš„å‘å±•ã€‹ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>æˆ‘ä»¬å¯ä»¥åœ¨&lt;code>/dev&lt;/code>ä¸‹çœ‹åˆ°è¿™äº›è™šæ‹Ÿç»ˆç«¯æˆ–ä¼ªç»ˆç«¯è®¾å¤‡çš„è®¾å¤‡æ–‡ä»¶æè¿°ç¬¦(file descriptor, fd)ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln"> 1&lt;/span>$ ls -al /dev/tty&lt;span class="o">[&lt;/span>0-9&lt;span class="o">]&lt;/span> /dev/pts/*
&lt;span class="ln"> 2&lt;/span>crw--w---- &lt;span class="m">1&lt;/span> lelouch tty 136, &lt;span class="m">0&lt;/span> Dec &lt;span class="m">29&lt;/span> 23:39 /dev/pts/0
&lt;span class="ln"> 3&lt;/span>c--------- &lt;span class="m">1&lt;/span> root root 5, &lt;span class="m">2&lt;/span> Oct &lt;span class="m">8&lt;/span> 14:47 /dev/pts/ptmx
&lt;span class="ln"> 4&lt;/span>crw--w---- &lt;span class="m">1&lt;/span> root tty 4, &lt;span class="m">0&lt;/span> Oct &lt;span class="m">8&lt;/span> 14:47 /dev/tty0
&lt;span class="ln"> 5&lt;/span>crw--w---- &lt;span class="m">1&lt;/span> root tty 4, &lt;span class="m">1&lt;/span> Oct &lt;span class="m">8&lt;/span> 14:47 /dev/tty1
&lt;span class="ln"> 6&lt;/span>crw--w---- &lt;span class="m">1&lt;/span> root tty 4, &lt;span class="m">2&lt;/span> Oct &lt;span class="m">8&lt;/span> 14:47 /dev/tty2
&lt;span class="ln"> 7&lt;/span>crw--w---- &lt;span class="m">1&lt;/span> root tty 4, &lt;span class="m">3&lt;/span> Oct &lt;span class="m">8&lt;/span> 14:47 /dev/tty3
&lt;span class="ln"> 8&lt;/span>crw--w---- &lt;span class="m">1&lt;/span> root tty 4, &lt;span class="m">4&lt;/span> Oct &lt;span class="m">8&lt;/span> 14:47 /dev/tty4
&lt;span class="ln"> 9&lt;/span>crw--w---- &lt;span class="m">1&lt;/span> root tty 4, &lt;span class="m">5&lt;/span> Oct &lt;span class="m">8&lt;/span> 14:47 /dev/tty5
&lt;span class="ln">10&lt;/span>crw--w---- &lt;span class="m">1&lt;/span> root tty 4, &lt;span class="m">6&lt;/span> Oct &lt;span class="m">8&lt;/span> 14:47 /dev/tty6
&lt;span class="ln">11&lt;/span>crw--w---- &lt;span class="m">1&lt;/span> root tty 4, &lt;span class="m">7&lt;/span> Oct &lt;span class="m">8&lt;/span> 14:47 /dev/tty7
&lt;span class="ln">12&lt;/span>crw--w---- &lt;span class="m">1&lt;/span> root tty 4, &lt;span class="m">8&lt;/span> Oct &lt;span class="m">8&lt;/span> 14:47 /dev/tty8
&lt;span class="ln">13&lt;/span>crw--w---- &lt;span class="m">1&lt;/span> root tty 4, &lt;span class="m">9&lt;/span> Oct &lt;span class="m">8&lt;/span> 14:47 /dev/tty9
&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¯¹æŸä¸€CLI shellä»¥åŠæ´¾ç”Ÿçš„å­è¿›ç¨‹è€Œè¨€ï¼Œç›¸å¯¹åº”çš„é‚£ä¸ª&lt;code>/dev/ttyX&lt;/code>æˆ–&lt;code>/dev/pts/X&lt;/code>æ‰æ˜¯ä¸å…¶ç›´æ¥äº¤äº’çš„â€œç»ˆç«¯è®¾å¤‡â€ã€‚æˆ‘ä»¬å¯ä»¥ç”¨&lt;code>tty&lt;/code>æŒ‡ä»¤ï¼ŒæŸ¥çœ‹å½“å‰æ­£åœ¨ä½¿ç”¨å“ªä¸ªç»ˆç«¯è®¾å¤‡ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>$ tty
&lt;span class="ln">2&lt;/span>/dev/pts/0
&lt;/code>&lt;/pre>&lt;/div>&lt;p>é‚£è¿™ä¸ªç»ˆç«¯è®¾å¤‡å’Œæ ‡å‡†è¾“å…¥è¾“å‡ºæœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ&lt;/p>
&lt;h2 id="æ ‡å‡†è¾“å…¥è¾“å‡ºè®¾å¤‡ä¸ç»ˆç«¯è®¾å¤‡æ–‡ä»¶">æ ‡å‡†è¾“å…¥è¾“å‡ºè®¾å¤‡ä¸ç»ˆç«¯è®¾å¤‡æ–‡ä»¶&lt;/h2>
&lt;p>ä¸ºäº†æŸ¥çœ‹æ ‡å‡†è¾“å…¥è¾“å‡ºè®¾å¤‡çš„çœŸé¢ç›®ï¼Œæˆ‘ä»¬æ¥æŸ¥çœ‹å½“å‰CLI shellçš„æ ‡å‡†è¾“å…¥è¾“å‡ºç«¯å£ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>$ ls -l /dev/std*
&lt;span class="ln">2&lt;/span>lrwxrwxrwx &lt;span class="m">1&lt;/span> root root &lt;span class="m">15&lt;/span> Oct &lt;span class="m">8&lt;/span> 22:47 /dev/stderr -&amp;gt; /proc/self/fd/2
&lt;span class="ln">3&lt;/span>lrwxrwxrwx &lt;span class="m">1&lt;/span> root root &lt;span class="m">15&lt;/span> Oct &lt;span class="m">8&lt;/span> 22:47 /dev/stdin -&amp;gt; /proc/self/fd/0
&lt;span class="ln">4&lt;/span>lrwxrwxrwx &lt;span class="m">1&lt;/span> root root &lt;span class="m">15&lt;/span> Oct &lt;span class="m">8&lt;/span> 22:47 /dev/stdout -&amp;gt; /proc/self/fd/1
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä»æ˜¾ç¤ºå‡ºæ¥çš„è¯¦ç»†æ€§è´¨ï¼Œæˆ‘ä»¬å‘ç°è¾“å…¥è¾“å‡ºè®¾å¤‡å¯¹åº”çš„ä¸æ˜¯è®¾å¤‡æè¿°ç¬¦ï¼Œè€Œæ˜¯ä¸€ä¸ªé“¾æ¥ï¼Œé“¾æ¥çš„ä½ç½®å°±æ˜¯å½“å‰è¿›ç¨‹çš„&lt;code>/proc/self/fd/0-2&lt;/code>ã€‚&lt;code>/proc/self/&lt;/code>æ˜¯ä¸€ä¸ªåŠ¨æ€çš„ç›®å½•ï¼Œå®ƒå§‹ç»ˆæŒ‡å‘å½“å‰å‰å°è¿›ç¨‹ï¼Œè€Œæ ‡å‡†è¾“å…¥è¾“å‡ºé“¾æ¥åˆ°è¯¥ç‰¹æ®Šç›®å½•ä¸­çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œåˆ™ä¿è¯äº†ä»»ä½•åœ¨å½“å‰åœ¨å‰å°å·¥ä½œçš„è¿›ç¨‹ï¼Œéƒ½èƒ½å¤Ÿå’Œç»ˆç«¯ç›´æ¥äº¤äº’ã€‚&lt;/p>
&lt;p>å½“æ‰§è¡Œä¸€ä¸ªè¿›ç¨‹æ—¶ï¼Œéƒ½ä¼šé»˜è®¤æ‰“å¼€3ä¸ªæ–‡ä»¶&lt;code>0,1,2&lt;/code>ï¼Œæ¯ä¸ªæ–‡ä»¶æœ‰å¯¹åº”çš„æ–‡ä»¶æè¿°ç¬¦æ¥æ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">æ–‡ä»¶æè¿°ç¬¦&lt;/th>
&lt;th style="text-align:center">ç±»å‹&lt;/th>
&lt;th style="text-align:center">é»˜è®¤æƒ…å†µ&lt;/th>
&lt;th style="text-align:center">å¯¹åº”æ–‡ä»¶å¥æŸ„ä½ç½®&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">0&lt;/td>
&lt;td style="text-align:center">æ ‡å‡†è¾“å…¥ï¼ˆstandard inputï¼‰&lt;/td>
&lt;td style="text-align:center">ä»é”®ç›˜è·å¾—è¾“å…¥&lt;/td>
&lt;td style="text-align:center">/proc/self/fd/0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">1&lt;/td>
&lt;td style="text-align:center">æ ‡å‡†è¾“å‡ºï¼ˆstandard outputï¼‰&lt;/td>
&lt;td style="text-align:center">è¾“å‡ºåˆ°å±å¹•ï¼ˆå³æ§åˆ¶å°ï¼‰&lt;/td>
&lt;td style="text-align:center">/proc/self/fd/1&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">2&lt;/td>
&lt;td style="text-align:center">é”™è¯¯è¾“å‡ºï¼ˆerror outputï¼‰&lt;/td>
&lt;td style="text-align:center">è¾“å‡ºåˆ°å±å¹•ï¼ˆå³æ§åˆ¶å°ï¼‰&lt;/td>
&lt;td style="text-align:center">/proc/self/fd/2&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>å¥½çš„ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹&lt;code>/proc/self/fd/0-2&lt;/code>æ˜¯ä»€ä¹ˆæ ·çš„æ–‡ä»¶:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>ls -l /proc/self/fd/
&lt;span class="ln">2&lt;/span>lrwx------ &lt;span class="m">1&lt;/span> lelouch lelouch &lt;span class="m">64&lt;/span> Dec &lt;span class="m">30&lt;/span> 00:31 &lt;span class="m">0&lt;/span> -&amp;gt; /dev/pts/0
&lt;span class="ln">3&lt;/span>lrwx------ &lt;span class="m">1&lt;/span> lelouch lelouch &lt;span class="m">64&lt;/span> Dec &lt;span class="m">30&lt;/span> 00:31 &lt;span class="m">1&lt;/span> -&amp;gt; /dev/pts/0
&lt;span class="ln">4&lt;/span>lrwx------ &lt;span class="m">1&lt;/span> lelouch lelouch &lt;span class="m">64&lt;/span> Dec &lt;span class="m">30&lt;/span> 00:31 &lt;span class="m">2&lt;/span> -&amp;gt; /dev/pts/0
&lt;/code>&lt;/pre>&lt;/div>&lt;p>å“ˆï¼Œ&lt;code>/proc/self/fd/0-2&lt;/code>ä¹Ÿéƒ½åªæ˜¯è½¯é“¾æ¥ï¼Œé“¾æ¥çš„ä½ç½®å°±æ˜¯æˆ‘ä»¬ä½¿ç”¨&lt;code>tty&lt;/code>æŒ‡ä»¤æ˜¾ç¤ºå‡ºæ¥çš„ç»ˆç«¯è®¾å¤‡æ–‡ä»¶ï¼ä¹Ÿæ˜¯è¯´ï¼Œæ— è®ºæ˜¯æ ‡å‡†è¾“å…¥ï¼Œè¿˜æ˜¯æ ‡å‡†è¾“å‡ºã€æ ‡å‡†é”™è¯¯ï¼Œæœ€ç»ˆéƒ½æ˜¯åœ¨å’Œç»ˆç«¯è®¾å¤‡æ¥å£æ–‡ä»¶äº¤äº’ã€‚å…¶å…³ç³»å¦‚ä¸‹å›¾ï¼š&lt;/p>
&lt;p>&lt;img src="../../images/%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E4%B8%8E%E7%BB%88%E7%AB%AF%E8%AE%BE%E5%A4%87.drawio.svg" alt="æ ‡å‡†è¾“å…¥è¾“å‡ºä¸ç»ˆç«¯è®¾å¤‡">&lt;/p>
&lt;p>å›¾ä¸­é»„è‰²éƒ¨åˆ†è¡¨ç¤ºè™šæ‹Ÿç»ˆç«¯çš„æµç¨‹ï¼›è“è‰²éƒ¨åˆ†è¡¨ç¤ºä¼ªç»ˆç«¯æµç¨‹ã€‚çˆ¶è¿›ç¨‹é€šè¿‡forkå’Œexecæ´¾ç”Ÿå‡ºä¸åŒå­è¿›ç¨‹ï¼Œé€šå¸¸å­è¿›ç¨‹ä¼šç»§æ‰¿çˆ¶è¿›ç¨‹çš„ç»ˆç«¯æ¥å£æ–‡ä»¶ï¼Œå¹¶å æ®å‰å°ï¼ˆforegroundï¼‰ã€‚ä»å›¾ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ ‡å‡†è¾“å…¥è¾“å‡ºè®¾å¤‡(&lt;code>/dev/{stdin,stdout,dtderr}&lt;/code>)å§‹ç»ˆæ˜¯ä¸€ä¸ªåŠ¨æ€çš„é“¾æ¥ï¼Œå§‹ç»ˆæŒ‡å‘å‰å°è¿›ç¨‹ï¼›è€Œ&lt;strong>è¿›ç¨‹äº§ç”Ÿçš„ä¸‰ä¸ªé“¾æ¥æ–‡ä»¶&lt;code>/proc/$pid_number/fd/0-2&lt;/code>æ‰æ˜¯è¿›ç¨‹I/Oçš„æ ¸å¿ƒ&lt;/strong>ï¼Œæ˜¯ä¸è¿›ç¨‹ç›´æ¥äº¤äº’çš„æ¥å£ã€‚å¦‚æœæˆ‘ä»¬å¸Œæœ›è¿›ç¨‹æ”¹å˜I/Oçš„è¾“å…¥è¾“å‡ºæ–¹å‘ï¼Œæ›´æ”¹&lt;code>/dev/{stdin,stdout,stderr}&lt;/code>æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œ&lt;strong>åº”è¯¥æ›´æ”¹&lt;code>0,1,2&lt;/code>æ‰€é“¾æ¥çš„ä½ç½®&lt;/strong>ã€‚å®ƒä»¬é»˜è®¤é“¾æ¥ä½ç½®ä¸º&lt;code>/dev/ttyX&lt;/code>æˆ–&lt;code>/dev/pts/X&lt;/code>ï¼Œè¿™äº›è®¾å¤‡æè¿°ç¬¦æœ€ç»ˆä¼šå°†æ•°æ®è½¬å‘åˆ°å¤–è®¾ï¼Œå¦‚é”®ç›˜ã€å±å¹•ã€ç½‘ç»œè°ƒåˆ¶è§£è°ƒå™¨ç­‰ã€‚&lt;/p>
&lt;h2 id="ä¸€åˆ‡çš†æ–‡ä»¶">ä¸€åˆ‡çš†æ–‡ä»¶&lt;/h2>
&lt;p>æˆ‘ä»¬åœ¨èŠè¾“å…¥è¾“å‡ºé‡å®šå‘ä¹‹å‰ï¼Œæˆ‘ä»¬åœ¨è¯´è¯´&lt;code>/dev/ttyX&lt;/code>æˆ–&lt;code>/dev/pts/X&lt;/code>ã€‚ä¹‹å‰è¯´è¿‡ï¼Œå®ƒä»¬æ˜¯æä¾›ç»™ç”¨æˆ·è¿›ç¨‹çš„ç»ˆç«¯è®¾å¤‡æ¥å£&lt;strong>æ–‡ä»¶&lt;/strong>ï¼Œæœ¬è´¨ä¸Šå®ƒä»¬æ˜¯&lt;strong>æ–‡ä»¶&lt;/strong>å•Šã€‚é‚£ä¹ˆå¯¹äºLinuxè€Œè¨€ï¼Œç»ˆç«¯è®¾å¤‡æ¥å£æ–‡ä»¶ä¸æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡æ¡£æœ‰åŒºåˆ«å—ï¼Ÿç­”æ¡ˆæ˜¯ï¼šæ²¡æœ‰ï¼Œå®ƒä»¬éƒ½æ˜¯æ–‡ä»¶ã€‚&lt;/p>
&lt;blockquote>
&lt;p>linux ä¸­æ‰€æœ‰å†…å®¹éƒ½æ˜¯ä»¥æ–‡ä»¶çš„å½¢å¼ä¿å­˜å’Œç®¡ç†çš„ï¼Œå³&lt;strong>ä¸€åˆ‡çš†æ–‡ä»¶&lt;/strong>ï¼Œæ™®é€šæ–‡ä»¶æ˜¯æ–‡ä»¶ï¼Œç›®å½•ï¼ˆWindows ä¸‹ç§°ä¸ºæ–‡ä»¶å¤¹ï¼‰æ˜¯æ–‡ä»¶ï¼Œç¡¬ä»¶è®¾å¤‡ï¼ˆé”®ç›˜ã€ç›‘è§†å™¨ã€ç¡¬ç›˜ã€æ‰“å°æœºï¼‰æ˜¯æ–‡ä»¶ï¼Œå°±è¿å¥—æ¥å­—ï¼ˆsocketï¼‰ã€ç½‘ç»œé€šä¿¡ç­‰èµ„æºä¹Ÿéƒ½æ˜¯æ–‡ä»¶ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>è¿™äº›å†…å®¹ï¼ˆæ— è®ºæ˜¯æ™®é€šæ–‡ä»¶ã€ç¡¬ä»¶è®¾å¤‡ã€ç›®å½•ã€å¥—æ¥å­—ã€é“¾æ¥ï¼‰éœ€è¦è¢«æ“ä½œæ—¶ï¼Œéƒ½ç”¨**ç»Ÿä¸€çš„æ–‡ä»¶æè¿°ç¬¦(file descriptor, fd)**æ¥è¡¨ç¤ºï¼Œå½“è¿›ç¨‹æ‰“å¼€ç°æœ‰æ–‡ä»¶æˆ–åˆ›å»ºæ–°æ–‡ä»¶æ—¶ï¼Œå†…æ ¸å‘è¿›ç¨‹è¿”å›ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œæ–‡ä»¶æè¿°ç¬¦å°±æ˜¯å†…æ ¸ä¸ºäº†é«˜æ•ˆç®¡ç†å·²è¢«æ‰“å¼€çš„æ–‡ä»¶æ‰€åˆ›å»ºçš„ç´¢å¼•ï¼Œç”¨æ¥æŒ‡å‘è¢«æ‰“å¼€çš„æ–‡ä»¶ï¼Œæ‰€æœ‰æ‰§è¡ŒI/Oæ“ä½œçš„ç³»ç»Ÿè°ƒç”¨éƒ½ä¼šé€šè¿‡æ–‡ä»¶æè¿°ç¬¦ã€‚åªè¦æˆ‘ä»¬æœ‰è¯»å†™æƒé™ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä»æ–‡ä»¶ä¸­è¯»å–å†…å®¹æˆ–æ˜¯å‘æ–‡ä»¶å†™å…¥å†…å®¹ï¼Œä¸ç®¡è¿™ä¸ªæ–‡ä»¶å®é™…ä¸Šæ˜¯è®¾å¤‡è¿˜æ˜¯åˆ«çš„ä»€ä¹ˆã€‚å½“ç„¶å¯¹æŸäº›è®¾å¤‡æ–‡ä»¶æˆ–å†…å­˜æ–‡ä»¶è€Œè¨€ï¼Œè¿™ç§æ“ä½œç›¸å½“å±é™©ã€‚&lt;/p>
&lt;p>&lt;strong>å› æ­¤ï¼Œå½“æˆ‘ä»¬è¿›è¡Œè¿›ç¨‹çš„I/Oé‡å®šå‘æ—¶ï¼Œä»Linuxç³»ç»Ÿçš„è§’åº¦çœ‹ï¼Œåªä¸è¿‡æ˜¯æŠŠè¯»å–/å†™å…¥çš„æ“ä½œä»ä¸€ä¸ªæ–‡ä»¶è½¬å‘å¦ä¸€ä¸ªæ–‡ä»¶è€Œå·²&lt;/strong>ã€‚&lt;/p>
&lt;h2 id="è¾“å…¥è¾“å‡ºé‡å®šå‘">è¾“å…¥è¾“å‡ºé‡å®šå‘&lt;/h2>
&lt;p>ç”±äºåœ¨Linuxä¸­ä¸€åˆ‡çš†æ–‡ä»¶ï¼Œæ‰€è°“â€œé‡å®šå‘â€å°±æ˜¯æ¢ä¸ªæ“ä½œçš„æ–‡ä»¶å˜›ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¿›è¡ŒI/Oçš„æ–‡ä»¶æ˜¯&lt;code>/proc/self/fd/{0,1,2}&lt;/code>ï¼Œé‡å®šå‘çš„æ—¶å€™å°±æ˜¯æŠŠé»˜è®¤è¾“å…¥æ–‡ä»¶&lt;code>0&lt;/code>æ¢ä¸ªåˆ«çš„æ–‡ä»¶ï¼Œæˆ–è€…é»˜è®¤è¾“å‡º&lt;code>1ã€2&lt;/code>æ¢ä¸ªåˆ«çš„æ–‡ä»¶ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ç”¨çš„é‡å®šå‘ç¬¦å·ï¼š&lt;code>&amp;lt;,&amp;gt;&amp;gt;,&amp;gt;&lt;/code>ã€‚&lt;/p>
&lt;p>ç®€å•ç”¨æ³•å¦‚ä¸‹ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">å‘½ä»¤&lt;/th>
&lt;th style="text-align:center">è¯´æ˜&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">&lt;code>command &amp;gt; file&lt;/code>&lt;/td>
&lt;td style="text-align:center">å°†è¾“å‡ºä»1é‡å®šå‘åˆ° fileã€‚å‘½ä»¤æ‰§è¡Œcommandç„¶åå°†è¾“å‡ºçš„å†…å®¹å­˜å…¥fileï¼Œè¦†ç›–åŸå†…å®¹ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;code>command &amp;lt; file&lt;/code>&lt;/td>
&lt;td style="text-align:center">å°†è¾“å…¥ä»0é‡å®šå‘åˆ° fileã€‚éœ€è¦ä»é”®ç›˜è·å–è¾“å…¥çš„å‘½ä»¤ä¼šè½¬ç§»åˆ°æ–‡ä»¶è¯»å–å†…å®¹ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;code>command &amp;gt;&amp;gt; file&lt;/code>&lt;/td>
&lt;td style="text-align:center">å°†è¾“å‡ºä»1ä»¥è¿½åŠ çš„æ–¹å¼é‡å®šå‘åˆ°fileã€‚å‘½ä»¤æ‰§è¡Œcommandç„¶åå°†è¾“å‡ºçš„å†…å®¹è¿½åŠ åˆ°fileã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;code>command &amp;lt; file1 &amp;gt;file2&lt;/code>&lt;/td>
&lt;td style="text-align:center">command å‘½ä»¤å°†è¾“å…¥0é‡å®šå‘åˆ° file1ï¼Œå°†è¾“å‡º1é‡å®šå‘åˆ° file2ã€‚&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln"> 1&lt;/span>&lt;span class="c1"># è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶test_1&lt;/span>
&lt;span class="ln"> 2&lt;/span>$ &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;redirection test&amp;#34;&lt;/span> &amp;gt; test_1
&lt;span class="ln"> 3&lt;/span>$ cat test_1
&lt;span class="ln"> 4&lt;/span>redirection &lt;span class="nb">test&lt;/span>
&lt;span class="ln"> 5&lt;/span>&lt;span class="c1"># è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶test_1ï¼Œè¦†ç›–åŸæœ‰å†…å®¹&lt;/span>
&lt;span class="ln"> 6&lt;/span>$ &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;redirection test again&amp;#34;&lt;/span> &amp;gt; test_1
&lt;span class="ln"> 7&lt;/span>$ cat test_1
&lt;span class="ln"> 8&lt;/span>redirection &lt;span class="nb">test&lt;/span> again
&lt;span class="ln"> 9&lt;/span>&lt;span class="c1"># è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶test_1ï¼Œè¿½åŠ å†…å®¹&lt;/span>
&lt;span class="ln">10&lt;/span>$ &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;redirection test again&amp;#34;&lt;/span> &amp;gt;&amp;gt; test_1
&lt;span class="ln">11&lt;/span>$ cat test_1
&lt;span class="ln">12&lt;/span>redirection &lt;span class="nb">test&lt;/span> again
&lt;span class="ln">13&lt;/span>redirection &lt;span class="nb">test&lt;/span> again
&lt;span class="ln">14&lt;/span>&lt;span class="c1"># è¾“å…¥é‡å®šå‘ï¼Œæ¥è‡ªtest_1&lt;/span>
&lt;span class="ln">15&lt;/span>$ cat &amp;lt; test_1
&lt;span class="ln">16&lt;/span>redirection &lt;span class="nb">test&lt;/span> again
&lt;span class="ln">17&lt;/span>redirection &lt;span class="nb">test&lt;/span> again
&lt;span class="ln">18&lt;/span>&lt;span class="c1"># è¾“å…¥é‡å®šå‘ï¼Œæ¥è‡ªtest_1ï¼Œè¾“å‡ºé‡å®šå‘åˆ°test_11&lt;/span>
&lt;span class="ln">19&lt;/span>$ cat &amp;lt; test_1 &amp;gt;test_11
&lt;span class="ln">20&lt;/span>$ cat test_11
&lt;span class="ln">21&lt;/span>redirection &lt;span class="nb">test&lt;/span> again
&lt;span class="ln">22&lt;/span>redirection &lt;span class="nb">test&lt;/span> again
&lt;span class="ln">23&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>å®é™…ä¸Šï¼Œä¸Šé¢è¿™å››ä¸ªå‘½ä»¤éƒ½æ˜¯ç®€å†™ï¼Œå†™å®Œæ•´äº†åº”è¯¥æ˜¯ï¼ˆ&lt;strong>æ•°å­—å’Œé‡å®šå‘ç¬¦å·ä¹‹é—´ä¸è¦ç©ºæ ¼ï¼&lt;/strong>ï¼‰ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">å‘½ä»¤&lt;/th>
&lt;th style="text-align:center">è¯´æ˜&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">&lt;code>command 1&amp;gt; file&lt;/code>&lt;/td>
&lt;td style="text-align:center">å°†è¾“å‡ºä»1é‡å®šå‘åˆ° fileã€‚å‘½ä»¤æ‰§è¡Œcommandç„¶åå°†è¾“å‡ºçš„å†…å®¹å­˜å…¥fileï¼Œè¦†ç›–åŸå†…å®¹ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;code>command 0&amp;lt; file&lt;/code>&lt;/td>
&lt;td style="text-align:center">å°†è¾“å…¥ä»0é‡å®šå‘åˆ° fileã€‚éœ€è¦ä»é”®ç›˜è·å–è¾“å…¥çš„å‘½ä»¤ä¼šè½¬ç§»åˆ°æ–‡ä»¶è¯»å–å†…å®¹ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;code>command 1&amp;gt;&amp;gt; file&lt;/code>&lt;/td>
&lt;td style="text-align:center">å°†è¾“å‡ºä»1ä»¥è¿½åŠ çš„æ–¹å¼é‡å®šå‘åˆ°fileã€‚å‘½ä»¤æ‰§è¡Œcommandç„¶åå°†è¾“å‡ºçš„å†…å®¹è¿½åŠ åˆ°fileã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;code>command 0&amp;lt; file_1 1&amp;gt;file_2&lt;/code>&lt;/td>
&lt;td style="text-align:center">command å‘½ä»¤å°†è¾“å…¥0é‡å®šå‘åˆ° file_1ï¼Œå°†è¾“å‡º1é‡å®šå‘åˆ° file_2ã€‚&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>ç›¸åº”çš„ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦æŠŠæ ‡å‡†é”™è¯¯&lt;code>2&lt;/code>é‡å®šå‘åˆ°å…¶ä»–åœ°æ–¹ï¼Œå°±éœ€è¦æ‰‹åŠ¨åœ°å°†æ•°å­—ç»™å¡«ä¸Šï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">å‘½ä»¤&lt;/th>
&lt;th style="text-align:center">è¯´æ˜&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">&lt;code>command 2&amp;gt; file&lt;/code>&lt;/td>
&lt;td style="text-align:center">å°†æ ‡å‡†é”™è¯¯ä»2é‡å®šå‘åˆ° fileã€‚å‘½ä»¤æ‰§è¡Œcommandå¹¶å°†å‡ºé”™å†…å®¹å­˜å…¥fileï¼Œè¦†ç›–åŸå†…å®¹ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;code>command 2&amp;gt;&amp;gt; file&lt;/code>&lt;/td>
&lt;td style="text-align:center">å°†æ ‡å‡†é”™è¯¯ä»2ä»¥è¿½åŠ çš„æ–¹å¼é‡å®šå‘åˆ°fileã€‚å‘½ä»¤æ‰§è¡Œcommandå¹¶å°†å‡ºé”™å†…å®¹è¿½åŠ åˆ°fileã€‚&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>&lt;span class="c1"># é”™è¯¯å†…å®¹é‡å®šå‘åˆ°æ–‡ä»¶test_2&lt;/span>
&lt;span class="ln">2&lt;/span>$ cat /etc/shadow 2&amp;gt; test_2
&lt;span class="ln">3&lt;/span>$ cat test_2
&lt;span class="ln">4&lt;/span>cat: /etc/shadow: Permission denied
&lt;span class="ln">5&lt;/span>&lt;span class="c1"># é”™è¯¯å†…å®¹é‡å®šå‘åˆ°æ–‡ä»¶test_2ï¼Œå†…å®¹è¿½åŠ &lt;/span>
&lt;span class="ln">6&lt;/span>$ qwertyui 2&amp;gt;&amp;gt; test_2
&lt;span class="ln">7&lt;/span>$ cat test_2
&lt;span class="ln">8&lt;/span>cat: /etc/shadow: Permission denied
&lt;span class="ln">9&lt;/span>-bash: ovcosdjfo: &lt;span class="nb">command&lt;/span> not found
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="æ³¨æ„-here-doucment">æ³¨æ„&amp;lt;&amp;lt; Here doucment&lt;/h2>
&lt;p>Here Document æ˜¯ Shell ä¸­çš„ä¸€ç§ç‰¹æ®Šçš„é‡å®šå‘æ–¹å¼ï¼Œç”¨æ¥å°†è¾“å…¥é‡å®šå‘åˆ°ä¸€ä¸ªäº¤äº’å¼ Shell è„šæœ¬æˆ–ç¨‹åºã€‚ç®€å•çš„è¯´ï¼Œå°±æ˜¯è¿è¡Œæˆ‘ä»¬ä¸€æ¬¡æ€§è¾“å…¥å¾ˆå¤šå†…å®¹ç„¶åä¸€èµ·äº¤ç»™ç¨‹åºæ‰§è¡Œã€‚&lt;/p>
&lt;p>å®ƒçš„åŸºæœ¬çš„å½¢å¼å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>&lt;span class="nb">command&lt;/span> &lt;span class="s">&amp;lt;&amp;lt; delimiter
&lt;/span>&lt;span class="ln">2&lt;/span>&lt;span class="s"> document
&lt;/span>&lt;span class="ln">3&lt;/span>&lt;span class="s">delimiter&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>å®ƒçš„ä½œç”¨æ˜¯å°†ä¸¤ä¸ªâ€œdelimiterâ€ï¼ˆå®šç•Œç¬¦ï¼‰ä¹‹é—´çš„å†…å®¹(document) ä½œä¸ºè¾“å…¥ä¼ é€’ç»™&lt;code>command&lt;/code>ã€‚æ¯”å¦‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>&lt;span class="c1"># åœ¨å‘½ä»¤è¡Œä¸­é€šè¿‡ wc -l å‘½ä»¤è®¡ç®— Here Document çš„è¡Œæ•°ï¼š&lt;/span>
&lt;span class="ln">2&lt;/span>$ wc -l &lt;span class="s">&amp;lt;&amp;lt; EOF
&lt;/span>&lt;span class="ln">3&lt;/span>&lt;span class="s"> Hello
&lt;/span>&lt;span class="ln">4&lt;/span>&lt;span class="s"> redirction test
&lt;/span>&lt;span class="ln">5&lt;/span>&lt;span class="s"> Here document test
&lt;/span>&lt;span class="ln">6&lt;/span>&lt;span class="s">EOF&lt;/span>
&lt;span class="ln">7&lt;/span>&lt;span class="m">3&lt;/span> &lt;span class="c1"># è¾“å‡ºç»“æœä¸º 3 è¡Œ&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ³¨æ„ï¼š&lt;/p>
&lt;ul>
&lt;li>ç»“å°¾çš„delimiter ä¸€å®šè¦é¡¶æ ¼å†™ï¼Œå‰é¢ä¸èƒ½æœ‰ä»»ä½•å­—ç¬¦ï¼Œåé¢ä¹Ÿä¸èƒ½æœ‰ä»»ä½•å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼å’Œ&lt;code>tab&lt;/code>ç¼©è¿›ã€‚å¦‚æœä¸æ»¡è¶³è¿™äº›æ¡ä»¶ï¼Œåˆ™ä¸è¢«è®¤ä¸ºæ˜¯delimiterã€‚ï¼ˆä¸‹ä¾‹æ‰€ç¤ºï¼‰&lt;/li>
&lt;li>å¼€å§‹çš„delimiterå‰åçš„ç©ºæ ¼ä¼šè¢«å¿½ç•¥æ‰ã€‚&lt;/li>
&lt;li>delimiterå…·ä½“å†…å®¹å¯ä»¥è‡ªå®šä¹‰ï¼Œä¸å¿…éè¦æ˜¯â€œEOFâ€ï¼Œä½ å†™æˆâ€œsupermanâ€ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œåªè¦å¼€å¤´ç»“å°¾ä¸€è‡´å°±è¡Œã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>&lt;span class="c1"># è‡ªå®šä¹‰delimiter&lt;/span>
&lt;span class="ln">2&lt;/span>$ wc -l &lt;span class="s">&amp;lt;&amp;lt; superman
&lt;/span>&lt;span class="ln">3&lt;/span>&lt;span class="s"> Hello
&lt;/span>&lt;span class="ln">4&lt;/span>&lt;span class="s"> redirction test
&lt;/span>&lt;span class="ln">5&lt;/span>&lt;span class="s"> Here document test superman&lt;/span>
&lt;span class="ln">6&lt;/span> superman
&lt;span class="ln">7&lt;/span> superman
&lt;span class="ln">8&lt;/span>superman
&lt;span class="ln">9&lt;/span>&lt;span class="m">5&lt;/span> &lt;span class="c1"># è¾“å‡ºç»“æœä¸º 5 è¡Œ&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ç¬¦å·">&amp;amp;ç¬¦å·&lt;/h2>
&lt;p>Linuxä¸­ï¼Œ&lt;code>&amp;amp;&lt;/code>ç¬¦å·é€šå¸¸è¡¨ç¤ºå°†è¿›ç¨‹æ”¾åˆ°åå°æ‰§è¡Œï¼Œä½†æ˜¯åœ¨é‡å®šå‘è¯­å¢ƒä¸‹ï¼Œ&lt;code>&amp;amp;&lt;/code>åé¢ç´§è·Ÿä¸€ä¸ªæ•°å­—æ—¶ï¼Œè¡¨ç¤ºè¯¥è¿›ç¨‹ä¸­ï¼Œæ­¤æ•°å­—ä»£è¡¨çš„æ–‡ä»¶æè¿°ç¬¦ã€‚ä¾‹å¦‚&lt;code>&amp;amp;0&lt;/code>è¡¨ç¤ºè¿›ç¨‹çš„æ ‡å‡†è¾“å…¥æ–‡ä»¶æè¿°ç¬¦ï¼Œ&lt;code>&amp;amp;1&lt;/code>è¡¨ç¤ºè¿›ç¨‹çš„æ ‡å‡†è¾“å‡ºæ–‡ä»¶æè¿°ç¬¦ï¼Œ&lt;code>&amp;amp;2&lt;/code>è¡¨ç¤ºè¿›ç¨‹çš„æ ‡å‡†è¾“å‡ºé”™è¯¯æè¿°ç¬¦ã€‚å…¶ä»–æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦ä¹Ÿå¯ä»¥ç”¨&lt;code>&amp;amp;+æ•°å­—&lt;/code>è¡¨ç¤ºã€‚&lt;/p>
&lt;p>æœ‰äº†è¿™äº›è®¤è¯†æ‰èƒ½ç†è§£ &amp;quot;1&amp;gt;&amp;amp;2&amp;quot; å’Œ &amp;quot;2&amp;gt;&amp;amp;1&amp;quot;.&lt;/p>
&lt;ul>
&lt;li>1&amp;gt;&amp;amp;2 æ ‡å‡†è¾“å‡ºè¿”å›å€¼ä¼ é€’ç»™2è¾“å‡ºé€šé“ &amp;amp;2è¡¨ç¤º2å·æ–‡ä»¶æè¿°ç¬¦ï¼Œå³æ ‡å‡†é”™è¯¯é€šé“ã€‚å¦‚æœæ­¤å¤„é”™å†™æˆ 1&amp;gt;2, å°±è¡¨ç¤ºæŠŠ1è¾“å‡ºé‡å®šå‘åˆ°åç§°ä¸ºâ€œ2â€çš„æ–‡ä»¶ä¸­ã€‚&lt;/li>
&lt;li>2&amp;gt;&amp;amp;1 æ ‡å‡†é”™è¯¯è¿”å›å€¼ä¼ é€’ç»™1è¾“å‡ºé€šé“, åŒæ ·&amp;amp;1è¡¨ç¤º1å·æ–‡ä»¶æè¿°ç¬¦ï¼Œå³æ ‡å‡†è¾“å‡ºé€šé“ã€‚&lt;/li>
&lt;/ul>
&lt;p>å†ä¸¾ä¸ªä¾‹å­ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>&lt;span class="c1"># æ­¤æ—¶ï¼Œæˆ‘ä»¬ç›®å½•ä¸‹å¹¶æ— test.logæ–‡ä»¶&lt;/span>
&lt;span class="ln">2&lt;/span>$ rm test.log &amp;gt; /dev/null 2&amp;gt;&lt;span class="p">&amp;amp;&lt;/span>&lt;span class="m">1&lt;/span> &lt;span class="c1"># å†™å®Œæ•´äº†åº”æ˜¯ 1&amp;gt; /dev/null 2&amp;gt;&amp;amp;1&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿™ä¸ªå‘½ä»¤å…ˆå°†æ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ°&lt;code>/dev/null&lt;/code>ï¼Œå†æŠŠé”™è¯¯è¾“å‡ºé‡å®šå‘åˆ°1è¾“å‡ºé€šé“ï¼ŒåŒæ ·æ˜¯&lt;code>/dev/null&lt;/code>ï¼Œæ‰€ä»¥è¿è¡Œè¿™ä¸ªè„šæœ¬ä¸ä¼šè¾“å‡ºä»»ä½•ä¿¡æ¯åˆ°ç»ˆç«¯ã€‚&lt;/p>
&lt;blockquote>
&lt;p>&lt;code>/dev/null&lt;/code>ä»£è¡¨linuxçš„ç©ºè®¾å¤‡æ–‡ä»¶ï¼Œæ‰€æœ‰å¾€è¿™ä¸ªæ–‡ä»¶é‡Œé¢å†™å…¥çš„å†…å®¹éƒ½ä¼šä¸¢å¤±ï¼Œä¿—ç§°â€œé»‘æ´â€ã€‚æ¯”è¾ƒå¸¸è§çš„ç”¨æ³•æ˜¯æŠŠä¸éœ€è¦çš„è¾“å‡ºé‡å®šå‘åˆ°è¿™ä¸ªæ–‡ä»¶ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå¦‚æœæˆ‘ä»¬æŠŠ&lt;code>1&amp;gt; /dev/null 2&amp;gt;&amp;amp;1&lt;/code>çš„é¡ºåºè°ƒæ¢è¿‡æ¥ï¼Œæ„æ€å°±ä¸ä¸€æ ·äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>&lt;span class="c1"># æ­¤æ—¶ï¼Œæˆ‘ä»¬ç›®å½•ä¸‹å¹¶æ— test.logæ–‡ä»¶&lt;/span>
&lt;span class="ln">2&lt;/span>$ rm test.log 2&amp;gt;&lt;span class="p">&amp;amp;&lt;/span>&lt;span class="m">1&lt;/span> &amp;gt;/dev/null &lt;span class="c1">#å†™å®Œæ•´äº†åº”æ˜¯ 2&amp;gt;&amp;amp;1 1&amp;gt;/dev/null&lt;/span>
&lt;span class="ln">3&lt;/span>rm: cannot remove &lt;span class="s1">&amp;#39;test.log&amp;#39;&lt;/span>: No such file or directory
&lt;/code>&lt;/pre>&lt;/div>&lt;p>æˆ‘ä»¬å‘ç°ä¾ç„¶å¯ä»¥çœ‹åˆ°è¾“å‡ºçš„æ ‡å‡†é”™è¯¯ä¿¡æ¯ã€‚è¿™æ˜¯å› ä¸ºç¬¬ä¸€æ­¥&lt;code>2&amp;gt;&amp;amp;1&lt;/code>çš„æ—¶å€™ï¼Œ&lt;code>&amp;amp;1&lt;/code>æŒ‡å‘çš„è¿˜æ˜¯&lt;code>/dev/pts/X&lt;/code>ï¼Œä¹Ÿå°±æ˜¯è¯´æ ‡å‡†é”™è¯¯å…ˆæ˜¯è¢«é‡å®šå‘åˆ°äº†&lt;code>/dev/pts/X&lt;/code>ï¼ˆå’ŒåŸæ¥ä¸€æ ·ï¼‰ï¼›å½“ç¬¬äºŒæ­¥&lt;code>1&amp;gt;/dev/null&lt;/code>çš„æ—¶å€™ï¼Œä»…æœ‰æ ‡å‡†è¾“å‡ºè¢«é‡å®šå‘åˆ°äº†&lt;code>/dev/null&lt;/code>ï¼Œæ ‡å‡†é”™è¯¯ä»ç„¶æŒ‡å‘&lt;code>/dev/pts/X&lt;/code>ã€‚æ‰€ä»¥ï¼Œé”™è¯¯ä¿¡æ¯è¿˜æ˜¯ä¼šæ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚&lt;/p>
&lt;p>&amp;amp;ç¬¦å·çš„å¦ä¸€ä¸ªç”¨æ³•æ˜¯å’Œé‡å®šå‘ç¬¦å·ç»„åˆåˆ°ä¸€èµ·&lt;strong>åŒæ—¶ä»£è¡¨è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯è¾“å‡ºï¼ˆ&amp;amp;&amp;gt;,&amp;amp;&amp;gt;&amp;gt;ï¼‰&lt;/strong>ã€‚æ¯”å¦‚ï¼Œ&lt;code>&amp;amp;&amp;gt;æ–‡ä»¶å&lt;/code>è¡¨ç¤ºå°†æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯å…¨éƒ¨ä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶ä¸­ï¼Œç­‰åŒäº&lt;code>1&amp;gt;æ–‡ä»¶å 2&amp;gt;æ–‡ä»¶å&lt;/code>æˆ–&lt;code>1&amp;gt;æ–‡ä»¶å 2&amp;gt;&amp;amp;1&lt;/code>ã€‚åŒæ ·ï¼Œ&lt;code>&amp;amp;&amp;gt;&amp;gt;æ–‡ä»¶å&lt;/code>å¯è¡¨ç¤ºè¿½åŠ å†™å…¥æ–‡ä»¶ã€‚&lt;/p>
&lt;h2 id="å‚è€ƒå†…å®¹">å‚è€ƒå†…å®¹&lt;/h2>
&lt;p>&lt;a href="https://www.runoob.com/linux/linux-shell-io-redirections.html">https://www.runoob.com/linux/linux-shell-io-redirections.html&lt;/a>&lt;/p></description></item><item><title>linux-ç®¡é“pipeä¸xargs</title><link>https://surprisedcat.github.io/projectnotes/linux-%E7%AE%A1%E9%81%93pipe%E4%B8%8Exargs/</link><pubDate>Wed, 24 Nov 2021 00:00:00 +0000</pubDate><guid>https://surprisedcat.github.io/projectnotes/linux-%E7%AE%A1%E9%81%93pipe%E4%B8%8Exargs/</guid><description>
&lt;ul>
&lt;li>&lt;a href="#%E7%AE%A1%E9%81%93pipe">ç®¡é“â€”â€”Pipe&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E7%AE%A1%E9%81%93%E5%91%BD%E4%BB%A4">ç®¡é“å‘½ä»¤&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E5%8F%82%E6%95%B0%E4%BB%A3%E6%8D%A2xargs">å‚æ•°ä»£æ¢â€”â€”&lt;code>xargs&lt;/code>&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#%E5%8C%BA%E5%88%86%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5%E5%92%8C%E5%8F%82%E6%95%B0">åŒºåˆ†æ ‡å‡†è¾“å…¥å’Œå‚æ•°&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#%E5%85%B3%E4%BA%8E%E5%87%8F%E5%8F%B7-%E7%9A%84%E7%94%A8%E9%80%94">å…³äºå‡å·â€œ-â€çš„ç”¨é€”&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E5%8F%82%E8%80%83%E5%86%85%E5%AE%B9">å‚è€ƒå†…å®¹&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="linux-ç®¡é“pipeä¸xargs---omit-in-toc---">linux-ç®¡é“pipeä¸xargs&lt;!-- omit in toc -->&lt;/h2>
&lt;p>Linux CLI shellï¼ˆå¦‚bashï¼Œzshï¼‰é€šå¸¸æƒ…å†µä¸‹éƒ½æ˜¯æ¯è¾“å…¥ä¸€æ¡æŒ‡ä»¤ï¼Œè¾“å‡ºä¸€ä¸ªç»“æœï¼Œä¸€æ¥ä¸€å›çš„äº¤äº’ï¼Œä½†æ˜¯æœ‰çš„æ—¶å€™ä¸€æ¡æŒ‡ä»¤çš„è¾“å‡ºæ˜¯å†—é•¿ä¸”ç¹æ‚çš„ï¼Œæˆ‘ä»¬éœ€è¦å¯¹å…¶è¾“å‡ºè¿›è¡Œå†å¤„ç†ï¼Œæ‰èƒ½æ‰¾åˆ°æˆ‘ä»¬éœ€è¦çš„å†…å®¹ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦åƒç­›é‡‘å­ä¸€æ ·ï¼Œé€å±‚è¿‡æ»¤æ‰æ— ç”¨çš„æ²™å­ï¼ŒLinuxæä¾›äº†è¿™æ ·çš„ç­›å­â€”â€”&lt;strong>ç®¡é“&lt;/strong>ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿæ¥ç»­å¤„ç†æ•°æ®ã€‚&lt;/p>
&lt;h2 id="ç®¡é“pipe">ç®¡é“â€”â€”Pipe&lt;/h2>
&lt;blockquote>
&lt;p>ç®¡é“ï¼ˆPipelineï¼‰æ“ä½œç¬¦ä¸ºâ€œ|â€ï¼Œæ˜¯ä¸€ç³»åˆ—å°†&lt;strong>æ ‡å‡†è¾“å…¥è¾“å‡ºé“¾æ¥èµ·æ¥&lt;/strong>çš„è¿›ç¨‹ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªè¿›ç¨‹çš„è¾“å‡ºè¢«ç›´æ¥ä½œä¸ºä¸‹ä¸€ä¸ªè¿›ç¨‹çš„è¾“å…¥ã€‚ç®¡é“ä¸­çš„ç»„æˆå…ƒç´ ä¹Ÿè¢«ç§°ä½œè¿‡æ»¤ç¨‹åºã€‚è¿™ä¸ªæ¦‚å¿µæ˜¯ç”±é“æ ¼æ‹‰æ–¯Â·éº¦å…‹ç½—ä¼Šä¸ºUnix å‘½ä»¤è¡Œå‘æ˜çš„ï¼Œå› ä¸ç‰©ç†ä¸Šçš„ç®¡é“ç›¸ä¼¼è€Œå¾—åã€‚&lt;/p>
&lt;/blockquote>
&lt;p>è¿™æ˜¯æ¥è‡ªWikipediaçš„å®šä¹‰ã€‚å®šä¹‰ä¸­æŒ‡å‡ºï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œç®¡é“åªä¼šå°†ä¸Šä¸€ä¸ªç¨‹åºçš„æ ‡å‡†è¾“å‡º(stdout)ï¼Œä¼ é€’ç»™ä¸‹ä¸€ä¸ªå‘½ä»¤ï¼Œä½œä¸ºæ ‡å‡†çš„è¾“å…¥(stdin)ï¼Œå¯¹æ ‡å‡†é”™è¯¯(stderr)ä¿¡æ¯æ²¡æœ‰ç›´æ¥å¤„ç†èƒ½åŠ›ã€‚æœ€åçš„å‘½ä»¤å°†ä¼šæŠŠæ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯éƒ½è¾“å‡ºåˆ°å±å¹•ä¸Šã€‚ç”»ä¸ªç®€å›¾æ¥æè¿°ä»–ä»¬çš„å…³ç³»ï¼š&lt;/p>
&lt;p>&lt;img src="../../images/%E7%AE%A1%E9%81%93%E5%91%BD%E4%BB%A4%E7%A4%BA%E6%84%8F%E5%9B%BE.drawio.svg" alt="ç®¡é“å‘½ä»¤ç¤ºæ„å›¾">&lt;/p>
&lt;p>æ³¨æ„ï¼š&lt;/p>
&lt;ol>
&lt;li>ç®¡é“å‘½ä»¤åªå¤„ç†å‰ä¸€ä¸ªå‘½ä»¤æ­£ç¡®è¾“å‡ºï¼Œä¸å¤„ç†é”™è¯¯è¾“å‡ºã€‚&lt;/li>
&lt;li>ç®¡é“å‘½ä»¤å³è¾¹å‘½ä»¤ï¼Œå¿…é¡»èƒ½å¤Ÿæ¥æ”¶æ ‡å‡†è¾“å…¥æµå‘½ä»¤æ‰è¡Œã€‚&lt;/li>
&lt;li>ç®¡é“è§¦å‘ä¸¤ä¸ªå­è¿›ç¨‹åˆ†åˆ«æ‰§è¡Œ&amp;quot;|&amp;quot;ä¸¤è¾¹çš„ç¨‹åºï¼›è€Œé‡å®šå‘æ˜¯åœ¨ä¸€ä¸ªè¿›ç¨‹å†…æ‰§è¡Œã€‚&lt;/li>
&lt;li>å¦‚æœä½¿ç”¨&lt;code>|&amp;amp;&lt;/code>ï¼Œåˆ™è¡¨ç¤ºå‘½ä»¤1çš„æ ‡å‡†é”™è¯¯å’Œæ ‡å‡†è¾“å‡ºéƒ½ä½œä¸ºå‘½ä»¤2çš„æ ‡å‡†è¾“å…¥ï¼Œè¿™æ˜¯&lt;code>2&amp;gt;&amp;amp;1 |&lt;/code>çš„ç®€å†™ã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="ç®¡é“å‘½ä»¤">ç®¡é“å‘½ä»¤&lt;/h2>
&lt;p>ç®¡é“éœ€è¦æ­é…&lt;strong>ç®¡é“å‘½ä»¤&lt;/strong>æ¥ä½¿ç”¨ï¼Œé™¤äº†æœ€å¼€å§‹çš„å‘½ä»¤ï¼Œåœ¨ç®¡é“å³è¾¹çš„å‘½ä»¤ï¼Œ&lt;strong>å¿…é¡»èƒ½å¤Ÿæ¥æ”¶æ ‡å‡†è¾“å…¥æµ&lt;/strong>å‘½ä»¤æ‰è¡Œã€‚ä»¥ä¸‹è¿™äº›å‘½ä»¤å°±æ˜¯å¸¸ç”¨çš„ç®¡é“å‘½ä»¤ï¼š&lt;/p>
&lt;ul>
&lt;li>æ’·å–å‘½ä»¤ï¼š cut, grep&lt;/li>
&lt;li>æ’åºå‘½ä»¤ï¼š sort, uniq, wc&lt;/li>
&lt;li>åŒå‘é‡å¯¼å‘ï¼š tee&lt;/li>
&lt;li>å­—ç¬¦è½¬æ¢å‘½ä»¤ï¼š tr, col, join, paste, expand&lt;/li>
&lt;li>åˆ†å‰²å‘½ä»¤ï¼š split&lt;/li>
&lt;li>æ–‡æœ¬æŸ¥çœ‹ï¼š cat, tac, more, less, head, tail&lt;/li>
&lt;li>æ–‡æœ¬æ¯”è¾ƒï¼š diff&lt;/li>
&lt;li>æµæ–‡æœ¬å¤„ç†ï¼š sed, awk&lt;/li>
&lt;li>å‚æ•°ä»£æ¢ï¼š xargs&lt;/li>
&lt;/ul>
&lt;p>æˆ‘ä»¬ä¸é¼“åŠ±ç°åœ¨å°±äº†è§£è¿™äº›å‘½ä»¤çš„å…·ä½“ç”¨é€”ï¼Œå› ä¸ºè¿™æ ·å­¦ä¹ æ˜¯æ¯ç‡¥ä¸”ä½æ•ˆçš„ã€‚æˆ‘ä»¬æ›´é¼“åŠ±åªæœ‰å½“å®é™…ç”¨åˆ°çš„æ—¶å€™å†å»æŸ¥æ‰¾è¿™äº›å‘½ä»¤çš„ç”¨æ³•ã€‚&lt;/p>
&lt;h2 id="å‚æ•°ä»£æ¢xargs">å‚æ•°ä»£æ¢â€”â€”&lt;code>xargs&lt;/code>&lt;/h2>
&lt;p>ä¸Šé¢è¿™äº›å‘½ä»¤ä¸­ï¼Œæœ‰ä¸€ä¸ªéœ€è¦å•ç‹¬æ‹å‡ºæ¥å¼ºè°ƒä¸‹ï¼Œå°±æ˜¯å‚æ•°ä»£æ¢â€”â€”&lt;code>xargs&lt;/code>ã€‚å®ƒçš„è¿ä½œæ–¹å¼æœ‰å°‘è®¸ä¸åŒï¼Œä¸€èˆ¬çš„ç®¡é“å‘½ä»¤éƒ½æ˜¯æŠŠä¸Šä¸€ä¸ªå‘½ä»¤çš„æ ‡å‡†è¾“å‡ºä½œä¸ºæœ¬å‘½ä»¤çš„æ ‡å‡†è¾“å…¥ï¼›è€Œ&lt;code>xargs&lt;/code>å¯ä»¥å°†æ¥è‡ªç®¡é“çš„è¾“å‡ºã€æ ‡å‡†è¾“å…¥æˆ–æ–‡ä»¶æ•°æ®è½¬æ¢æˆ&lt;strong>å‘½ä»¤è¡Œå‚æ•°&lt;/strong>ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬å…ˆä¸¾ä¸ªä¾‹å­ï¼Œçœ‹çœ‹&lt;code>xargs&lt;/code>å¸¦æ¥çš„åŒºåˆ«ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln"> 1&lt;/span>&lt;span class="c1"># xargstestç›®å½•ä¸‹æœ‰ä¸€ä¸ªtest.txtæ–‡ä»¶&lt;/span>
&lt;span class="ln"> 2&lt;/span>$ tree xargstest/
&lt;span class="ln"> 3&lt;/span>xargstest/
&lt;span class="ln"> 4&lt;/span>â””â”€â”€ test.txt
&lt;span class="ln"> 5&lt;/span>&lt;span class="m">0&lt;/span> directories, &lt;span class="m">1&lt;/span> file
&lt;span class="ln"> 6&lt;/span>$ &lt;span class="nb">cd&lt;/span> xargstest/
&lt;span class="ln"> 7&lt;/span>&lt;span class="c1"># ç›´æ¥ä½¿ç”¨ç®¡é“å‘½ä»¤&lt;/span>
&lt;span class="ln"> 8&lt;/span>$ ls &lt;span class="p">|&lt;/span> cat
&lt;span class="ln"> 9&lt;/span>test.txt
&lt;span class="ln">10&lt;/span>&lt;span class="c1"># xargsä¸‹çš„ç®¡é“å‘½ä»¤&lt;/span>
&lt;span class="ln">11&lt;/span>$ ls &lt;span class="p">|&lt;/span> xargs cat
&lt;span class="ln">12&lt;/span>æµ‹è¯•æ–‡ä»¶
&lt;span class="ln">13&lt;/span>xargsçš„åŒºåˆ«å®ä¾‹
&lt;/code>&lt;/pre>&lt;/div>&lt;p>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨&lt;code>xargstest/&lt;/code>ç›®å½•ä¸‹ä½¿ç”¨&lt;code>ls&lt;/code>å‘½ä»¤ï¼Œç»“æœæ˜¯æ˜¾ç¤ºå…¶ç›®å½•ä¸‹çš„æ–‡ä»¶&lt;code>test.txt&lt;/code>ï¼Œä¹Ÿå°±æ˜¯è¯´æ ‡å‡†è¾“å‡º(stdout)æ˜¯&lt;code>&amp;quot;test.txt&amp;quot;&lt;/code>ã€‚å½“æˆ‘ä»¬ç›´æ¥ä½¿ç”¨ç®¡é“å‘½ä»¤&lt;code>ls | cat&lt;/code>æ—¶ï¼Œæ ‡å‡†è¾“å‡º&lt;code>&amp;quot;test.txt&amp;quot;&lt;/code>ä½œä¸º&lt;code>cat&lt;/code>çš„æ ‡å‡†è¾“å…¥(stdin)ï¼Œå› æ­¤&lt;code>cat&lt;/code>çš„è¾“å‡ºç»“æœå°±æ˜¯æ˜¾ç¤ºæ ‡å‡†è¾“å…¥çš„å†…å®¹ï¼Œå³&lt;code>&amp;quot;test.txt&amp;quot;&lt;/code>ã€‚å½“æˆ‘ä»¬ä½¿ç”¨å‚æ•°ä»£æ¢&lt;code>xargs&lt;/code>æ—¶ï¼Œå‰ä¸€ä¸ªå‘½ä»¤&lt;code>ls&lt;/code>çš„æ ‡å‡†è¾“å‡ºä½œä¸º&lt;strong>å‚æ•°&lt;/strong>ä¼ é€’ç»™&lt;code>cat&lt;/code>ï¼Œè€Œéæ ‡å‡†è¾“å…¥ï¼Œåä¸€ä¸ªå‘½ä»¤åœ¨æ‰§è¡Œæ—¶ï¼Œå®é™…æ‰§è¡Œçš„å‘½ä»¤æ˜¯&lt;code>cat test.txt&lt;/code>ï¼Œå› æ­¤æœ€ç»ˆç»“æœæ˜¯æ˜¾ç¤º&lt;code>test.txt&lt;/code>æ–‡ä»¶ä¸­çš„å†…å®¹ã€‚&lt;/p>
&lt;p>ä¸€å¥è¯æ€»ç»“ï¼š&lt;strong>xargså‘½ä»¤çš„ä½œç”¨ï¼Œæ˜¯å°†æ ‡å‡†è¾“å…¥è½¬ä¸ºå‘½ä»¤è¡Œå‚æ•°&lt;/strong>ã€‚&lt;/p>
&lt;h3 id="åŒºåˆ†æ ‡å‡†è¾“å…¥å’Œå‚æ•°">åŒºåˆ†æ ‡å‡†è¾“å…¥å’Œå‚æ•°&lt;/h3>
&lt;p>å¤§å¤šæ•°æ—¶å€™ï¼Œ&lt;code>xargs&lt;/code>å‘½ä»¤éƒ½æ˜¯è·Ÿç®¡é“ä¸€èµ·ä½¿ç”¨çš„ã€‚ä¸ºäº†è¿›ä¸€æ­¥åŒºåˆ†æ ‡å‡†è¾“å…¥å’Œå‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹çœ‹åœ¨&lt;strong>ä¸ä½¿ç”¨ç®¡é“æ—¶&lt;code>xargs&lt;/code>çš„æ•ˆæœ&lt;/strong>ã€‚é€šå¸¸å¢ƒå†µä¸‹ï¼Œ&lt;code>xargs&lt;/code>åé¢è·Ÿä¸€ä¸ªLinux shellå‘½ä»¤ï¼Œæ¥è‡ªæ ‡å‡†è¾“å…¥çš„å†…å®¹éƒ½ä¼šæ˜¯è¯¥å‘½ä»¤çš„å‚æ•°ã€‚å¦‚æœæˆ‘ä»¬å•ç‹¬ä½¿ç”¨&lt;code>xargs&lt;/code>ï¼Œå°±ä¼šä½¿ç”¨é»˜è®¤å‘½ä»¤&lt;code>echo&lt;/code>ï¼Œå³&lt;code>xargs == xargs echo&lt;/code>ã€‚å½“æˆ‘ä»¬ç›´æ¥æ‰§è¡Œ&lt;code>xargs&lt;/code>åï¼Œä¼šå‡ºç°ç©ºè¡Œè®©æˆ‘ä»¬éšæ„è¾“å…¥å†…å®¹ï¼Œæˆ‘ä»¬ä»é”®ç›˜è¾“å…¥çš„å†…å®¹å°±æ˜¯&lt;strong>æ ‡å‡†è¾“å…¥&lt;/strong>ï¼Œç›´åˆ°æˆ‘ä»¬ä½¿ç”¨&lt;code>ctrl+d&lt;/code>æˆ–è€…åœ¨ä¸€è¡Œä»…è¾“å…¥â€œEnd of Fileâ€æ ‡å¿—ï¼ˆä½¿ç”¨&lt;code>-E&lt;/code>å‚æ•°æŒ‡å®šï¼‰ã€‚ç„¶åï¼Œ&lt;code>echo&lt;/code>å‘½ä»¤å°±ä¼šæŠŠå‰é¢çš„è¾“å…¥æ‰“å°å‡ºæ¥ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>$ xargs
&lt;span class="ln">2&lt;/span>xargsæµ‹è¯• &lt;span class="c1"># æŒ‰Ctrl + d&lt;/span>
&lt;span class="ln">3&lt;/span>xargsæµ‹è¯• &lt;span class="c1"># è¾“å‡ºå†…å®¹&lt;/span>
&lt;span class="ln">4&lt;/span>$ xargs -E EOF &lt;span class="c1"># æŒ‡å®šç»“æŸç¬¦ä¸ºEOF&lt;/span>
&lt;span class="ln">5&lt;/span>xargsæµ‹è¯•
&lt;span class="ln">6&lt;/span>EOF
&lt;span class="ln">7&lt;/span>xargsæµ‹è¯• &lt;span class="c1"># è¾“å‡ºå†…å®¹&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¯ä»¥çœ‹å‡º&lt;code>xargs + stdin == echo 'stdin'&lt;/code>ï¼Œæ³¨æ„è¿™é‡Œæˆ‘ç”¨å•å¼•å·ï¼Œè¡¨ç¤º&lt;code>stdin&lt;/code>å†…å®¹ä½œä¸º&lt;code>echo&lt;/code>çš„å‚æ•°è¢«æ‰§è¡Œæ—¶æ˜¯ç›´æ¥è¾“å‡ºï¼Œä¸ç”¨è½¬ä¹‰ã€‚è¿™å°±æ˜¯æ‰€è¯´çš„&lt;code>xargs&lt;/code>å°†æ ‡å‡†è¾“å…¥è½¬ä¸ºå‘½ä»¤è¡Œå‚æ•°ã€‚å¦‚æœä¸å¥½ç†è§£ï¼Œæˆ‘ä»¬å†ä¸¾ä¸ªä½¿ç”¨å…¶ä»–å‘½ä»¤çš„ä¾‹å­ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>$ xargs touch &lt;span class="c1"># æ‰“ç®—åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶åç”±é”®ç›˜è¾“å…¥&lt;/span>
&lt;span class="ln">2&lt;/span>newfile.txt &lt;span class="c1"># æŒ‰Ctrl + d&lt;/span>
&lt;span class="ln">3&lt;/span>$ ls -l newfile.txt
&lt;span class="ln">4&lt;/span>-rw-rw-r-- &lt;span class="m">1&lt;/span> username username &lt;span class="m">0&lt;/span> Nov &lt;span class="m">24&lt;/span> 00:43 newfile.txt &lt;span class="c1"># ç¡®å®åˆ›å»ºäº†æ­¤æ–‡ä»¶&lt;/span>
&lt;span class="ln">5&lt;/span>$ &lt;span class="nb">echo&lt;/span> &lt;span class="s1">&amp;#39;newfile.txt&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> xargs -t rm &lt;span class="c1">#æˆ‘ä»¬å¯ä»¥ä½¿ç”¨-tå‚æ•°ï¼Œæ˜¾ç¤ºxargså®é™…æ‰§è¡Œçš„å‘½ä»¤ã€‚&lt;/span>
&lt;span class="ln">6&lt;/span>rm newfile.txt
&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ¥è‡ªé”®ç›˜çš„æ ‡å‡†è¾“å…¥ä½œä¸º&lt;code>touch&lt;/code>å‘½ä»¤çš„å‚æ•°ï¼Œå†³å®šäº†è¢«æ–°å»ºæ–‡ä»¶çš„åç§°ï¼Œç­‰åŒäº&lt;code>touch newfile.txt&lt;/code>ã€‚å‚æ•°éƒ½æ˜¯è·Ÿåœ¨å‘½ä»¤åé¢çš„ï¼Œæ¯”å¦‚&lt;code>touch&lt;/code>æ˜¯&lt;code>xargs&lt;/code>çš„å‚æ•°ï¼Œ&lt;code>touch newfile.txt&lt;/code>ä¸­&lt;code>newfile.txt&lt;/code>æ˜¯&lt;code>touch&lt;/code>çš„å‚æ•°ã€‚è€Œæ ‡å‡†è¾“å…¥æ˜¯ç‹¬ç«‹äºå‘½ä»¤å­˜åœ¨çš„ï¼Œç”±ç”¨æˆ·å†³å®šå…¶å†…å®¹ï¼Œé€šå¸¸æ˜¯å‘½ä»¤æ‰§è¡Œåï¼Œç­‰å¾…ç”¨æˆ·æä¾›çš„ï¼Œæ¯”å¦‚æ‰§è¡Œ&lt;code>xargs&lt;/code>å‘½ä»¤åï¼Œç­‰å¾…æ¥è‡ªç”¨æˆ·é”®ç›˜çš„è¾“å…¥å†…å®¹ã€‚&lt;/p>
&lt;p>å…¶ä»–&lt;code>xargs&lt;/code>å‘½ä»¤çš„å‚æ•°ï¼Œå¯ä»¥å‚è€ƒå…¶&lt;a href="https://man7.org/linux/man-pages/man1/xargs.1.html">&lt;code>man&lt;/code>å¸®åŠ©é¡µé¢&lt;/a>ã€‚&lt;/p>
&lt;h2 id="å…³äºå‡å·-çš„ç”¨é€”">å…³äºå‡å·â€œ-â€çš„ç”¨é€”&lt;/h2>
&lt;p>å‡å·â€œ-â€åœ¨shellè„šæœ¬ä¸­æ ¹æ®ä½¿ç”¨ä¸Šä¸‹æ–‡çš„ä¸åŒï¼Œæœ‰ä¸åŒçš„å«ä¹‰ã€‚åœ¨ç®¡é“è¯­å¢ƒä¸‹ï¼Œå‡å·â€œ-â€ä»£è¡¨ç€&lt;strong>æ ‡å‡†è¾“å…¥æˆ–æ ‡å‡†è¾“å‡º&lt;/strong>ï¼Œç”¨æ¥&lt;strong>ä»£æ›¿æŸä¸ªæ–‡ä»¶åå‚æ•°&lt;/strong>ï¼ˆåœ¨éç®¡é“è¯­å¢ƒä¸‹ï¼Œä¹Ÿå¯ä»¥è¡¨ç¤ºæ ‡å‡†è¾“å…¥æˆ–æ ‡å‡†è¾“å‡ºï¼‰ã€‚éœ€è¦æŒ‡å‡ºï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰å‘½ä»¤éƒ½æ”¯æŒå‡å·â€œ-â€ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬å…ˆä¸¾ä¸ªåšä¸º&lt;strong>æ ‡å‡†è¾“å‡º&lt;/strong>çš„ä¾‹å­ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln"> 1&lt;/span>&lt;span class="c1"># é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤å‘½ä»¤ä¼šä¸‹è½½ä¸€ä¸ªåä¸ºdockerçš„æ–‡ä»¶ï¼Œæ­¤ä¸ºå®‰è£…dockerå®¹å™¨çš„è„šæœ¬&lt;/span>
&lt;span class="ln"> 2&lt;/span>$ wget https://get.daocloud.io/docker
&lt;span class="ln"> 3&lt;/span>--2021-11-24 09:22:21-- https://get.daocloud.io/docker
&lt;span class="ln"> 4&lt;/span>Resolving get.daocloud.io &lt;span class="o">(&lt;/span>get.daocloud.io&lt;span class="o">)&lt;/span>... 106.75.86.15
&lt;span class="ln"> 5&lt;/span>...... &lt;span class="c1"># ä¸­é—´çœç•¥&lt;/span>
&lt;span class="ln"> 6&lt;/span>HTTP request sent, awaiting response... &lt;span class="m">200&lt;/span> OK
&lt;span class="ln"> 7&lt;/span>Length: &lt;span class="m">18617&lt;/span> &lt;span class="o">(&lt;/span>18K&lt;span class="o">)&lt;/span> &lt;span class="o">[&lt;/span>None&lt;span class="o">]&lt;/span>
&lt;span class="ln"> 8&lt;/span>Saving to: â€˜dockerâ€™ &lt;span class="c1"># æ³¨æ„è¿™é‡Œå°±æ˜¯ä¿å­˜åˆ°æ–‡ä»¶&lt;/span>
&lt;span class="ln"> 9&lt;/span>
&lt;span class="ln">10&lt;/span>docker 100%&lt;span class="o">[=============================================================&lt;/span>&amp;gt;&lt;span class="o">]&lt;/span> 18.18K --.-KB/s in 0.03s
&lt;span class="ln">11&lt;/span>
&lt;span class="ln">12&lt;/span>2021-11-24 09:22:21 &lt;span class="o">(&lt;/span>&lt;span class="m">566&lt;/span> KB/s&lt;span class="o">)&lt;/span> - â€˜dockerâ€™ saved &lt;span class="o">[&lt;/span>18617/18617&lt;span class="o">]&lt;/span>
&lt;span class="ln">13&lt;/span>$ ls -l docker
&lt;span class="ln">14&lt;/span>-rw-r--r-- &lt;span class="m">1&lt;/span> username username &lt;span class="m">18617&lt;/span> Nov &lt;span class="m">24&lt;/span> 09:22 docker
&lt;span class="ln">15&lt;/span>&lt;span class="c1"># å½“æˆ‘ä»¬åŠ ä¸Šå‚æ•°&amp;#34;-O&amp;#34;è¡¨ç¤ºç›®æ ‡ä½ç½®ï¼Œé€šå¸¸æƒ…å†µä¸‹ä¸ºæ–‡ä»¶å&lt;/span>
&lt;span class="ln">16&lt;/span>&lt;span class="c1"># æˆ‘ä»¬å¯ä½¿ç”¨&amp;#34;-O -&amp;#34;å°†ä¸‹è½½çš„å†…å®¹ç›´æ¥è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºï¼ˆå±å¹•ï¼‰ï¼Œè€Œéæ–‡ä»¶&lt;/span>
&lt;span class="ln">17&lt;/span>$ wget https://get.daocloud.io/docker -O -
&lt;span class="ln">18&lt;/span>--2021-11-24 10:03:50-- https://get.daocloud.io/docker
&lt;span class="ln">19&lt;/span>Resolving get.daocloud.io &lt;span class="o">(&lt;/span>get.daocloud.io&lt;span class="o">)&lt;/span>... 106.75.86.15
&lt;span class="ln">20&lt;/span>...... &lt;span class="c1"># ä¸­é—´çœç•¥&lt;/span>
&lt;span class="ln">21&lt;/span>HTTP request sent, awaiting response... &lt;span class="m">200&lt;/span> OK
&lt;span class="ln">22&lt;/span>Length: &lt;span class="m">18617&lt;/span> &lt;span class="o">(&lt;/span>18K&lt;span class="o">)&lt;/span> &lt;span class="o">[&lt;/span>None&lt;span class="o">]&lt;/span>
&lt;span class="ln">23&lt;/span>Saving to: â€˜STDOUTâ€™ &lt;span class="c1"># æ³¨æ„è¿™é‡Œå°±æ˜¯ä¿å­˜åˆ°æ ‡å‡†è¾“å‡ºï¼Œå®é™…æ•ˆæœä¸ºè¾“å‡ºåˆ°å±å¹•&lt;/span>
&lt;span class="ln">24&lt;/span>
&lt;span class="ln">25&lt;/span>- 0%&lt;span class="o">[&lt;/span> &lt;span class="o">]&lt;/span> &lt;span class="m">0&lt;/span> --.-KB/s &lt;span class="c1">#!/bin/sh&lt;/span>
&lt;span class="ln">26&lt;/span>&lt;span class="nb">set&lt;/span> -e
&lt;span class="ln">27&lt;/span>&lt;span class="c1"># Docker CE for Linux installation script&lt;/span>
&lt;span class="ln">28&lt;/span>&lt;span class="c1">#&lt;/span>
&lt;span class="ln">29&lt;/span>&lt;span class="c1"># See https://docs.docker.com/engine/install/ for the installation steps.&lt;/span>
&lt;span class="ln">30&lt;/span>&lt;span class="c1">#&lt;/span>
&lt;span class="ln">31&lt;/span>...... &lt;span class="c1"># ä¸­é—´çœç•¥&lt;/span>
&lt;span class="ln">32&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;ERROR: Unsupported distribution &amp;#39;&lt;/span>&lt;span class="nv">$lsb_dist&lt;/span>&lt;span class="s2">&amp;#39;&amp;#34;&lt;/span>
&lt;span class="ln">33&lt;/span> &lt;span class="nb">echo&lt;/span>
&lt;span class="ln">34&lt;/span> &lt;span class="nb">exit&lt;/span> &lt;span class="m">1&lt;/span>
&lt;span class="ln">35&lt;/span> &lt;span class="p">;;&lt;/span>
&lt;span class="ln">36&lt;/span> &lt;span class="k">esac&lt;/span>
&lt;span class="ln">37&lt;/span> &lt;span class="nb">exit&lt;/span> &lt;span class="m">1&lt;/span>
&lt;span class="ln">38&lt;/span>&lt;span class="o">}&lt;/span>
&lt;span class="ln">39&lt;/span>
&lt;span class="ln">40&lt;/span>&lt;span class="c1"># wrapped up in a function so that we have some protection against only getting&lt;/span>
&lt;span class="ln">41&lt;/span>&lt;span class="c1"># half the file during &amp;#34;curl | sh&amp;#34;&lt;/span>
&lt;span class="ln">42&lt;/span>do_install
&lt;span class="ln">43&lt;/span>- 100%&lt;span class="o">[=============================================================&lt;/span>&amp;gt;&lt;span class="o">]&lt;/span> 18.18K --.-KB/s in 0.03s
&lt;span class="ln">44&lt;/span>
&lt;span class="ln">45&lt;/span>2022-01-05 10:03:51 &lt;span class="o">(&lt;/span>&lt;span class="m">684&lt;/span> KB/s&lt;span class="o">)&lt;/span> - written to stdout &lt;span class="o">[&lt;/span>18617/18617&lt;span class="o">]&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨å‡å·â€œ-â€ä»£æ›¿â€œ-Oâ€å‚æ•°æŒ‡å‘çš„æ–‡ä»¶åï¼Œæ¥è¡¨ç¤ºå°†ä¸‹è½½çš„å†…å®¹å‘åˆ°æ ‡å‡†è¾“å‡ºã€‚æ­¤æ—¶ç›¸å½“äºåªæ˜¯åœ¨å±å¹•ä¸­è¾“å‡ºæ–‡ä»¶å†…å®¹ï¼Œå¹¶éä¸‹è½½æ–‡ä»¶ã€‚&lt;/p>
&lt;p>è€Œå°†å‡å·â€œ-â€ç”¨äºæ ‡å‡†è¾“å…¥ï¼Œä¸ä»…éœ€è¦å‘½ä»¤çš„æ”¯æŒï¼Œè¿˜éœ€è¦å‘½ä»¤èƒ½å¤Ÿä»æ ‡å‡†è¾“å…¥æ¥æ”¶å‚æ•°ã€‚å…¸å‹çš„ä¾‹å­æ˜¯&lt;code>diff&lt;/code>å‘½ä»¤ã€‚ä¾‹å­å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln"> 1&lt;/span>$ &lt;span class="nb">echo&lt;/span> -e &lt;span class="s2">&amp;#34;line 1 \nline 2\nline 3&amp;#34;&lt;/span> &amp;gt; minus_1.txt
&lt;span class="ln"> 2&lt;/span>$ cat minus_1.txt
&lt;span class="ln"> 3&lt;/span>line &lt;span class="m">1&lt;/span>
&lt;span class="ln"> 4&lt;/span>line &lt;span class="m">2&lt;/span>
&lt;span class="ln"> 5&lt;/span>line &lt;span class="m">3&lt;/span>
&lt;span class="ln"> 6&lt;/span>$ diff - minus_1.txt &lt;span class="c1"># - è¡¨ç¤ºä¼šä»æ ‡å‡†è¾“å…¥ï¼ˆé”®ç›˜ï¼‰æ¥æ”¶å†…å®¹&lt;/span>
&lt;span class="ln"> 7&lt;/span>line &lt;span class="m">1&lt;/span>
&lt;span class="ln"> 8&lt;/span>line &lt;span class="m">2&lt;/span> changed
&lt;span class="ln"> 9&lt;/span>line &lt;span class="m">3&lt;/span> &lt;span class="c1"># è¿™é‡ŒæŒ‰ctrl+d&lt;/span>
&lt;span class="ln">10&lt;/span>1,2c1,2
&lt;span class="ln">11&lt;/span>&amp;lt; line &lt;span class="m">1&lt;/span>
&lt;span class="ln">12&lt;/span>&amp;lt; line &lt;span class="m">2&lt;/span> changed
&lt;span class="ln">13&lt;/span>---
&lt;span class="ln">14&lt;/span>&amp;gt; line &lt;span class="m">1&lt;/span>
&lt;span class="ln">15&lt;/span>&amp;gt; line &lt;span class="m">2&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>æˆ‘ä»¬ç”Ÿæˆäº†ä¸€ä¸ªä¸‰è¡Œçš„æ–‡ä»¶&lt;code>minus_1.txt&lt;/code>ï¼Œç„¶åä½¿ç”¨&lt;code>diff - minus_1.txt&lt;/code>è®©ä»é”®ç›˜è¾“å…¥çš„å†…å®¹å’Œæ–‡ä»¶å†…å®¹æ¯”è¾ƒã€‚&lt;/p>
&lt;p>çŸ¥é“äº†å‡å·ä½œä¸ºæ ‡å‡†è¾“å…¥è¾“å‡ºçš„ç”¨æ³•ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠå®ƒè¿ç”¨åˆ°ç®¡é“ä¸­ï¼Œåœ¨ç®¡é“å·¦è¾¹çš„å‘½ä»¤ä¸­ï¼Œå‡å·å¯ä»¥ä»£è¡¨æ ‡å‡†è¾“å‡ºï¼›åœ¨ç®¡é“å³è¾¹çš„å‘½ä»¤ä¸­ï¼Œå‡å·ä»£è¡¨æ ‡å‡†è¾“å…¥ã€‚ä¾‹å­å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>&lt;span class="c1"># å°†/var/logä¸­çš„æ–‡ä»¶æ‰“åŒ…å¹¶å‹ç¼©ä¸ºlog.zip&lt;/span>
&lt;span class="ln">2&lt;/span>tar -cvPf - /var/log &lt;span class="p">|&lt;/span> zip -r log.zip -
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç®¡é“å·¦è¾¹çš„ç¬¬ä¸€æ¡è¯­å¥ä¸å†è¾“å…¥åˆ°å…·ä½“æ–‡ä»¶ï¼Œè€Œè¾“å‡ºåˆ°stdoutä¸­ï¼Œ è€Œä½œä¸ºç¬¬äºŒæ¡ä»¶çš„æ ‡å‡†è¾“å…¥(stdin), è€Œstdinå’Œ stdoutéƒ½å¯ä»¥ç”¨â€œ-â€æ¥å–ä»£ã€‚å…¶å®é™…æ•ˆæœç­‰åŒäºï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>&lt;span class="c1"># å°†/var/log/ä¸­çš„æ–‡ä»¶æ‰“åŒ…åˆ°ä¸­é—´æ–‡ä»¶log.tar&lt;/span>
&lt;span class="ln">2&lt;/span>$ tar -cvPf log.tar /var/log/
&lt;span class="ln">3&lt;/span>&lt;span class="c1"># zipå‹ç¼©log.tarä¸ºlog.tar.zip&lt;/span>
&lt;span class="ln">4&lt;/span>$ zip -r log.tar.zip log.tar
&lt;span class="ln">5&lt;/span>&lt;span class="c1"># åˆ é™¤ä¸­é—´æ–‡ä»¶log.tar&lt;/span>
&lt;span class="ln">6&lt;/span>$ rm -rf log.tar
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä½¿ç”¨å‡å·ä¸ä»…ä½¿å‘½ä»¤æ›´åŠ ç®€æ´ï¼Œä¹Ÿé¿å…ç”Ÿæˆä¸­é—´æ–‡ä»¶&lt;code>log.tar&lt;/code>ã€‚&lt;/p>
&lt;h2 id="å‚è€ƒå†…å®¹">å‚è€ƒå†…å®¹&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://www.cnblogs.com/ggjucheng/archive/2012/10/24/2737918.html">https://www.cnblogs.com/ggjucheng/archive/2012/10/24/2737918.html&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.cnblogs.com/chengmo/archive/2010/10/21/1856577.html">https://www.cnblogs.com/chengmo/archive/2010/10/21/1856577.html&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://cn.linux.vbird.org/linux_basic/0320bash_6.php#pipe_7">http://cn.linux.vbird.org/linux_basic/0320bash_6.php#pipe_7&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>linux-debianç³»ç»Ÿåˆå§‹åŒ–</title><link>https://surprisedcat.github.io/projectnotes/linux-debian%E7%B3%BB%E7%BB%9F%E5%88%9D%E5%A7%8B%E5%8C%96/</link><pubDate>Fri, 19 Nov 2021 00:00:00 +0000</pubDate><guid>https://surprisedcat.github.io/projectnotes/linux-debian%E7%B3%BB%E7%BB%9F%E5%88%9D%E5%A7%8B%E5%8C%96/</guid><description>
&lt;h2 id="linux-debian-10ç³»ç»Ÿåˆå§‹åŒ–---omit-in-toc---">Linux-Debian 10ç³»ç»Ÿåˆå§‹åŒ–&lt;!-- omit in toc -->&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="#%E8%B4%A6%E6%88%B7%E5%88%9D%E5%A7%8B%E5%8C%96">è´¦æˆ·åˆå§‹åŒ–&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E5%AE%89%E8%A3%85%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6">å®‰è£…å¸¸ç”¨è½¯ä»¶&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#%E6%9B%B4%E6%8D%A2%E5%B8%B8%E7%94%A8%E6%BA%90">æ›´æ¢å¸¸ç”¨æº&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#apt%E6%8D%A2%E6%88%90%E5%9B%BD%E5%86%85%E6%BA%90">aptæ¢æˆå›½å†…æº&lt;/a>&lt;/li>
&lt;li>&lt;a href="#pip%E6%8D%A2%E6%88%90%E5%9B%BD%E5%86%85%E6%BA%90">pipæ¢æˆå›½å†…æº&lt;/a>&lt;/li>
&lt;li>&lt;a href="#npm%E6%8D%A2%E6%88%90%E5%9B%BD%E5%86%85%E6%BA%90">npmæ¢æˆå›½å†…æº&lt;/a>&lt;/li>
&lt;li>&lt;a href="#docker%E6%8D%A2%E6%88%90%E5%9B%BD%E5%86%85%E6%BA%90">dockeræ¢æˆå›½å†…æº&lt;/a>&lt;/li>
&lt;li>&lt;a href="#github%E5%8A%A0%E9%80%9F">githubåŠ é€Ÿ&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F">é…ç½®ç¯å¢ƒå˜é‡&lt;/a>&lt;/li>
&lt;li>&lt;a href="#ssh%E4%B8%8Esshd%E8%AE%BE%E7%BD%AE">SSHä¸sshdè®¾ç½®&lt;/a>&lt;/li>
&lt;li>&lt;a href="#nginx%E8%AE%BE%E7%BD%AE">Nginxè®¾ç½®&lt;/a>&lt;/li>
&lt;li>&lt;a href="#anaconda%E5%AE%89%E8%A3%85">Anacondaå®‰è£…&lt;/a>&lt;/li>
&lt;li>&lt;a href="#jupyter-notebook">Jupyter notebook&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E4%BD%BF%E7%94%A8nvm%E5%AE%89%E8%A3%85nodejs">ä½¿ç”¨NVMå®‰è£…Nodejs&lt;/a>
&lt;ul>
&lt;li>&lt;a href="#%E5%AE%89%E8%A3%85hexo">å®‰è£…Hexo&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E5%88%87%E6%8D%A2hexo%E4%B8%BB%E9%A2%98">åˆ‡æ¢Hexoä¸»é¢˜&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="#docker%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE">Dockerå®‰è£…ä¸é…ç½®&lt;/a>&lt;/li>
&lt;li>&lt;a href="#jenkins%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8">Jenkinså®‰è£…ä¸ä½¿ç”¨&lt;/a>&lt;/li>
&lt;li>&lt;a href="#gitlab%E5%AE%89%E8%A3%85">Gitlabå®‰è£…&lt;/a>&lt;/li>
&lt;li>&lt;a href="#linux%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E4%B8%8E%E7%94%A8%E5%A4%84">Linuxç›®å½•ç»“æ„ä¸ç”¨å¤„&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="è´¦æˆ·åˆå§‹åŒ–">è´¦æˆ·åˆå§‹åŒ–&lt;/h2>
&lt;p>&lt;strong>æœ¬æ–‡çš„Linuxè´¦å·åçš†ä»¥lelouchä¸ºä¾‹&lt;/strong>ï¼ï¼ï¼&lt;/p>
&lt;p>è´¦æˆ·çš„åˆ›å»ºä¸æƒé™ä¿®æ”¹éƒ½æ˜¯ç³»ç»Ÿç”¨æˆ·æ“ä½œï¼Œæ‰€ä»¥è¿™ä¸€èŠ‚çš„å‘½ä»¤éƒ½æ˜¯ä½¿ç”¨&lt;code>root&lt;/code>ç”¨æˆ·æ‰§è¡Œçš„ã€‚&lt;/p>
&lt;ol>
&lt;li>ä½¿ç”¨&lt;code>adduser lelouch&lt;/code>å‘½ä»¤åˆ›å»ºè´¦æˆ·ï¼Œæœ¬æ–‡çš„ç”¨æˆ·åçš†ä»¥&lt;strong>lelouch&lt;/strong>ä¸ºä¾‹ã€‚&lt;code>adduser&lt;/code>æ˜¯äº¤äº’å¼å‘½ä»¤ï¼ŒæŒ‰ç…§æŒ‡ä»¤åˆ›å»ºå³å¯ã€‚&lt;/li>
&lt;li>ä¸ºæ–°åˆ›å»ºçš„ç”¨æˆ·æ·»åŠ &lt;code>sudo&lt;/code>æƒé™ï¼š&lt;code>echo 'lelouch ALL=(ALL:ALL) ALL' &amp;gt; /etc/sudoers.d/lelouch&lt;/code>ã€‚è‹¥æ— &lt;code>sudo&lt;/code>å‘½ä»¤ï¼Œåˆ™ç”¨&lt;code>apt install sudo&lt;/code>å®‰è£…ã€‚ï¼ˆè¿™æ ·æ·»åŠ sudoæƒé™ä¸ç”¨æ¥å›æ”¹sudoersæ–‡ä»¶çš„å†™æƒé™ï¼‰&lt;/li>
&lt;li>åˆ‡æ¢åˆ°lelouchç”¨æˆ·ï¼š&lt;code>su lelouch&lt;/code>ï¼Œè¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="å®‰è£…å¸¸ç”¨è½¯ä»¶">å®‰è£…å¸¸ç”¨è½¯ä»¶&lt;/h2>
&lt;p>ä»¥ä¸‹å‘½ä»¤éƒ½æ˜¯ä»¥lelouchç”¨æˆ·æ‰§è¡Œã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>$ sudo apt update
&lt;span class="ln">2&lt;/span>............
&lt;span class="ln">3&lt;/span>$ sudo apt install vim python3 python3-pip netcat unzip redis rar sqlite3 default-jdk tree build-essential tcpdump curl wget git cmake net-tools nginx
&lt;span class="ln">4&lt;/span>..............
&lt;span class="ln">5&lt;/span>$ sudo apt autoremove
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä»¥ä¸Šéœ€è¦çš„è½¯ä»¶å› äººè€Œå¼‚ã€‚å¦‚æœå‘ç°è‡ªå·±é‚£ä¸ªå‘½ä»¤æ˜¯å› ä¸ºæ²¡è£…è€Œå‡ºç°&lt;code>command not found&lt;/code>å¯ä»¥å‚è€ƒè¿™ä¸ªç½‘ç«™ï¼š&lt;a href="https://command-not-found.com/">https://command-not-found.com/&lt;/a>ã€‚&lt;/p>
&lt;h3 id="æ›´æ¢å¸¸ç”¨æº">æ›´æ¢å¸¸ç”¨æº&lt;/h3>
&lt;p>å¦‚æœä½ æœ‰ä»£ç†ï¼Œé‚£ä¹ˆä¸å¿…æ¢æˆå›½å†…æºã€‚&lt;/p>
&lt;h4 id="aptæ¢æˆå›½å†…æº">aptæ¢æˆå›½å†…æº&lt;/h4>
&lt;p>æ‰“å¼€&lt;code>/etc/apt/sources.list&lt;/code>æ–‡ä»¶ï¼Œæ›¿æ¢å…¶ä¸­æ‰€æœ‰å†…å®¹ä¸ºå›½å†…æºåœ°å€ã€‚ä»¥ä¸‹ä¸ºDebian 10 busterç‰ˆæœ¬æºçš„åœ°å€ï¼Œé€‰æ‹©å…¶ä¸­ä¸€ä¸ªæºå°±è¡Œï¼ˆæœ€å¥½å¤åˆ¶ä¸€ä»½åŸæœ‰å†…å®¹åˆ°åˆ«å¤„ä½œä¸ºå¤‡ä»½ï¼‰ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln"> 1&lt;/span>&lt;span class="c1"># é˜¿é‡Œaptæº&lt;/span>
&lt;span class="ln"> 2&lt;/span>deb http://mirrors.aliyun.com/debian/ buster main non-free contrib
&lt;span class="ln"> 3&lt;/span>deb-src http://mirrors.aliyun.com/debian/ buster main non-free contrib
&lt;span class="ln"> 4&lt;/span>deb http://mirrors.aliyun.com/debian-security buster/updates main
&lt;span class="ln"> 5&lt;/span>deb-src http://mirrors.aliyun.com/debian-security buster/updates main
&lt;span class="ln"> 6&lt;/span>deb http://mirrors.aliyun.com/debian/ buster-updates main non-free contrib
&lt;span class="ln"> 7&lt;/span>deb-src http://mirrors.aliyun.com/debian/ buster-updates main non-free contrib
&lt;span class="ln"> 8&lt;/span>deb http://mirrors.aliyun.com/debian/ buster-backports main non-free contrib
&lt;span class="ln"> 9&lt;/span>deb-src http://mirrors.aliyun.com/debian/ buster-backports main non-free contrib
&lt;span class="ln">10&lt;/span>&lt;span class="c1"># ç½‘æ˜“163æº&lt;/span>
&lt;span class="ln">11&lt;/span>deb http://mirrors.163.com/debian/ buster main non-free contrib
&lt;span class="ln">12&lt;/span>deb http://mirrors.163.com/debian/ buster-updates main non-free contrib
&lt;span class="ln">13&lt;/span>deb http://mirrors.163.com/debian/ buster-backports main non-free contrib
&lt;span class="ln">14&lt;/span>deb-src http://mirrors.163.com/debian/ buster main non-free contrib
&lt;span class="ln">15&lt;/span>deb-src http://mirrors.163.com/debian/ buster-updates main non-free contrib
&lt;span class="ln">16&lt;/span>deb-src http://mirrors.163.com/debian/ buster-backports main non-free contrib
&lt;span class="ln">17&lt;/span>deb http://mirrors.163.com/debian-security/ buster/updates main non-free contrib
&lt;span class="ln">18&lt;/span>deb-src http://mirrors.163.com/debian-security/ buster/updates main non-free contrib
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¹‹åï¼Œä½¿ç”¨&lt;code>sudo apt update&lt;/code>æ›´æ–°å³å¯å®Œæˆæ¢æºã€‚&lt;/p>
&lt;h4 id="pipæ¢æˆå›½å†…æº">pipæ¢æˆå›½å†…æº&lt;/h4>
&lt;p>æˆ‘ä»¬ä½¿ç”¨&lt;code>pip config set global.index-url&lt;/code>æ¥æŒ‡å®šä¸‹è½½çš„æºã€‚å¦‚æœä½ çš„&lt;code>pip&lt;/code>å‘½ä»¤æ˜¯&lt;code>pip3&lt;/code>é‚£ä¹ˆä¸‹é¢çš„å‘½ä»¤éƒ½æ¢æˆ&lt;code>pip3&lt;/code>ã€‚ç”±äº&lt;code>pip&lt;/code>é»˜è®¤è¦æ±‚æ˜¯httpsä¼ è¾“ï¼Œè€Œå›½å†…çš„æºéƒ½æ˜¯httpçš„ï¼Œå› æ­¤ç›´æ¥æ¢ä¼šæœ‰&lt;code>The repository located at http://xxxxxxxxxxxx is not a trusted or secure host and is being ignored.&lt;/code>è¿™ä¸ªé”™è¯¯ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜è¦å†åé¢åŠ ä¸Šä¿¡ä»»å›½å†…æº&lt;code>pip config set global.trusted-host&lt;/code>çš„è®¾ç½®ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln"> 1&lt;/span>&lt;span class="c1"># æ¸…åæº&lt;/span>
&lt;span class="ln"> 2&lt;/span>$ pip config &lt;span class="nb">set&lt;/span> global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
&lt;span class="ln"> 3&lt;/span>$ pip config &lt;span class="nb">set&lt;/span> global.trusted-host pypi.tuna.tsinghua.edu.cn
&lt;span class="ln"> 4&lt;/span>&lt;span class="c1"># é˜¿é‡Œæº&lt;/span>
&lt;span class="ln"> 5&lt;/span>$ pip config &lt;span class="nb">set&lt;/span> global.index-url https://mirrors.aliyun.com/pypi/simple/
&lt;span class="ln"> 6&lt;/span>$ pip config &lt;span class="nb">set&lt;/span> global.trusted-host mirrors.aliyun.com
&lt;span class="ln"> 7&lt;/span>&lt;span class="c1"># è…¾è®¯æº&lt;/span>
&lt;span class="ln"> 8&lt;/span>$ pip config &lt;span class="nb">set&lt;/span> global.index-url http://mirrors.cloud.tencent.com/pypi/simple
&lt;span class="ln"> 9&lt;/span>$ pip config &lt;span class="nb">set&lt;/span> global.trusted-host mirrors.cloud.tencent.com
&lt;span class="ln">10&lt;/span>&lt;span class="c1"># è±†ç“£æº&lt;/span>
&lt;span class="ln">11&lt;/span>$ pip config &lt;span class="nb">set&lt;/span> global.index-url http://pypi.douban.com/simple/
&lt;span class="ln">12&lt;/span>$ pip config &lt;span class="nb">set&lt;/span> global.trusted-host pypi.douban.com
&lt;span class="ln">13&lt;/span>
&lt;span class="ln">14&lt;/span>&lt;span class="c1"># å‡çº§ pip ä¸ºæœ€æ–°ç‰ˆæœ¬&lt;/span>
&lt;span class="ln">15&lt;/span>$ sudo pip install pip -U
&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="npmæ¢æˆå›½å†…æº">npmæ¢æˆå›½å†…æº&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>$ npm config &lt;span class="nb">set&lt;/span> registry https://registry.npm.taobao.org
&lt;span class="ln">2&lt;/span>$ npm info underscore
&lt;span class="ln">3&lt;/span>&lt;span class="c1">#å¦‚æœä¸Šé¢é…ç½®æ­£ç¡®è¿™ä¸ªå‘½ä»¤ä¼šæœ‰å­—ç¬¦ä¸²response&lt;/span>
&lt;span class="ln">4&lt;/span>&lt;span class="c1"># å…¶ä»–è¿˜æœ‰åä¸ºçš„æº&lt;/span>
&lt;span class="ln">5&lt;/span>$ npm config &lt;span class="nb">set&lt;/span> registry https://mirrors.huaweicloud.com/repository/npm/
&lt;/code>&lt;/pre>&lt;/div>&lt;p>npmæ¯æ¬¡ä¼šåœ¨æˆ‘ä¸»çš„æ–‡ä»¶å¤¹åˆ›å»ºä¸€ä¸ª&lt;code>node_modules,package.json,packet-lock.json&lt;/code>ç­‰æ–‡ä»¶ï¼Œå¾ˆçƒ¦ã€‚&lt;/p>
&lt;h4 id="dockeræ¢æˆå›½å†…æº">dockeræ¢æˆå›½å†…æº&lt;/h4>
&lt;p>ç›®å‰é»˜è®¤çš„æºé€Ÿåº¦è¿˜ä¸é”™ï¼Œå¦‚æœç¡®å®éœ€è¦æ›´æ¢æºï¼Œåˆ™è¦åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ &lt;code>registry-mirrors&lt;/code>çš„é…ç½®ã€‚Linuxä¸‹çš„é»˜è®¤é…ç½®æ–‡ä»¶æ˜¯&lt;code>/etc/docker/daemon.json&lt;/code>ï¼Œæ²¡æœ‰æ­¤æ–‡ä»¶å°±åˆ›å»ºä¸€ä¸ªã€‚åœ¨æ–‡ä»¶ä¸­æ·»åŠ æºï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>&lt;span class="c1"># https://&amp;lt;my-docker-mirror-host&amp;gt;è¡¨ç¤ºè¦æ›¿æ¢çš„æºåœ°å€&lt;/span>
&lt;span class="ln">2&lt;/span>&lt;span class="o">{&lt;/span>
&lt;span class="ln">3&lt;/span> &lt;span class="s2">&amp;#34;registry-mirrors&amp;#34;&lt;/span>: &lt;span class="o">[&lt;/span>&lt;span class="s2">&amp;#34;https://&amp;lt;my-docker-mirror-host&amp;gt;&amp;#34;&lt;/span>&lt;span class="o">]&lt;/span>
&lt;span class="ln">4&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>https://&amp;lt;my-docker-mirror-host&amp;gt;&lt;/code>å¯ä»¥æ›¿æ¢æˆï¼š&lt;/p>
&lt;ul>
&lt;li>Dockerä¸­å›½åŒºå®˜æ–¹é•œåƒï¼š&lt;a href="https://registry.docker-cn.com">https://registry.docker-cn.com&lt;/a>&lt;/li>
&lt;li>ç½‘æ˜“ï¼š&lt;a href="http://hub-mirror.c.163.com">http://hub-mirror.c.163.com&lt;/a>&lt;/li>
&lt;li>ustcï¼š&lt;a href="https://docker.mirrors.ustc.edu.cn">https://docker.mirrors.ustc.edu.cn&lt;/a>&lt;/li>
&lt;li>ä¸­å›½ç§‘æŠ€å¤§å­¦ï¼š&lt;a href="https://docker.mirrors.ustc.edu.cn">https://docker.mirrors.ustc.edu.cn&lt;/a>&lt;/li>
&lt;li>é˜¿é‡Œäº‘å®¹å™¨æœåŠ¡ï¼š&lt;a href="https://cr.console.aliyun.com/">https://cr.console.aliyun.com/&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>æ›´æ”¹é•œåƒåé‡å¯dockerï¼Œ&lt;code>sudo systemctl restart docker&lt;/code>ã€‚&lt;/p>
&lt;h4 id="githubåŠ é€Ÿ">githubåŠ é€Ÿ&lt;/h4>
&lt;p>ä½ éƒ½è¦ç”¨githubäº†ï¼Œè¿˜æ²¡ä»£ç†å—ï¼Ÿ&lt;/p>
&lt;p>å®åœ¨éœ€è¦è®¿é—®åŠ é€Ÿï¼Œå¯æŸ¥çœ‹å›½å†…çš„é•œåƒåœ°å€&lt;a href="https://github.com.cnpmjs.org">https://github.com.cnpmjs.org&lt;/a>ï¼Œ&lt;a href="https://hub.fastgit.org">https://hub.fastgit.org&lt;/a>å¯æƒœç»å¸¸è¢«é™æµï¼Œå¤šåˆ·æ–°å‡ æ¬¡ã€‚å¦‚æœç”¨è°·æ­Œæµè§ˆå™¨ï¼Œå¯ä»¥ä¸‹è½½githubåŠ é€Ÿæ’ä»¶ï¼ˆå¯æƒœè¢«Wallï¼Œè‡ªå·±å»åˆ«çš„åœ°æ–¹æ‰¾ï¼‰ã€‚ä¿®æ”¹HOSTSæ–‡ä»¶çš„æ–¹æ³•ä¹Ÿå¤±çµæ—¶ä¸çµã€‚&lt;/p>
&lt;p>å¦‚æœéœ€è¦ä¸‹è½½åŠ é€Ÿï¼Œå¯å°è¯•&lt;a href="https://toolwa.com/github/">https://toolwa.com/github/&lt;/a>ã€‚&lt;/p>
&lt;p>æœ€æ–¹ä¾¿ç¨³å®šçš„è¿˜æ˜¯ä»£ç†ã€‚&lt;/p>
&lt;h2 id="é…ç½®ç¯å¢ƒå˜é‡">é…ç½®ç¯å¢ƒå˜é‡&lt;/h2>
&lt;p>Linuxä¸­æœ‰å¤šä¸ªé…ç½®ç¯å¢ƒå˜é‡çš„æ–‡ä»¶ï¼Œåˆ†ä¸ºç³»ç»Ÿçº§ï¼ˆå¯¹æ‰€æœ‰ç”¨æˆ·ç”Ÿæ•ˆï¼‰å’Œç”¨æˆ·çº§ä¸¤ç§ã€‚å…¶é¡ºåºä¸º&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>/etc/environment -&amp;gt; /etc/profile&lt;span class="o">(&lt;/span>/etc/profile.d&lt;span class="o">)&lt;/span> -&amp;gt;
&lt;span class="ln">2&lt;/span>&lt;span class="o">(&lt;/span>~/.bash_profile &lt;span class="p">|&lt;/span> ~/.bash_login &lt;span class="p">|&lt;/span> ~/.profile&lt;span class="o">)&lt;/span> -&amp;gt;
&lt;span class="ln">3&lt;/span>~/.bashrc -&amp;gt; &lt;span class="o">(&lt;/span>/etc/bashrc &lt;span class="p">|&lt;/span> /etc/bash.bashrc&lt;span class="o">)&lt;/span> -&amp;gt;
&lt;span class="ln">4&lt;/span>~/.bash_logout
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>ç³»ç»Ÿçº§ï¼š
&lt;ol>
&lt;li>&lt;code>/etc/environment&lt;/code>:æ˜¯ç³»ç»Ÿåœ¨ç™»å½•æ—¶è¯»å–çš„&lt;strong>ç¬¬ä¸€ä¸ª&lt;/strong>æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶è®¾ç½®çš„æ˜¯æ•´ä¸ªç³»ç»Ÿçš„ç¯å¢ƒï¼Œåªè¦å¯åŠ¨ç³»ç»Ÿå°±ä¼šè¯»å–è¯¥æ–‡ä»¶ï¼Œç”¨äºä¸ºæ‰€æœ‰è¿›ç¨‹è®¾ç½®ç¯å¢ƒå˜é‡ã€‚ç³»ç»Ÿä½¿ç”¨æ­¤æ–‡ä»¶æ—¶å¹¶ä¸æ˜¯æ‰§è¡Œæ­¤æ–‡ä»¶ä¸­çš„å‘½ä»¤ï¼Œè€Œæ˜¯æ ¹æ®è€Œæ˜¯æ ¹æ®&lt;code>KEY=VALUE&lt;/code>æ¨¡å¼çš„ä»£ç ï¼Œå¯¹KEYèµ‹å€¼ä»¥VALUEï¼Œå› æ­¤æ–‡ä»¶ä¸­å¦‚æœè¦å®šä¹‰PATHç¯å¢ƒå˜é‡ï¼Œåªéœ€åŠ å…¥ä¸€è¡Œå½¢å¦‚&lt;code>PATH=$PATH:/xxx/bin&lt;/code>çš„ä»£ç å³å¯ã€‚&lt;/li>
&lt;li>&lt;code>/etc/profile&lt;/code>:æ­¤æ–‡ä»¶æ˜¯ç³»ç»Ÿç™»å½•æ—¶æ‰§è¡Œçš„&lt;strong>ç¬¬äºŒä¸ª&lt;/strong>æ–‡ä»¶ã€‚ ä¸ºç³»ç»Ÿçš„æ¯ä¸ªç”¨æˆ·è®¾ç½®ç¯å¢ƒä¿¡æ¯ï¼Œå½“ç”¨æˆ·ç¬¬ä¸€æ¬¡ç™»å½•æ—¶ï¼Œè¯¥æ–‡ä»¶è¢«æ‰§è¡Œã€‚å¹¶ä»&lt;code>/etc/profile.d&lt;/code>ç›®å½•çš„é…ç½®æ–‡ä»¶ä¸­æœé›†shellçš„è®¾ç½®ã€‚ï¼ˆ&lt;code>/etc/profile&lt;/code>å¯ä»¥ç”¨äºè®¾å®šé’ˆå¯¹å…¨ç³»ç»Ÿæ‰€æœ‰ç”¨æˆ·çš„ç¯å¢ƒå˜é‡ï¼Œç¯å¢ƒå˜é‡å‘¨æœŸæ˜¯æ°¸ä¹…æ€§ï¼‰ã€‚&lt;/li>
&lt;li>&lt;code>/etc/bashrc&lt;/code>:æ˜¯é’ˆå¯¹æ‰€æœ‰ç”¨æˆ·çš„bashåˆå§‹åŒ–æ–‡ä»¶ï¼Œåœ¨æ­¤ä¸­è®¾å®šçš„ç¯å¢ƒå˜é‡å°†åº”ç”¨äºæ‰€æœ‰ç”¨æˆ·çš„shellä¸­ï¼Œæ­¤æ–‡ä»¶ä¼šåœ¨&lt;strong>ç”¨æˆ·æ¯æ¬¡æ‰“å¼€shellæ—¶æ‰§è¡Œä¸€æ¬¡&lt;/strong>ã€‚ï¼ˆå³æ¯æ¬¡æ–°å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œéƒ½ä¼šæ‰§è¡Œ&lt;code>/etc/bashrc&lt;/code>ï¼‰ã€‚&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>ç”¨æˆ·çº§ï¼ˆè¿™äº›æ–‡ä»¶å¤„äºç”¨æˆ·æ ¹ç›®å½•ä¸‹ï¼‰ï¼š
&lt;ol>
&lt;li>&lt;code>~/.profile&lt;/code>:å¯¹åº”å½“å‰ç™»å½•ç”¨æˆ·çš„profileæ–‡ä»¶ï¼Œç”¨äºå®šåˆ¶å½“å‰ç”¨æˆ·çš„ä¸ªäººå·¥ä½œç¯å¢ƒ(å˜é‡æ˜¯æ°¸ä¹…æ€§)ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½å¯ä½¿ç”¨è¯¥æ–‡ä»¶è¾“å…¥ä¸“ç”¨äºè‡ªå·±ä½¿ç”¨çš„shellä¿¡æ¯,&lt;strong>å½“ç”¨æˆ·ç™»å½•æ—¶,è¯¥æ–‡ä»¶ä»…ä»…æ‰§è¡Œä¸€æ¬¡&lt;/strong>!&lt;/li>
&lt;li>&lt;code>~/.bashrc&lt;/code>:è¯¥æ–‡ä»¶åŒ…å«ä¸“ç”¨äºä½ çš„bash shellçš„bashä¿¡æ¯ï¼Œå½“ç™»å½•æ—¶ä»¥åŠ&lt;strong>æ¯æ¬¡æ‰“å¼€æ–°çš„shellæ—¶ï¼Œè¯¥æ–‡ä»¶è¢«è¯»å–&lt;/strong>ã€‚(&lt;code>~/.bashrc&lt;/code>åªé’ˆå¯¹å½“å‰ç”¨æˆ·ï¼Œå˜é‡çš„ç”Ÿå‘½å‘¨æœŸæ˜¯æ°¸ä¹…çš„)ã€‚&lt;/li>
&lt;li>&lt;code>~/.bash_profile or ~./bash_login:~/.bash_profile&lt;/code>æ˜¯äº¤äº’å¼login æ–¹å¼è¿›å…¥&lt;code>bash&lt;/code>è¿è¡Œçš„ï¼Œ&lt;code>~/.bashrc&lt;/code>æ˜¯äº¤äº’å¼&lt;code>non-login&lt;/code>æ–¹å¼è¿›å…¥&lt;code>bash&lt;/code>è¿è¡Œçš„é€šå¸¸äºŒè€…è®¾ç½®å¤§è‡´ç›¸åŒï¼Œæ‰€ä»¥é€šå¸¸å‰è€…ä¼šè°ƒç”¨åè€…ã€‚æ¯ä¸ªç”¨æˆ·éƒ½å¯ä½¿ç”¨è¯¥æ–‡ä»¶è¾“å…¥ä¸“ç”¨äºè‡ªå·±ä½¿ç”¨çš„shellä¿¡æ¯ï¼Œå½“ç”¨æˆ·ç™»å½•æ—¶ï¼Œè¯¥æ–‡ä»¶ä»…ä»…æ‰§è¡Œä¸€æ¬¡ã€‚&lt;/li>
&lt;li>&lt;code>~/.bash_logout&lt;/code>:å½“&lt;strong>æ¯æ¬¡é€€å‡ºç³»ç»Ÿ&lt;/strong>ï¼ˆé€€å‡ºbash shellï¼‰æ—¶ï¼Œæ‰§è¡Œè¯¥æ–‡ä»¶ã€‚&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ul>
&lt;p>ç³»ç»Ÿçº§ç¯å¢ƒå˜é‡å¦‚&lt;code>/etc/profile&lt;/code>ä¸­è®¾å®šçš„å˜é‡(å…¨å±€)çš„å¯ä»¥ä½œç”¨äºä»»ä½•ç”¨æˆ·,è€Œç”¨æˆ·çº§ç¯å¢ƒå˜é‡å¦‚&lt;code>~/.bashrc&lt;/code>ç­‰ä¸­è®¾å®šçš„å˜é‡(å±€éƒ¨)åªèƒ½ç»§æ‰¿&lt;code>/etc/profile&lt;/code>ä¸­çš„å˜é‡,ä»–ä»¬æ˜¯â€çˆ¶å­â€å…³ç³»ã€‚&lt;/p>
&lt;p>å¦å¤–ï¼Œå¦‚æœåªæ˜¯ä¸´æ—¶çš„å¢åŠ å˜é‡ï¼Œä½¿ç”¨&lt;code>export&lt;/code>å‘½ä»¤å£°æ˜å³å¯ï¼Œå˜é‡åœ¨å…³é—­shellæ—¶å¤±æ•ˆã€‚æ‰€æ·»åŠ å˜é‡çš„ä¼˜å…ˆçº§å–å†³äº&lt;code>export&lt;/code>å‘½ä»¤ä¸­å˜é‡çš„é¡ºåºå¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>&lt;span class="c1"># ä½ä¼˜å…ˆçº§&lt;/span>
&lt;span class="ln">2&lt;/span>&lt;span class="nb">export&lt;/span> &lt;span class="nv">PATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$PATH&lt;/span>:&lt;span class="nv">$NEW_VAR&lt;/span>
&lt;span class="ln">3&lt;/span>&lt;span class="c1"># é«˜ä¼˜å…ˆçº§&lt;/span>
&lt;span class="ln">4&lt;/span>&lt;span class="nb">export&lt;/span> &lt;span class="nv">PATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$NEW_VAR&lt;/span>:&lt;span class="nv">$PATH&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="sshä¸sshdè®¾ç½®">SSHä¸sshdè®¾ç½®&lt;/h2>
&lt;p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒDebainè¿™ç±»Linuxå‘è¡Œç‰ˆè‡ªå¸¦sshæœåŠ¡å™¨ï¼ˆopenssh-serverï¼‰å’Œå®¢æˆ·ç«¯ï¼ˆopenssh-clientï¼‰ã€‚&lt;/p>
&lt;p>&lt;strong>æœåŠ¡ç«¯è®¾ç½®&lt;/strong>ï¼šä¿®æ”¹sshdçš„ç«¯å£ï¼Œç«¯å£è®¾ç½®åœ¨&lt;code>/etc/ssh/sshd_config&lt;/code>ï¼Œå…¶ä»–è¿˜è¦æ³¨æ„ä»¥ä¸‹é…ç½®é¡¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln"> 1&lt;/span>&lt;span class="c1"># ä¿®æ”¹ç«¯å£ï¼Œé»˜è®¤22ï¼Œæœ€å¥½æ”¹æˆåˆ«çš„,æ¯”å¦‚5122&lt;/span>
&lt;span class="ln"> 2&lt;/span>Port &lt;span class="m">22&lt;/span>
&lt;span class="ln"> 3&lt;/span>&lt;span class="c1">#AddressFamily any&lt;/span>
&lt;span class="ln"> 4&lt;/span>&lt;span class="c1"># ç›‘å¬IPåœ°å€ï¼Œ0.0.0.0è¡¨ç¤ºä»»æ„IP&lt;/span>
&lt;span class="ln"> 5&lt;/span>&lt;span class="c1">#ListenAddress 0.0.0.0&lt;/span>
&lt;span class="ln"> 6&lt;/span>&lt;span class="c1">#ListenAddress ::&lt;/span>
&lt;span class="ln"> 7&lt;/span>............
&lt;span class="ln"> 8&lt;/span>............
&lt;span class="ln"> 9&lt;/span>&lt;span class="c1"># æ˜¯å¦å…è®¸rooté€šè¿‡sshç™»å½•ï¼Œå¦‚æœä½ åªæœ‰rootç”¨æˆ·ï¼Œåƒä¸‡ä¸è¦è®¾ç½®æˆno&lt;/span>
&lt;span class="ln">10&lt;/span>&lt;span class="c1"># å…¶ä»–æƒ…å†µä¸‹æœ€å¥½è®¾ç½®æˆno&lt;/span>
&lt;span class="ln">11&lt;/span>PermitRootLogin yes
&lt;span class="ln">12&lt;/span>&lt;span class="c1">#StrictModes yes&lt;/span>
&lt;span class="ln">13&lt;/span>&lt;span class="c1">#MaxAuthTries 6&lt;/span>
&lt;span class="ln">14&lt;/span>&lt;span class="c1">#MaxSessions 10&lt;/span>
&lt;span class="ln">15&lt;/span>&lt;span class="c1"># é€šè¿‡å…¬é’¥ç™»å½•ï¼Œå¦‚æœéœ€è¦å°±å»æ‰å‰é¢çš„æ³¨é‡Šç¬¦&lt;/span>
&lt;span class="ln">16&lt;/span>PubkeyAuthentication yes
&lt;span class="ln">17&lt;/span>&lt;span class="c1"># æŒ‡å®šå­˜æ”¾å®¢æˆ·ç«¯sshå…¬é’¥çš„æ–‡ä»¶çš„ä½ç½®&lt;/span>
&lt;span class="ln">18&lt;/span>&lt;span class="c1"># Expect .ssh/authorized_keys2 to be disregarded by default in future.&lt;/span>
&lt;span class="ln">19&lt;/span>AuthorizedKeysFile .ssh/authorized_keys .ssh/authorized_keys2
&lt;span class="ln">20&lt;/span>............
&lt;span class="ln">21&lt;/span>............
&lt;span class="ln">22&lt;/span>&lt;span class="c1"># è¿™é‡Œæ˜¯å¦ä¿æŒå®¢æˆ·ç«¯é•¿è¿æ¥å¯ä»¥è®¾ç½®æˆ60&lt;/span>
&lt;span class="ln">23&lt;/span>ClientAliveInterval &lt;span class="m">60&lt;/span>
&lt;span class="ln">24&lt;/span>&lt;span class="c1">#ClientAliveCountMax 3&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¿®æ”¹åéœ€è¦é‡å¯sshç”Ÿæ•ˆã€‚&lt;/p>
&lt;p>&lt;strong>å®¢æˆ·ç«¯è®¾ç½®&lt;/strong>ï¼šwindowsç³»ç»Ÿï¼Œæ¨èä½¿ç”¨&lt;strong>MobaXterm&lt;/strong>ï¼Œ&lt;a href="https://mobaxterm.mobatek.net/">https://mobaxterm.mobatek.net/&lt;/a>ã€‚è®°ä½ï¼Œå°†settings-&amp;gt;ssh-&amp;gt;SSH keepaliveé€‰ä¸Šã€‚ä¸ç„¶ä¼šè‡ªåŠ¨æ–­å¼€è¿æ¥ã€‚Linuxç³»ç»Ÿä½¿ç”¨é»˜è®¤çš„bashå°±å¯ä»¥ã€‚&lt;/p>
&lt;p>å¦‚æœéœ€è¦ä½¿ç”¨&lt;strong>å…¬é’¥ç™»å½•æœåŠ¡ç«¯&lt;/strong>ï¼Œåˆ™è¿˜è¦ç”Ÿæˆå…¬ç§é’¥å¯¹ã€‚å…¬ç§é’¥å¯¹æ˜¯å®¢æˆ·ç«¯ç”Ÿæˆçš„ï¼Œå°†å®¢æˆ·ç«¯çš„å…¬é’¥å†…å®¹å¤åˆ¶åˆ°æœåŠ¡ç«¯çš„&lt;code>.ssh/authorized_keys&lt;/code>æ–‡ä»¶ä¸­ï¼Œå¦‚æœéœ€æœ‰å¤šä¸ªå…¬é’¥åˆ™ä¸€è¡Œä¸€ä¸ªçš„å¤åˆ¶ç²˜è´´ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>&lt;span class="c1"># ç”Ÿæˆå…¬ç§é’¥å¯¹ï¼Œä¸‹é¢ä¸€è·¯å›è½¦å³å¯&lt;/span>
&lt;span class="ln">2&lt;/span>$ ssh-keygen -t rsa
&lt;span class="ln">3&lt;/span>Generating public/private rsa key pair.
&lt;span class="ln">4&lt;/span>Enter file in which to save the key &lt;span class="o">(&lt;/span>++++++++++&lt;span class="o">)&lt;/span>:
&lt;span class="ln">5&lt;/span>Created directory &lt;span class="s1">&amp;#39;++++++++++&amp;#39;&lt;/span>.
&lt;span class="ln">6&lt;/span>Enter passphrase &lt;span class="o">(&lt;/span>empty &lt;span class="k">for&lt;/span> no passphrase&lt;span class="o">)&lt;/span>:
&lt;span class="ln">7&lt;/span>Enter same passphrase again:
&lt;span class="ln">8&lt;/span>Your identification has been saved in ++++++++++/id_rsa.
&lt;span class="ln">9&lt;/span>Your public key has been saved in ++++++++++/id_rsa.pub.
&lt;/code>&lt;/pre>&lt;/div>&lt;p>'++++++++++'æŒ‡çš„æ˜¯å…¬ç§é’¥å¯¹å­˜æ”¾çš„ä½ç½®ï¼Œæ‰“å¼€è¯¥ä½ç½®ï¼Œç„¶åå°†&lt;code>id_rsa.pub&lt;/code>æ–‡ä»¶ä¸­çš„å†…å®¹å¤åˆ¶å‡ºæ¥ï¼Œæ”¾åˆ°&lt;strong>æœåŠ¡ç«¯&lt;/strong>çš„&lt;code>.ssh/authorized_keys&lt;/code>æ–‡ä»¶ä¸­ï¼Œå³å¯é€šè¿‡å…¬é’¥ç™»å½•sshæœåŠ¡ç«¯ã€‚&lt;/p>
&lt;h2 id="nginxè®¾ç½®">Nginxè®¾ç½®&lt;/h2>
&lt;p>å®‰è£…nginxï¼š&lt;code>sudo apt install nginx&lt;/code>ã€‚éœ€è¦æŒ‡å‡ºnginxçš„å‘½ä»¤é»˜è®¤æ”¾åœ¨&lt;code>/usr/sbin/nginx&lt;/code>ï¼Œæ ¹æ®æ‰€ä»¥åªæœ‰&lt;code>$PATH&lt;/code>åŒ…å«äº†æ­¤è·¯å¾„ä¸”æœ‰æƒé™æ‰å¯ä»¥ä½¿ç”¨ã€‚è€Œ&lt;code>/sbin&lt;/code>è¿™ç§ä¸€èˆ¬æ˜¯rootç”¨æˆ·æ‰èƒ½ä½¿ç”¨çš„ï¼Œæ‰€ä»¥è¿è¡Œnginxçš„å‘½ä»¤è¦åŠ &lt;code>sudo&lt;/code>ã€‚&lt;/p>
&lt;p>Nginxè½¯ä»¶æœ¬èº«çš„è®¾ç½®åœ¨&lt;code>/etc/nginx/nginx.conf&lt;/code>ï¼Œå¦‚æœä¸æ˜¯å¯¹Nginxä¸httpåè®®å¾ˆç†Ÿæ‚‰ï¼Œå»ºè®®ä¸è¦æ›´æ”¹ã€‚æˆ‘ä»¬ä¸€èˆ¬è¦æ”¹çš„ç½‘ç«™è®¾ç½®æ”¾åœ¨&lt;code>/etc/nginx/sites-available&lt;/code>æ–‡ä»¶ä¸‹ï¼Œé»˜è®¤æœ‰ä¸€ä¸ª&lt;code>default&lt;/code>æ–‡ä»¶ï¼Œé‡Œé¢å­˜æ”¾äº†ä¸€ä¸ªé»˜è®¤çš„ç½‘ç«™è®¾ç½®ï¼Œä¸‹é¢æˆ‘ä¸¾ä¸ªå®Œæ•´é…ç½®çš„ä¾‹å­ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln"> 1&lt;/span>server &lt;span class="o">{&lt;/span>
&lt;span class="ln"> 2&lt;/span> &lt;span class="c1"># è¿™é‡ŒæŒ‡å®šNginxç›‘å¬çš„ç«¯å£ï¼Œå³ç½‘ç«™çš„ç«¯å£IPv4ï¼ŒIPv6&lt;/span>
&lt;span class="ln"> 3&lt;/span> listen &lt;span class="m">8888&lt;/span> default_server&lt;span class="p">;&lt;/span>
&lt;span class="ln"> 4&lt;/span> listen &lt;span class="o">[&lt;/span>::&lt;span class="o">]&lt;/span>:8888 default_server&lt;span class="p">;&lt;/span>
&lt;span class="ln"> 5&lt;/span>
&lt;span class="ln"> 6&lt;/span> &lt;span class="c1"># SSL configuration SSLè®¾ç½®ï¼Œå³Httpsç›‘å¬è®¾ç½® é»˜è®¤443ç«¯å£&lt;/span>
&lt;span class="ln"> 7&lt;/span> &lt;span class="c1">#&lt;/span>
&lt;span class="ln"> 8&lt;/span> &lt;span class="c1"># listen 443 ssl default_server;&lt;/span>
&lt;span class="ln"> 9&lt;/span> &lt;span class="c1"># listen [::]:443 ssl default_server;&lt;/span>
&lt;span class="ln">10&lt;/span> &lt;span class="c1">#&lt;/span>
&lt;span class="ln">11&lt;/span> &lt;span class="c1"># Self signed certs generated by the ssl-cert package&lt;/span>
&lt;span class="ln">12&lt;/span> &lt;span class="c1"># Don&amp;#39;t use them in a production server!&lt;/span>
&lt;span class="ln">13&lt;/span> &lt;span class="c1">#&lt;/span>
&lt;span class="ln">14&lt;/span> &lt;span class="c1"># include snippets/snakeoil.conf;&lt;/span>
&lt;span class="ln">15&lt;/span> &lt;span class="c1"># æŒ‡å®šæ­¤ç½‘ç«™çš„ç›®å½•ï¼Œä»¥æ­¤ä¸ºç½‘ç«™çš„æ ¹ç›®å½•&lt;/span>
&lt;span class="ln">16&lt;/span> root /var/www/html&lt;span class="p">;&lt;/span>
&lt;span class="ln">17&lt;/span>
&lt;span class="ln">18&lt;/span> &lt;span class="c1"># Add index.php to the list if you are using PHP&lt;/span>
&lt;span class="ln">19&lt;/span> &lt;span class="c1"># æ‰“å¼€çš„é»˜è®¤æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šæ–‡ä»¶ï¼Œé»˜è®¤å¯»æ‰¾ä»¥ä¸‹å‡ ä¸ªæ–‡ä»¶&lt;/span>
&lt;span class="ln">20&lt;/span> index index.html index.htm index.nginx-debian.html&lt;span class="p">;&lt;/span>
&lt;span class="ln">21&lt;/span>
&lt;span class="ln">22&lt;/span> server_name _&lt;span class="p">;&lt;/span>
&lt;span class="ln">23&lt;/span> &lt;span class="c1"># å¯¹ç½‘ç«™æ ¹ç›®å½•çš„è®¾ç½®&lt;/span>
&lt;span class="ln">24&lt;/span> location / &lt;span class="o">{&lt;/span>
&lt;span class="ln">25&lt;/span> &lt;span class="c1"># First attempt to serve request as file, then&lt;/span>
&lt;span class="ln">26&lt;/span> &lt;span class="c1"># as directory, then fall back to displaying a 404.&lt;/span>
&lt;span class="ln">27&lt;/span> try_files &lt;span class="nv">$uri&lt;/span> &lt;span class="nv">$uri&lt;/span>/ &lt;span class="o">=&lt;/span>404&lt;span class="p">;&lt;/span>
&lt;span class="ln">28&lt;/span> &lt;span class="o">}&lt;/span>
&lt;span class="ln">29&lt;/span> &lt;span class="c1"># ä»¥æ ¹ç›®å½•çš„åŸºå‡†ä¸‹é¢ä¸€ä¸ªåŠ å¯†æ–‡ä»¶å¤¹çš„è®¾ç½®&lt;/span>
&lt;span class="ln">30&lt;/span> location /encryption/ &lt;span class="o">{&lt;/span>
&lt;span class="ln">31&lt;/span> &lt;span class="c1"># è¿è¡Œç›®å½•éå†&lt;/span>
&lt;span class="ln">32&lt;/span> autoindex on&lt;span class="p">;&lt;/span>
&lt;span class="ln">33&lt;/span> &lt;span class="c1"># ä¸å…è®¸æŸ¥çœ‹æ–‡ä»¶å¤§å°&lt;/span>
&lt;span class="ln">34&lt;/span> autoindex_exact_size off&lt;span class="p">;&lt;/span>
&lt;span class="ln">35&lt;/span> &lt;span class="c1"># è®¾ç½®é»˜è®¤å­—ç¬¦é›†&lt;/span>
&lt;span class="ln">36&lt;/span> charset utf-8&lt;span class="p">;&lt;/span>
&lt;span class="ln">37&lt;/span> &lt;span class="c1"># è¯·è¾“å…¥éªŒè¯ç çš„æç¤º&lt;/span>
&lt;span class="ln">38&lt;/span> auth_basic &lt;span class="s2">&amp;#34;Please complete user authentication&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="ln">39&lt;/span> &lt;span class="c1"># å­˜æ”¾åŠ å¯†è®¤è¯æ–‡ä»¶çš„ä½ç½®ï¼Œè¿™ä¸ªæ˜¯è‡ªå·±æŒ‡å®šçš„ï¼Œä½¿ç”¨Apacheçš„htpasswdå·¥å…·æ¥åˆ›å»ºå¯†ç æ–‡ä»¶&lt;/span>
&lt;span class="ln">40&lt;/span> auth_basic_user_file /etc/nginx/vhost/htpasswd&lt;span class="p">;&lt;/span>
&lt;span class="ln">41&lt;/span> &lt;span class="o">}&lt;/span>
&lt;span class="ln">42&lt;/span> &lt;span class="c1"># è¿™é‡Œæ˜¯PHPçš„è®¾ç½®ï¼Œä¸ç”¨PHPçš„å¯ä»¥ä¸ç®¡&lt;/span>
&lt;span class="ln">43&lt;/span> &lt;span class="c1"># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000&lt;/span>
&lt;span class="ln">44&lt;/span> &lt;span class="c1">#&lt;/span>
&lt;span class="ln">45&lt;/span> &lt;span class="c1">#location ~ \.php$ {&lt;/span>
&lt;span class="ln">46&lt;/span> &lt;span class="c1"># include snippets/fastcgi-php.conf;&lt;/span>
&lt;span class="ln">47&lt;/span> &lt;span class="c1">#&lt;/span>
&lt;span class="ln">48&lt;/span> &lt;span class="c1"># # With php5-cgi alone:&lt;/span>
&lt;span class="ln">49&lt;/span> &lt;span class="c1"># fastcgi_pass 127.0.0.1:9000;&lt;/span>
&lt;span class="ln">50&lt;/span> &lt;span class="c1"># # With php5-fpm:&lt;/span>
&lt;span class="ln">51&lt;/span> &lt;span class="c1"># fastcgi_pass unix:/var/run/php5-fpm.sock;&lt;/span>
&lt;span class="ln">52&lt;/span> &lt;span class="c1">#}&lt;/span>
&lt;span class="ln">53&lt;/span> &lt;span class="c1"># .htaccesså¯ä»¥å®ç°æ¯ä¸ªæ–‡ä»¶å¤¹æ›´ç²¾ç»†çš„åŠŸèƒ½ï¼Œä¸è¯¦ç»†å±•å¼€ï¼Œå¯å‚è€ƒå®˜æ–¹æ–‡æ¡£&lt;/span>
&lt;span class="ln">54&lt;/span> &lt;span class="c1"># deny access to .htaccess files, if Apache&amp;#39;s document root&lt;/span>
&lt;span class="ln">55&lt;/span> &lt;span class="c1"># concurs with nginx&amp;#39;s one&lt;/span>
&lt;span class="ln">56&lt;/span> &lt;span class="c1">#&lt;/span>
&lt;span class="ln">57&lt;/span> &lt;span class="c1">#location ~ /\.ht {&lt;/span>
&lt;span class="ln">58&lt;/span> &lt;span class="c1"># deny all;&lt;/span>
&lt;span class="ln">59&lt;/span> &lt;span class="c1">#}&lt;/span>
&lt;span class="ln">60&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>é…ç½®æ–‡ä»¶ä¸­ä»¥æ¯ä¸€ä¸ª&lt;code>server{...}&lt;/code>ä¸ºä¸€ä¸ªç½‘å€çš„é…ç½®å†…å®¹ã€‚å¦‚æœéœ€è¦åœ¨åŒä¸€ä¸ªNginxéƒ¨ç½²å¤šä¸ªç½‘ç«™ï¼Œå¯ä»¥é€šè¿‡&lt;strong>ç«¯å£&lt;/strong>æˆ–è€…&lt;strong>åˆ«å&lt;/strong>åŒºåˆ†ã€‚è™½ç„¶è¯´å¯ä»¥æŠŠå¤šä¸ªç½‘ç«™é…ç½®æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œæˆ‘è¿˜æ˜¯å»ºè®®åœ¨&lt;code>/etc/nginx/sites-available&lt;/code>æ–‡ä»¶ä¸‹ä¸ºæ¯ä¸€ä¸ªç½‘ç«™å•ç‹¬å»ºä¸ªæ–‡ä»¶ã€‚æ¯”å¦‚è¯´æœ‰ä¸¤ä¸ªç½‘ç«™ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†åˆ«åœ¨&lt;code>/etc/nginx/sites-available&lt;/code>å»ºç«‹&lt;code>website1,website2&lt;/code>ä¸¤ä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶ä¸­åˆ†åˆ«æ”¾ä¸€ä¸ª&lt;code>server{...}&lt;/code>é…ç½®ã€‚&lt;/p>
&lt;p>åˆšå¼€å§‹çš„æ—¶å€™ï¼Œæˆ‘ä¸æ¸…æ¥š&lt;code>/etc/nginx/sites-available&lt;/code>ï¼Œ&lt;code>/etc/nginx/sites-enabled&lt;/code>çš„åŒºåˆ«ã€‚å…¶å®ï¼Œ&lt;code>sites-enabled&lt;/code>æ–‡ä»¶ä¸‹æ”¾ç½®éƒ½æ˜¯æ¥è‡ª&lt;code>sites-enabled&lt;/code>ä¸‹æ–‡ä»¶çš„è½¯é“¾æ¥ã€‚Nginxåªè¯»å–&lt;code>sites-enabled&lt;/code>ä¸‹çš„è½¯è¿æ¥å†…å®¹ï¼Œä¹Ÿå°±æ˜¯è¯´Nginxåªä¸Šçº¿&lt;code>sites-enabled&lt;/code>ä¸‹çš„é…ç½®ç½‘ç«™ã€‚æˆ‘ä»¬å†™æŠŠé…ç½®éƒ½å†™åœ¨&lt;code>sites-enabled&lt;/code>æ–‡ä»¶å¤¹ä¸­ï¼Œå¦‚æœè®¤ä¸ºæŸä¸ªç½‘ç«™é…ç½®ï¼ˆæ¯”å¦‚&lt;code>website2&lt;/code>æ–‡ä»¶ï¼‰æ²¡æœ‰é—®é¢˜å¯ä»¥ä¸Šçº¿äº†ï¼Œå°±åœ¨&lt;code>sites-enabled&lt;/code>æ–‡ä»¶å¤¹ä¸­ä½¿ç”¨&lt;code>ln -s /etc/nginx/sites-available/website2 /etc/nginx/sites-enabled/website2&lt;/code>ï¼Œè®©Nginxè¯»å–website2çš„é…ç½®ï¼Œç„¶åæˆ‘ä»¬ä½¿ç”¨&lt;code>nginx -t&lt;/code>æµ‹è¯•é…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®ï¼Œå¦‚æœæ­£ç¡®åˆ™æ˜¾ç¤ºï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
&lt;span class="ln">2&lt;/span>nginx: configuration file /etc/nginx/nginx.conf &lt;span class="nb">test&lt;/span> is successful
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç„¶åå³å¯é‡å¯Nginxï¼Œæ˜¯æ–°çš„é…ç½®ç”Ÿæ•ˆã€‚&lt;/p>
&lt;h2 id="anacondaå®‰è£…">Anacondaå®‰è£…&lt;/h2>
&lt;p>ç”±äºå›½å¤–çš„æºé€Ÿåº¦è¾ƒæ…¢ï¼Œæˆ‘ä»¬ä½¿ç”¨æ¸…åæºæ¥å®‰è£…&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln"> 1&lt;/span>$ wget https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/Anaconda3-5.3.1-Linux-x86_64.sh
&lt;span class="ln"> 2&lt;/span>--2021-11-19 00:46:58-- https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/Anaconda3-5.3.1-Linux-x86_64.sh
&lt;span class="ln"> 3&lt;/span>Resolving mirrors.tuna.tsinghua.edu.cn &lt;span class="o">(&lt;/span>mirrors.tuna.tsinghua.edu.cn&lt;span class="o">)&lt;/span>... 101.6.15.130, 2402:f000:1:400::2
&lt;span class="ln"> 4&lt;/span>Connecting to mirrors.tuna.tsinghua.edu.cn &lt;span class="o">(&lt;/span>mirrors.tuna.tsinghua.edu.cn&lt;span class="o">)&lt;/span>&lt;span class="p">|&lt;/span>101.6.15.130&lt;span class="p">|&lt;/span>:443... connected.
&lt;span class="ln"> 5&lt;/span>HTTP request sent, awaiting response... &lt;span class="m">200&lt;/span> OK
&lt;span class="ln"> 6&lt;/span>Length: &lt;span class="m">667976437&lt;/span> &lt;span class="o">(&lt;/span>637M&lt;span class="o">)&lt;/span> &lt;span class="o">[&lt;/span>application/octet-stream&lt;span class="o">]&lt;/span>
&lt;span class="ln"> 7&lt;/span>Saving to: â€˜Anaconda3-5.3.1-Linux-x86_64.shâ€™
&lt;span class="ln"> 8&lt;/span>
&lt;span class="ln"> 9&lt;/span>Anaconda3-5.3.1-Linux-x86_64.sh 100%&lt;span class="o">[=============================================================&lt;/span>&amp;gt;&lt;span class="o">]&lt;/span> 637.03M 10.5MB/s in 56s
&lt;span class="ln">10&lt;/span>
&lt;span class="ln">11&lt;/span>2021-11-19 00:47:55 &lt;span class="o">(&lt;/span>11.3 MB/s&lt;span class="o">)&lt;/span> - â€˜Anaconda3-5.3.1-Linux-x86_64.shâ€™ saved &lt;span class="o">[&lt;/span>667976437/667976437&lt;span class="o">]&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¸‹è½½å¥½ä¹‹åï¼Œåœ¨ä¸‹è½½ç›®å½•ç›®å½•ä¸­ï¼Œå‡ºç°ä¸€ä¸ªAnaconda3-5.3.1-Linux-x86_64.shè¿™æ ·å­çš„æ–‡ä»¶ï¼Œè¿è¡Œå®ƒå°±å¥½,åˆ‡æ¢åˆ°è¯¥æ–‡ä»¶ç›®å½•è¿è¡Œ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>bash Anaconda3-5.3.1-Linux-x86_64.sh
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç„¶åæ¥ä¸‹æ¥ä¼šè¦æœ‰å‡ æ¬¡é…ç½®ç¯å¢ƒå˜é‡æ“ä½œï¼Œä¸€èˆ¬é»˜è®¤å°±è¡Œã€‚æ³¨æ„ï¼Œå®‰è£…å®Œåéœ€è¦é€€å‡ºç»ˆç«¯åï¼Œå†æ¬¡è¿›å…¥æ‰èƒ½è¾“å…¥condaå‘½ä»¤ã€‚&lt;/p>
&lt;p>å¦‚æœæ˜¾ç¤º&amp;quot;command not found&amp;quot;ï¼Œåˆ™å°†&lt;code>conda&lt;/code>æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­&lt;code>echo 'export PATH=&amp;quot;~/anaconda3/bin:$PATH&amp;quot;' &amp;gt;&amp;gt; ~/.bashrc&lt;/code>ï¼Œæ›´æ–°bashrcä»¥ç«‹å³ç”Ÿæ•ˆï¼Œ&lt;code>source ~/.bashrc&lt;/code>ã€‚é…ç½®å¥½PATHåï¼Œå¯ä»¥é€šè¿‡which condaæˆ–conda â€“versionå‘½ä»¤æ£€æŸ¥æ˜¯å¦æ­£ç¡®ã€‚&lt;/p>
&lt;h2 id="jupyter-notebook">Jupyter notebook&lt;/h2>
&lt;p>python3 pip å®‰è£…&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>$ pip3 install jupyter
&lt;span class="ln">2&lt;/span>&lt;span class="c1"># å¦‚æœå‡ºç°&amp;#34;Faied building wheel for cffi&amp;#34;çš„é”™è¯¯åˆ™å®‰è£…ä»¥ä¸‹ï¼š&lt;/span>
&lt;span class="ln">3&lt;/span>$ sudo apt-get install libssl-dev libffi-dev python3-dev
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ä½¿ç”¨nvmå®‰è£…nodejs">ä½¿ç”¨NVMå®‰è£…Nodejs&lt;/h2>
&lt;p>é¦–å…ˆå®‰è£…NVMï¼Œå…¶å®˜æ–¹è¯´æ˜æ–‡ä»¶åœ¨&lt;a href="https://github.com/nvm-sh/nvm">https://github.com/nvm-sh/nvm&lt;/a>ï¼Œæœ‰å…·ä½“çš„å®‰è£…è„šæœ¬ã€‚&lt;/p>
&lt;p>nvmå®‰è£…å®Œåå°±å¯ä»¥å¼€å§‹ç®¡ç†nodejsçš„ç‰ˆæœ¬äº†&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>&lt;span class="c1"># æœ€æ–°çš„ltsç‰ˆæœ¬&lt;/span>
&lt;span class="ln">2&lt;/span>nvm install --lts
&lt;span class="ln">3&lt;/span>&lt;span class="c1"># ç›®å‰æœ€æ–°çš„ltsç‰ˆæœ¬æ˜¯v16.13.0 ï¼ˆ2021.11.18ï¼‰&lt;/span>
&lt;span class="ln">4&lt;/span>$ node -v
&lt;span class="ln">5&lt;/span>v16.13.0
&lt;span class="ln">6&lt;/span>$ npm -v
&lt;span class="ln">7&lt;/span>8.1.0
&lt;span class="ln">8&lt;/span>$ nvm -v
&lt;span class="ln">9&lt;/span>0.39.0
&lt;/code>&lt;/pre>&lt;/div>&lt;p>å³å¾—åˆ°æœ€æ–°çš„ç¨³å®šç‰ˆnodeä¸npmã€‚&lt;/p>
&lt;h3 id="å®‰è£…hexo">å®‰è£…Hexo&lt;/h3>
&lt;p>Hexo æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚Hexo ä½¿ç”¨ Markdownï¼ˆæˆ–å…¶ä»–æ¸²æŸ“å¼•æ“ï¼‰è§£ææ–‡ç« ï¼Œåœ¨å‡ ç§’å†…ï¼Œå³å¯åˆ©ç”¨é“ä¸½çš„ä¸»é¢˜ç”Ÿæˆé™æ€ç½‘é¡µã€‚å®˜æ–¹æ–‡æ¡£ï¼š&lt;a href="https://hexo.io/zh-cn/docs/">https://hexo.io/zh-cn/docs/&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln"> 1&lt;/span>$ npm install hexo-cli -g
&lt;span class="ln"> 2&lt;/span>$ mkdir -p nodejs &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">cd&lt;/span> nodejs
&lt;span class="ln"> 3&lt;/span>&lt;span class="c1"># ä½¿ç”¨hexoï¼Œåˆå§‹åŒ–&lt;/span>
&lt;span class="ln"> 4&lt;/span>$ hexo init hexoblog
&lt;span class="ln"> 5&lt;/span>&lt;span class="c1"># ç”Ÿæˆé™æ€æ–‡ä»¶&lt;/span>
&lt;span class="ln"> 6&lt;/span>$ hexo generate
&lt;span class="ln"> 7&lt;/span>INFO Validating config
&lt;span class="ln"> 8&lt;/span>INFO Start processing
&lt;span class="ln"> 9&lt;/span>INFO Files loaded in &lt;span class="m">80&lt;/span> ms
&lt;span class="ln">10&lt;/span>WARN No layout: 2021/11/19/hello-world/index.html
&lt;span class="ln">11&lt;/span>WARN No layout: archives/index.html
&lt;span class="ln">12&lt;/span>WARN No layout: archives/2021/index.html
&lt;span class="ln">13&lt;/span>WARN No layout: archives/2021/11/index.html
&lt;span class="ln">14&lt;/span>WARN No layout: index.html
&lt;span class="ln">15&lt;/span>INFO Generated: archives/index.html
&lt;span class="ln">16&lt;/span>INFO Generated: archives/2021/index.html
&lt;span class="ln">17&lt;/span>INFO Generated: archives/2021/11/index.html
&lt;span class="ln">18&lt;/span>INFO Generated: index.html
&lt;span class="ln">19&lt;/span>INFO Generated: 2021/11/19/hello-world/index.html
&lt;span class="ln">20&lt;/span>INFO &lt;span class="m">5&lt;/span> files generated in &lt;span class="m">14&lt;/span> ms
&lt;span class="ln">21&lt;/span>&lt;span class="c1"># æµ‹è¯•ç½‘é¡µ&lt;/span>
&lt;span class="ln">22&lt;/span>$ hexo server
&lt;span class="ln">23&lt;/span>INFO Validating config
&lt;span class="ln">24&lt;/span>INFO Start processing
&lt;span class="ln">25&lt;/span>INFO Hexo is running at http://localhost:4000 . Press Ctrl+C to stop.
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="åˆ‡æ¢hexoä¸»é¢˜">åˆ‡æ¢Hexoä¸»é¢˜&lt;/h3>
&lt;h2 id="dockerå®‰è£…ä¸é…ç½®">Dockerå®‰è£…ä¸é…ç½®&lt;/h2>
&lt;p>å®˜æ–¹æ–‡æ¡£å®‰è£…æŒ‡å—ï¼š&lt;a href="https://docs.docker.com/engine/install/debian/">https://docs.docker.com/engine/install/debian/&lt;/a>&lt;/p>
&lt;p>x86/amd64ç³»ç»Ÿè¯·æŸ¥çœ‹Install using the repositoryè¿™ä¸€èŠ‚ï¼Œå¦‚æœæ˜¯åœ¨æ ‘è“æ´¾ä¸Šå®‰è£…dockerï¼ŒæŸ¥çœ‹Install using the convenience scriptè¿™ä¸€èŠ‚ã€‚&lt;/p>
&lt;p>å®‰è£…å®Œä¹‹åæŸ¥çœ‹&lt;a href="https://docs.docker.com/engine/install/linux-postinstall/">https://docs.docker.com/engine/install/linux-postinstall/&lt;/a>æ¥è‡ªå·±é€‰å–ä¸€äº›éœ€è¦çš„é…ç½®ã€‚æ¯”å¦‚æˆ‘è¿™é‡Œéœ€è¦è¿™èŠ‚ä¸­çš„é&lt;code>sudo&lt;/code>ä½¿ç”¨Dockerï¼Œåˆ™å‚çœ‹â€œManage Docker as a non-root userâ€è¿™ä¸€èŠ‚ã€‚&lt;/p>
&lt;h2 id="jenkinså®‰è£…ä¸ä½¿ç”¨">Jenkinså®‰è£…ä¸ä½¿ç”¨&lt;/h2>
&lt;p>Jenkinså®˜æ–¹å®‰è£…æŒ‡ï¼š&lt;a href="https://www.jenkins.io/doc/book/installing/linux/#debianubuntu">https://www.jenkins.io/doc/book/installing/linux/#debianubuntu&lt;/a>&lt;/p>
&lt;p>å¦‚æœjenkinsæœªå¯åŠ¨ï¼Œé€šè¿‡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯ç”¨å¹¶å¯åŠ¨JenkinsæœåŠ¡ï¼š&lt;code>sudo systemctl enable --now jenkins&lt;/code>&lt;/p>
&lt;p>åˆæ¬¡è®¿é—®jenkins(é»˜è®¤8080ç«¯å£)ï¼Œéœ€è¦å¤åˆ¶&lt;code>/var/lib/jenkins/secrets/initialAdminPassword&lt;/code>æ–‡ä»¶å¤¹ä¸‹çš„å¯†ç ã€‚æ¥ä¸‹æ¥è¦å®‰è£…jenkinsæ’ä»¶ï¼Œåœ¨ä¸‹ä¸€ä¸ªå±å¹•ä¸Šï¼Œå®‰è£…å‘å¯¼å°†è¯¢é—®æ‚¨æ˜¯å¦è¦å®‰è£…å»ºè®®çš„æ’ä»¶æˆ–è¦é€‰æ‹©ç‰¹å®šçš„æ’ä»¶ã€‚å¯¹äºåˆå­¦è€…ï¼Œå•å‡»Install suggested pluginsï¼ˆå®‰è£…ç¤¾åŒºæ¨èçš„æ’ä»¶ï¼‰æ¡†å³å¯ï¼Œå®‰è£…è¿‡ç¨‹å°†ç«‹å³å¼€å§‹ã€‚æ¼«é•¿çš„ç­‰å¾…ä¹‹åï¼Œç³»ç»Ÿå°†æç¤ºæ‚¨è®¾ç½®ç¬¬ä¸€ä¸ªç®¡ç†å‘˜ç”¨æˆ·ã€‚å¡«å†™æ‰€éœ€çš„ä¿¡æ¯ï¼Œç„¶åä¿å­˜å¹¶ç»§ç»­ã€‚ç„¶åä½¿ç”¨å…¶é»˜è®¤ç”Ÿæˆçš„IP(æˆ–åŸŸå)ä»¥åŠç«¯å£å³å¯ã€‚&lt;/p>
&lt;p>å®Œæˆåï¼Œæˆ‘ä»¬å°†è¢«é‡å®šå‘åˆ°ä»¥å‰é¢çš„æ­¥éª¤ä¹‹ä¸€åˆ›å»ºçš„adminç”¨æˆ·èº«ä»½ç™»å½•çš„Jenkinsä»ªè¡¨æ¿ã€‚è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»åœ¨ç³»ç»Ÿä¸ŠæˆåŠŸå®‰è£…äº†Jenkinsã€‚&lt;/p>
&lt;p>PSï¼šå®‰è£…å®Œæˆåï¼Œå¦‚æœaptåº“ç«‹çš„jenkinsåº“æ€»æ˜¯æ‹–é€Ÿåº¦ï¼Œå¯ä»¥æŠŠjenkinsæºåˆ æ‰&lt;code>sudo rm /etc/apt/sources.list.d/jenkins.list&lt;/code>ã€‚&lt;/p>
&lt;h2 id="gitlabå®‰è£…">Gitlabå®‰è£…&lt;/h2>
&lt;p>Gitlabæœ‰debiançš„å®˜æ–¹å®‰è£…æ•™ç¨‹ï¼Œè¯·å‚è€ƒ&lt;a href="https://about.gitlab.com/install/#debian">https://about.gitlab.com/install/#debian&lt;/a>ã€‚&lt;/p>
&lt;h2 id="linuxç›®å½•ç»“æ„ä¸ç”¨å¤„">Linuxç›®å½•ç»“æ„ä¸ç”¨å¤„&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>/bin&lt;/strong>ï¼šbin æ˜¯ Binaries (äºŒè¿›åˆ¶æ–‡ä»¶) çš„ç¼©å†™, è¿™ä¸ªç›®å½•å­˜æ”¾ç€æœ€ç»å¸¸ä½¿ç”¨çš„å‘½ä»¤ã€‚&lt;/li>
&lt;li>/bootï¼šè¿™é‡Œå­˜æ”¾çš„æ˜¯å¯åŠ¨ Linux æ—¶ä½¿ç”¨çš„ä¸€äº›æ ¸å¿ƒæ–‡ä»¶ï¼ŒåŒ…æ‹¬ä¸€äº›è¿æ¥æ–‡ä»¶ä»¥åŠé•œåƒæ–‡ä»¶ã€‚&lt;/li>
&lt;li>/devï¼šdevæ˜¯ Device(è®¾å¤‡) çš„ç¼©å†™, è¯¥ç›®å½•ä¸‹å­˜æ”¾çš„æ˜¯ Linux çš„å¤–éƒ¨è®¾å¤‡ï¼Œåœ¨ Linux ä¸­è®¿é—®è®¾å¤‡çš„æ–¹å¼å’Œè®¿é—®æ–‡ä»¶çš„æ–¹å¼æ˜¯ç›¸åŒçš„ã€‚&lt;/li>
&lt;li>&lt;strong>/etc&lt;/strong>ï¼šetc æ˜¯ Etcetera(ç­‰ç­‰) çš„ç¼©å†™,è¿™ä¸ªç›®å½•ç”¨æ¥å­˜æ”¾æ‰€æœ‰çš„ç³»ç»Ÿç®¡ç†æ‰€éœ€è¦çš„&lt;strong>é…ç½®æ–‡ä»¶&lt;/strong>å’Œå­ç›®å½•ã€‚&lt;strong>å¸¸è§çš„é…ç½®æ–‡ä»¶éƒ½åœ¨è¿™é‡Œ&lt;/strong>ã€‚&lt;/li>
&lt;li>&lt;strong>/home&lt;/strong>ï¼šç”¨æˆ·çš„ä¸»ç›®å½•ï¼Œåœ¨ Linux ä¸­ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„ç›®å½•ï¼Œä¸€èˆ¬è¯¥ç›®å½•åæ˜¯ä»¥ç”¨æˆ·çš„è´¦å·å‘½åçš„ï¼Œå¦‚ä¸Šå›¾ä¸­çš„ aliceã€bob å’Œ eveã€‚&lt;strong>ä¸€èˆ¬ç”¨æ¥å­˜æ”¾å„ä¸ªç”¨æˆ·è‡ªå·±çš„ç”¨æˆ·ç¨‹åºå’Œæ•°æ®&lt;/strong>ã€‚&lt;/li>
&lt;li>/libï¼ˆè¿˜åŒ…æ‹¬/lib32,/lib64,/libx32ï¼‰ï¼šlib æ˜¯ Library(åº“) çš„ç¼©å†™è¿™ä¸ªç›®å½•é‡Œå­˜æ”¾ç€ç³»ç»Ÿæœ€åŸºæœ¬çš„åŠ¨æ€è¿æ¥å…±äº«åº“ï¼Œå…¶ä½œç”¨ç±»ä¼¼äº Windows é‡Œçš„ DLL æ–‡ä»¶ã€‚å‡ ä¹æ‰€æœ‰çš„åº”ç”¨ç¨‹åºéƒ½éœ€è¦ç”¨åˆ°è¿™äº›å…±äº«åº“ã€‚&lt;/li>
&lt;li>/lost+foundï¼šè¿™ä¸ªç›®å½•ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ç©ºçš„ï¼Œå½“ç³»ç»Ÿéæ³•å…³æœºåï¼Œè¿™é‡Œå°±å­˜æ”¾äº†ä¸€äº›æ–‡ä»¶ã€‚&lt;/li>
&lt;li>/mediaï¼šlinux ç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«ä¸€äº›è®¾å¤‡ï¼Œä¾‹å¦‚Uç›˜ã€å…‰é©±ç­‰ç­‰ï¼Œå½“è¯†åˆ«åï¼ŒLinux ä¼šæŠŠè¯†åˆ«çš„è®¾å¤‡æŒ‚è½½åˆ°è¿™ä¸ªç›®å½•ä¸‹ã€‚&lt;/li>
&lt;li>/mntï¼šç³»ç»Ÿæä¾›è¯¥ç›®å½•æ˜¯ä¸ºäº†è®©ç”¨æˆ·ä¸´æ—¶æŒ‚è½½åˆ«çš„æ–‡ä»¶ç³»ç»Ÿçš„ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…‰é©±æŒ‚è½½åœ¨ /mnt/ ä¸Šï¼Œç„¶åè¿›å…¥è¯¥ç›®å½•å°±å¯ä»¥æŸ¥çœ‹å…‰é©±é‡Œçš„å†…å®¹äº†ã€‚&lt;/li>
&lt;li>/optï¼šopt æ˜¯ optional(å¯é€‰) çš„ç¼©å†™ï¼Œè¿™æ˜¯ç»™ä¸»æœºé¢å¤–å®‰è£…è½¯ä»¶æ‰€æ‘†æ”¾çš„ç›®å½•ã€‚æ¯”å¦‚ä½ å®‰è£…ä¸€ä¸ªORACLEæ•°æ®åº“åˆ™å°±å¯ä»¥æ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹ã€‚é»˜è®¤æ˜¯ç©ºçš„ã€‚&lt;/li>
&lt;li>/procï¼šproc æ˜¯ Processes(è¿›ç¨‹) çš„ç¼©å†™ï¼Œ/proc æ˜¯ä¸€ç§ä¼ªæ–‡ä»¶ç³»ç»Ÿï¼ˆä¹Ÿå³è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼‰ï¼Œå­˜å‚¨çš„æ˜¯å½“å‰å†…æ ¸è¿è¡ŒçŠ¶æ€çš„ä¸€ç³»åˆ—ç‰¹æ®Šæ–‡ä»¶ï¼Œè¿™ä¸ªç›®å½•æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„ç›®å½•ï¼Œå®ƒæ˜¯ç³»ç»Ÿå†…å­˜çš„æ˜ å°„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç›´æ¥è®¿é—®è¿™ä¸ªç›®å½•æ¥è·å–ç³»ç»Ÿä¿¡æ¯ã€‚è¿™ä¸ªç›®å½•çš„&lt;strong>å†…å®¹ä¸åœ¨ç¡¬ç›˜ä¸Šè€Œæ˜¯åœ¨å†…å­˜é‡Œ&lt;/strong>ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥ä¿®æ”¹é‡Œé¢çš„æŸäº›æ–‡ä»¶ï¼Œæ¯”å¦‚å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ¥å±è”½ä¸»æœºçš„pingå‘½ä»¤ï¼Œä½¿åˆ«äººæ— æ³•pingä½ çš„æœºå™¨ï¼š&lt;code>echo 1 &amp;gt; /proc/sys/net/ipv4/icmp_echo_ignore_all&lt;/code>ï¼›ä½†æ˜¯å¯¹è¿™ä¸ªæ–‡ä»¶ä¸­ä¿®æ”¹éƒ½æ˜¯åªåœ¨æœ¬æ¬¡å¼€æœºè¿è¡ŒæœŸé—´æœ‰æ•ˆã€‚&lt;/li>
&lt;li>/rootï¼šè¯¥ç›®å½•ä¸ºç³»ç»Ÿç®¡ç†å‘˜ï¼Œä¹Ÿç§°ä½œè¶…çº§æƒé™è€…çš„ç”¨æˆ·ä¸»ç›®å½•ã€‚&lt;/li>
&lt;li>/sbinï¼šs å°±æ˜¯ Super User çš„æ„æ€ï¼Œæ˜¯ Superuser Binaries (è¶…çº§ç”¨æˆ·çš„äºŒè¿›åˆ¶æ–‡ä»¶) çš„ç¼©å†™ï¼Œè¿™é‡Œå­˜æ”¾çš„æ˜¯ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨çš„ç³»ç»Ÿç®¡ç†ç¨‹åºã€‚&lt;/li>
&lt;li>/srvï¼šè¯¥ç›®å½•å­˜æ”¾ä¸€äº›æœåŠ¡å¯åŠ¨ä¹‹åéœ€è¦æå–çš„æ•°æ®ã€‚&lt;/li>
&lt;li>/sysï¼šè¿™æ˜¯ Linux2.6 å†…æ ¸çš„ä¸€ä¸ªå¾ˆå¤§çš„å˜åŒ–ã€‚è¯¥ç›®å½•ä¸‹å®‰è£…äº† 2.6 å†…æ ¸ä¸­æ–°å‡ºç°çš„ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿ sysfs ã€‚sysfs æ–‡ä»¶ç³»ç»Ÿé›†æˆäº†ä¸‹é¢3ç§æ–‡ä»¶ç³»ç»Ÿçš„ä¿¡æ¯ï¼šé’ˆå¯¹è¿›ç¨‹ä¿¡æ¯çš„ proc æ–‡ä»¶ç³»ç»Ÿã€é’ˆå¯¹è®¾å¤‡çš„ devfs æ–‡ä»¶ç³»ç»Ÿä»¥åŠé’ˆå¯¹ä¼ªç»ˆç«¯çš„ devpts æ–‡ä»¶ç³»ç»Ÿã€‚è¯¥æ–‡ä»¶ç³»ç»Ÿæ˜¯å†…æ ¸è®¾å¤‡æ ‘çš„ä¸€ä¸ªç›´è§‚åæ˜ ã€‚å½“ä¸€ä¸ªå†…æ ¸å¯¹è±¡è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œå¯¹åº”çš„æ–‡ä»¶å’Œç›®å½•ä¹Ÿåœ¨å†…æ ¸å¯¹è±¡å­ç³»ç»Ÿä¸­è¢«åˆ›å»ºã€‚&lt;/li>
&lt;li>/tmpï¼štmp æ˜¯ temporary(ä¸´æ—¶) çš„ç¼©å†™è¿™ä¸ªç›®å½•æ˜¯ç”¨æ¥å­˜æ”¾ä¸€äº›ä¸´æ—¶æ–‡ä»¶çš„ã€‚&lt;/li>
&lt;li>&lt;strong>/usr&lt;/strong>ï¼š usr æ˜¯ unix shared resources(å…±äº«èµ„æº) çš„ç¼©å†™ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ç›®å½•ï¼Œç”¨æˆ·çš„å¾ˆå¤šåº”ç”¨ç¨‹åºå’Œæ–‡ä»¶éƒ½æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œ&lt;strong>ç±»ä¼¼äº windows ä¸‹çš„ program files ç›®å½•&lt;/strong>ã€‚/usr æ˜¯ç³»ç»Ÿæ ¸å¿ƒæ‰€åœ¨ï¼ŒåŒ…å«äº†æ‰€æœ‰çš„å…±äº«æ–‡ä»¶ã€‚å®ƒæ˜¯ unix ç³»ç»Ÿä¸­æœ€é‡è¦çš„ç›®å½•ä¹‹ä¸€ï¼Œæ¶µç›–äº†äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå„ç§æ–‡æ¡£ï¼Œå„ç§å¤´æ–‡ä»¶ï¼Œè¿˜æœ‰å„ç§åº“æ–‡ä»¶ï¼›è¿˜æœ‰è¯¸å¤šç¨‹åºï¼Œä¾‹å¦‚ ftpï¼Œtelnet ç­‰ç­‰ã€‚
&lt;ul>
&lt;li>&lt;strong>/usr/bin&lt;/strong> : æ‰€æœ‰å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¦‚ gccï¼Œfirefox ç­‰ï¼ˆæŒ‡ä¸åŒ…å«åœ¨ /sbin å’Œ /bin å†…çš„ï¼‰ï¼›&lt;/li>
&lt;li>/usr/include : å„ç§å¤´æ–‡ä»¶ï¼Œç¼–è¯‘æ–‡ä»¶ç­‰æ—¶éœ€è¦ä½¿ç”¨ï¼›&lt;/li>
&lt;li>/usr/include/â€™package-nameâ€™ : ç¨‹åºç‰¹å®šçš„å¤´æ–‡ä»¶ï¼›&lt;/li>
&lt;li>/usr/lib : æ‰€ä»¥å¯æ‰§è¡Œæ–‡ä»¶æ‰€éœ€è¦çš„åº“æ–‡ä»¶ï¼›&lt;/li>
&lt;li>/usr/local : /usr é€šå¸¸åªåŒ…å«ç³»ç»Ÿå‘è¡Œæ—¶è‡ªå¸¦çš„ç¨‹åºï¼Œè€Œ /usr/local åˆ™æ˜¯æœ¬åœ°ç³»ç»Ÿç®¡ç†å‘˜ç”¨æ¥è‡ªç”±æ·»åŠ ç¨‹åºçš„ç›®å½•ï¼›
&lt;ul>
&lt;li>/usr/local/bin æœ¬åœ°å¢åŠ çš„å‘½ä»¤&lt;/li>
&lt;li>/usr/local/lib æœ¬åœ°å¢åŠ çš„åº“&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>/usr/share : å®ƒåŒ…å«äº†å„ç§ç¨‹åºé—´çš„å…±äº«æ–‡ä»¶ï¼Œå¦‚å­—ä½“ï¼Œå›¾æ ‡ï¼Œæ–‡æ¡£ç­‰ã€‚ï¼ˆ/usr/local å¯¹åº”çš„ç›®å½•æ˜¯ /usr/loca/shareï¼‰&lt;/li>
&lt;li>/usr/src : linux å†…æ ¸çš„æºç å’Œè¯´æ˜æ–‡æ¡£ç­‰ï¼›&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>/var&lt;/strong>ï¼švar æ˜¯ variable(å˜é‡) çš„ç¼©å†™ï¼Œè¿™ä¸ªç›®å½•ä¸­å­˜æ”¾ç€åœ¨ä¸æ–­æ‰©å……ç€çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬ä¹ æƒ¯å°†é‚£äº›ç»å¸¸è¢«ä¿®æ”¹çš„ç›®å½•æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ã€‚åŒ…æ‹¬å„ç§æ—¥å¿—æ–‡ä»¶ã€‚&lt;/li>
&lt;li>/runï¼šæ˜¯ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿï¼Œå­˜å‚¨ç³»ç»Ÿå¯åŠ¨ä»¥æ¥çš„ä¿¡æ¯ã€‚å½“ç³»ç»Ÿé‡å¯æ—¶ï¼Œè¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶åº”è¯¥è¢«åˆ æ‰æˆ–æ¸…é™¤ã€‚å¦‚æœä½ çš„ç³»ç»Ÿä¸Šæœ‰ /var/run ç›®å½•ï¼Œåº”è¯¥è®©å®ƒæŒ‡å‘ runã€‚&lt;/li>
&lt;/ul></description></item><item><title>linux-su_sudo-å„ç”¨æˆ·ç¯å¢ƒç©ºé—´</title><link>https://surprisedcat.github.io/projectnotes/linux-su_sudo-%E5%90%84%E7%94%A8%E6%88%B7%E7%8E%AF%E5%A2%83%E7%A9%BA%E9%97%B4/</link><pubDate>Fri, 19 Nov 2021 00:00:00 +0000</pubDate><guid>https://surprisedcat.github.io/projectnotes/linux-su_sudo-%E5%90%84%E7%94%A8%E6%88%B7%E7%8E%AF%E5%A2%83%E7%A9%BA%E9%97%B4/</guid><description>
&lt;h2 id="linuxä¸­susu--sudoå„ç”¨æˆ·ç¯å¢ƒç©ºé—´---omit-in-toc---">Linuxä¸­suï¼Œsu -ï¼Œsudoå„ç”¨æˆ·ç¯å¢ƒç©ºé—´&lt;!-- omit in toc -->&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="#su%E4%B8%8Esu--">suä¸su -&lt;/a>&lt;/li>
&lt;li>&lt;a href="#sudo%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%97%AE%E9%A2%98">sudoçš„ç¯å¢ƒå˜é‡é—®é¢˜&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E6%9C%89sudo-su">ä¸ºä»€ä¹ˆæœ‰&lt;code>sudo su&lt;/code>&lt;/a>&lt;/li>
&lt;li>&lt;a href="#%E6%9C%89%E4%BA%9B%E5%91%BD%E4%BB%A4%E6%98%8E%E6%98%8E%E5%AE%89%E8%A3%85%E4%BA%86%E4%BD%86%E6%98%AF%E5%8D%B4command-not-found">æœ‰äº›å‘½ä»¤æ˜æ˜å®‰è£…äº†ä½†æ˜¯å´&amp;quot;command not found&amp;quot;&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>æˆ‘ä»¬åœ¨éœ€è¦rootæƒé™æ—¶ï¼Œå¸¸ç”¨&lt;code>su,su -,sudo&lt;/code>ä¸‰ç§å‘½ä»¤ï¼Œå®ƒä»¬çš„å…¨ç§°æ˜¯ï¼š&lt;/p>
&lt;ul>
&lt;li>sudo = Super user do è¶…çº§ç”¨æˆ·do&lt;/li>
&lt;li>su = Shift user åˆ‡æ¢ç”¨æˆ·&lt;/li>
&lt;/ul>
&lt;p>å…¶ä¸­ï¼Œsuå‘½ä»¤ä¼šç›´æ¥åˆ‡æ¢åˆ°rootï¼Œè€Œsudoåªæ˜¯ä¸´æ—¶ä½¿ç”¨rootèº«ä»½ã€‚åŒæ—¶&lt;code>su&lt;/code>å‘½ä»¤è¦æ±‚è¾“å…¥çš„å¯†ç æ˜¯rootç”¨æˆ·çš„å¯†ç ï¼Œ&lt;code>sudo&lt;/code>éœ€è¦è¾“å…¥å½“å‰ç”¨æˆ·çš„å¯†ç ï¼ˆæ³¨æ„ï¼Œå½“ä½ æ˜¯rootç”¨æˆ·æ˜¯ï¼Œåˆ‡æ¢åˆ°æœ¬æœºçš„å…¶ä»–ä»»ä½•ç”¨æˆ·éƒ½æ˜¯ä¸éœ€è¦è¾“å…¥å¯†ç çš„ï¼‰ã€‚é™¤å´è¡¨é¢ä¸Šçš„åŒºåˆ«ï¼Œä»–ä»¬æ·±å±‚çš„ç¯å¢ƒå˜é‡ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ï¼Œæœ¬æ–‡å°†è¯¦ç»†è¯´æ˜ã€‚&lt;/p>
&lt;h2 id="suä¸su--">suä¸su -&lt;/h2>
&lt;p>è”ç³»ï¼šéƒ½æ˜¯åˆ‡æ¢åˆ°root&lt;/p>
&lt;p>åŒºåˆ«ï¼šå‰è€…åªæ˜¯åˆ‡æ¢äº†rootèº«ä»½ï¼Œä½†Shell&lt;strong>ç¯å¢ƒä»ç„¶æ˜¯æ™®é€šç”¨æˆ·&lt;/strong>çš„Shellï¼›è€Œåè€…è¿ç”¨æˆ·å’ŒShell&lt;strong>ç¯å¢ƒä¸€èµ·åˆ‡æ¢æˆrootèº«ä»½äº†&lt;/strong>ã€‚åªæœ‰åˆ‡æ¢äº†Shellç¯å¢ƒæ‰ä¸ä¼šå‡ºç°PATHç¯å¢ƒå˜é‡é”™è¯¯ã€‚&lt;code>su&lt;/code>åˆ‡æ¢æˆrootç”¨æˆ·ä»¥åï¼Œ&lt;code>pwd&lt;/code>ä¸€ä¸‹ï¼Œå‘ç°å·¥ä½œç›®å½•ä»ç„¶æ˜¯æ™®é€šç”¨æˆ·çš„å·¥ä½œç›®å½•ï¼›è€Œç”¨&lt;code>su -&lt;/code>å‘½ä»¤åˆ‡æ¢ä»¥åï¼Œå·¥ä½œç›®å½•å˜æˆrootçš„å·¥ä½œç›®å½•äº†ã€‚ç”¨&lt;code>echo $PATH&lt;/code>å‘½ä»¤çœ‹ä¸€ä¸‹&lt;code>su&lt;/code>å’Œ&lt;code>su -&lt;/code>ä»¥åçš„ç¯å¢ƒå˜é‡æœ‰ä½•ä¸åŒã€‚ä»¥æ­¤ç±»æ¨ï¼Œè¦ä»å½“å‰ç”¨æˆ·åˆ‡æ¢åˆ°å…¶å®ƒç”¨æˆ·ä¹Ÿä¸€æ ·ï¼Œåº”è¯¥ä½¿ç”¨&lt;code>su -&lt;/code>å‘½ä»¤ã€‚&lt;/p>
&lt;p>ä½¿ç”¨&lt;code>su -&lt;/code>å‘½ä»¤ï¼Œç¯å¢ƒå˜é‡å‘ç”Ÿäº†å˜åŒ–ã€‚è¡¥å……ï¼Œå¦‚æœéœ€è¦åˆ‡æ¢åˆ°å…¶ä»–ç”¨æˆ·ä¸”ç¯å¢ƒä¹Ÿè·Ÿç€åˆ‡æ¢ï¼Œåˆ™ç”¨&lt;code>su - username&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln"> 1&lt;/span>$ su -
&lt;span class="ln"> 2&lt;/span>&lt;span class="c1"># env&lt;/span>
&lt;span class="ln"> 3&lt;/span>&lt;span class="nv">SHELL&lt;/span>&lt;span class="o">=&lt;/span>/bin/bash
&lt;span class="ln"> 4&lt;/span>&lt;span class="nv">HISTSIZE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">3000&lt;/span>
&lt;span class="ln"> 5&lt;/span>&lt;span class="nv">LANGUAGE&lt;/span>&lt;span class="o">=&lt;/span>en_US.utf8
&lt;span class="ln"> 6&lt;/span>&lt;span class="nv">HISTTIMEFORMAT&lt;/span>&lt;span class="o">=&lt;/span>%F %T
&lt;span class="ln"> 7&lt;/span>&lt;span class="nv">PWD&lt;/span>&lt;span class="o">=&lt;/span>/root &lt;span class="c1"># è¿™é‡Œåˆ‡æ¢åˆ°äº†/root&lt;/span>
&lt;span class="ln"> 8&lt;/span>&lt;span class="nv">LOGNAME&lt;/span>&lt;span class="o">=&lt;/span>root
&lt;span class="ln"> 9&lt;/span>&lt;span class="nv">HOME&lt;/span>&lt;span class="o">=&lt;/span>/root
&lt;span class="ln">10&lt;/span>&lt;span class="nv">LANG&lt;/span>&lt;span class="o">=&lt;/span>en_US.utf8
&lt;span class="ln">11&lt;/span>&lt;span class="nv">PROMPT_COMMAND&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">history&lt;/span> -a&lt;span class="p">;&lt;/span>
&lt;span class="ln">12&lt;/span>&lt;span class="nv">TERM&lt;/span>&lt;span class="o">=&lt;/span>xterm
&lt;span class="ln">13&lt;/span>&lt;span class="nv">USER&lt;/span>&lt;span class="o">=&lt;/span>root
&lt;span class="ln">14&lt;/span>&lt;span class="nv">SHLVL&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;span class="ln">15&lt;/span>&lt;span class="nv">PATH&lt;/span>&lt;span class="o">=&lt;/span>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin &lt;span class="c1"># è¿™é‡Œçš„PATHå˜æˆäº†rootçš„PATH&lt;/span>
&lt;span class="ln">16&lt;/span>&lt;span class="nv">MAIL&lt;/span>&lt;span class="o">=&lt;/span>/var/mail/root
&lt;span class="ln">17&lt;/span>&lt;span class="nv">_&lt;/span>&lt;span class="o">=&lt;/span>/usr/bin/env
&lt;span class="ln">18&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä½¿ç”¨&lt;code>su&lt;/code>å‘½ä»¤ï¼Œç¯å¢ƒå˜é‡ä¸å˜ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln"> 1&lt;/span>$ su
&lt;span class="ln"> 2&lt;/span>&lt;span class="c1"># env&lt;/span>
&lt;span class="ln"> 3&lt;/span>&lt;span class="nv">SHELL&lt;/span>&lt;span class="o">=&lt;/span>/bin/bash
&lt;span class="ln"> 4&lt;/span>&lt;span class="nv">NVM_INC&lt;/span>&lt;span class="o">=&lt;/span>/home/lelouch/.nvm/versions/node/v16.13.0/include/node
&lt;span class="ln"> 5&lt;/span>&lt;span class="nv">CONDA_EXE&lt;/span>&lt;span class="o">=&lt;/span>/home/lelouch/anaconda3/bin/conda
&lt;span class="ln"> 6&lt;/span>&lt;span class="nv">_CE_M&lt;/span>&lt;span class="o">=&lt;/span>
&lt;span class="ln"> 7&lt;/span>&lt;span class="nv">HISTSIZE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">3000&lt;/span>
&lt;span class="ln"> 8&lt;/span>&lt;span class="nv">LANGUAGE&lt;/span>&lt;span class="o">=&lt;/span>en_US.utf8
&lt;span class="ln"> 9&lt;/span>&lt;span class="nv">HISTTIMEFORMAT&lt;/span>&lt;span class="o">=&lt;/span>%F %T
&lt;span class="ln">10&lt;/span>&lt;span class="nv">PWD&lt;/span>&lt;span class="o">=&lt;/span>/home/lelouch &lt;span class="c1"># è¿™é‡Œæ²¡æœ‰å˜&lt;/span>
&lt;span class="ln">11&lt;/span>&lt;span class="nv">LOGNAME&lt;/span>&lt;span class="o">=&lt;/span>lelouch
&lt;span class="ln">12&lt;/span>&lt;span class="nv">XDG_SESSION_TYPE&lt;/span>&lt;span class="o">=&lt;/span>tty
&lt;span class="ln">13&lt;/span>&lt;span class="nv">HOME&lt;/span>&lt;span class="o">=&lt;/span>/root
&lt;span class="ln">14&lt;/span>&lt;span class="nv">LANG&lt;/span>&lt;span class="o">=&lt;/span>en_US.utf8
&lt;span class="ln">15&lt;/span>&lt;span class="nv">LS_COLORS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">rs&lt;/span>&lt;span class="o">=&lt;/span>0:di&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>34:ln&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>36:mh&lt;span class="o">=&lt;/span>00:pi&lt;span class="o">=&lt;/span>40&lt;span class="p">;&lt;/span>33:so&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:do&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:bd&lt;span class="o">=&lt;/span>40&lt;span class="p">;&lt;/span>33&lt;span class="p">;&lt;/span>01:cd&lt;span class="o">=&lt;/span>40&lt;span class="p">;&lt;/span>33&lt;span class="p">;&lt;/span>01:or&lt;span class="o">=&lt;/span>40&lt;span class="p">;&lt;/span>31&lt;span class="p">;&lt;/span>01:mi&lt;span class="o">=&lt;/span>00:su&lt;span class="o">=&lt;/span>37&lt;span class="p">;&lt;/span>41:sg&lt;span class="o">=&lt;/span>30&lt;span class="p">;&lt;/span>43:ca&lt;span class="o">=&lt;/span>30&lt;span class="p">;&lt;/span>41:tw&lt;span class="o">=&lt;/span>30&lt;span class="p">;&lt;/span>42:ow&lt;span class="o">=&lt;/span>34&lt;span class="p">;&lt;/span>42:st&lt;span class="o">=&lt;/span>37&lt;span class="p">;&lt;/span>44:ex&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>32:*.tar&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.tgz&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.arc&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.arj&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.taz&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.lha&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.lz4&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.lzh&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.lzma&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.tlz&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.txz&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.tzo&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.t7z&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.zip&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.z&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.dz&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.gz&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.lrz&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.lz&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.lzo&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.xz&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.zst&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.tzst&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.bz2&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.bz&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.tbz&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.tbz2&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.tz&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.deb&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.rpm&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.jar&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.war&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.ear&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.sar&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.rar&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.alz&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.ace&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.zoo&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.cpio&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.7z&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.rz&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.cab&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.wim&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.swm&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.dwm&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.esd&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>31:*.jpg&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.jpeg&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.mjpg&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.mjpeg&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.gif&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.bmp&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.pbm&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.pgm&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.ppm&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.tga&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.xbm&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.xpm&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.tif&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.tiff&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.png&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.svg&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.svgz&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.mng&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.pcx&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.mov&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.mpg&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.mpeg&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.m2v&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.mkv&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.webm&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.ogm&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.mp4&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.m4v&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.mp4v&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.vob&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.qt&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.nuv&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.wmv&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.asf&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.rm&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.rmvb&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.flc&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.avi&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.fli&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.flv&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.gl&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.dl&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.xcf&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.xwd&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.yuv&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.cgm&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.emf&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.ogv&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.ogx&lt;span class="o">=&lt;/span>01&lt;span class="p">;&lt;/span>35:*.aac&lt;span class="o">=&lt;/span>00&lt;span class="p">;&lt;/span>36:*.au&lt;span class="o">=&lt;/span>00&lt;span class="p">;&lt;/span>36:*.flac&lt;span class="o">=&lt;/span>00&lt;span class="p">;&lt;/span>36:*.m4a&lt;span class="o">=&lt;/span>00&lt;span class="p">;&lt;/span>36:*.mid&lt;span class="o">=&lt;/span>00&lt;span class="p">;&lt;/span>36:*.midi&lt;span class="o">=&lt;/span>00&lt;span class="p">;&lt;/span>36:*.mka&lt;span class="o">=&lt;/span>00&lt;span class="p">;&lt;/span>36:*.mp3&lt;span class="o">=&lt;/span>00&lt;span class="p">;&lt;/span>36:*.mpc&lt;span class="o">=&lt;/span>00&lt;span class="p">;&lt;/span>36:*.ogg&lt;span class="o">=&lt;/span>00&lt;span class="p">;&lt;/span>36:*.ra&lt;span class="o">=&lt;/span>00&lt;span class="p">;&lt;/span>36:*.wav&lt;span class="o">=&lt;/span>00&lt;span class="p">;&lt;/span>36:*.oga&lt;span class="o">=&lt;/span>00&lt;span class="p">;&lt;/span>36:*.opus&lt;span class="o">=&lt;/span>00&lt;span class="p">;&lt;/span>36:*.spx&lt;span class="o">=&lt;/span>00&lt;span class="p">;&lt;/span>36:*.xspf&lt;span class="o">=&lt;/span>00&lt;span class="p">;&lt;/span>36:
&lt;span class="ln">16&lt;/span>&lt;span class="nv">PROMPT_COMMAND&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">history&lt;/span> -a&lt;span class="p">;&lt;/span> &lt;span class="nb">history&lt;/span> -a&lt;span class="p">;&lt;/span>
&lt;span class="ln">17&lt;/span>&lt;span class="nv">SSH_CONNECTION&lt;/span>&lt;span class="o">=&lt;/span>223.72.75.152 &lt;span class="m">29724&lt;/span> 172.17.0.7 &lt;span class="m">5122&lt;/span>
&lt;span class="ln">18&lt;/span>&lt;span class="nv">NVM_DIR&lt;/span>&lt;span class="o">=&lt;/span>/home/lelouch/.nvm
&lt;span class="ln">19&lt;/span>&lt;span class="nv">XDG_SESSION_CLASS&lt;/span>&lt;span class="o">=&lt;/span>user
&lt;span class="ln">20&lt;/span>&lt;span class="nv">TERM&lt;/span>&lt;span class="o">=&lt;/span>xterm
&lt;span class="ln">21&lt;/span>&lt;span class="nv">_CE_CONDA&lt;/span>&lt;span class="o">=&lt;/span>
&lt;span class="ln">22&lt;/span>&lt;span class="nv">USER&lt;/span>&lt;span class="o">=&lt;/span>lelouch
&lt;span class="ln">23&lt;/span>&lt;span class="nv">CONDA_SHLVL&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">0&lt;/span>
&lt;span class="ln">24&lt;/span>&lt;span class="nv">DISPLAY&lt;/span>&lt;span class="o">=&lt;/span>localhost:10.0
&lt;span class="ln">25&lt;/span>&lt;span class="nv">SHLVL&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">2&lt;/span> &lt;span class="c1"># SHLVL æ˜¯è®°å½•å¤šä¸ªBashè¿›ç¨‹å®ä¾‹åµŒå¥—æ·±åº¦çš„ç´¯åŠ å™¨ï¼Œsuå®åœ¨åŸæœ‰shellä¸‹å¼€å­shellï¼Œè€Œsu - æ˜¯å®Œå…¨é‡å¼€&lt;/span>
&lt;span class="ln">26&lt;/span>&lt;span class="nv">NVM_CD_FLAGS&lt;/span>&lt;span class="o">=&lt;/span>
&lt;span class="ln">27&lt;/span>&lt;span class="nv">XDG_SESSION_ID&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">101&lt;/span>
&lt;span class="ln">28&lt;/span>&lt;span class="nv">CONDA_PYTHON_EXE&lt;/span>&lt;span class="o">=&lt;/span>/home/lelouch/anaconda3/bin/python
&lt;span class="ln">29&lt;/span>&lt;span class="nv">XDG_RUNTIME_DIR&lt;/span>&lt;span class="o">=&lt;/span>/run/user/1000
&lt;span class="ln">30&lt;/span>&lt;span class="nv">SSH_CLIENT&lt;/span>&lt;span class="o">=&lt;/span>223.72.75.152 &lt;span class="m">29724&lt;/span> &lt;span class="m">5122&lt;/span>
&lt;span class="ln">31&lt;/span>&lt;span class="nv">PATH&lt;/span>&lt;span class="o">=&lt;/span>/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games &lt;span class="c1"># è¿™é‡Œçš„PATHä¸å˜ï¼Œä¿æŒlelouchç”¨æˆ·çš„PATHå˜é‡&lt;/span>
&lt;span class="ln">32&lt;/span>&lt;span class="nv">DBUS_SESSION_BUS_ADDRESS&lt;/span>&lt;span class="o">=&lt;/span>unix:path&lt;span class="o">=&lt;/span>/run/user/1000/bus
&lt;span class="ln">33&lt;/span>&lt;span class="nv">MAIL&lt;/span>&lt;span class="o">=&lt;/span>/var/mail/root
&lt;span class="ln">34&lt;/span>&lt;span class="nv">NVM_BIN&lt;/span>&lt;span class="o">=&lt;/span>/home/lelouch/.nvm/versions/node/v16.13.0/bin
&lt;span class="ln">35&lt;/span>&lt;span class="nv">SSH_TTY&lt;/span>&lt;span class="o">=&lt;/span>/dev/pts/0
&lt;span class="ln">36&lt;/span>&lt;span class="nv">_&lt;/span>&lt;span class="o">=&lt;/span>/usr/bin/env
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="sudoçš„ç¯å¢ƒå˜é‡é—®é¢˜">sudoçš„ç¯å¢ƒå˜é‡é—®é¢˜&lt;/h2>
&lt;p>&lt;code>sudo&lt;/code>æ‰§è¡Œå‘½ä»¤çš„æµç¨‹æ˜¯å½“å‰ç”¨æˆ·åˆ‡æ¢åˆ°rootï¼ˆæˆ–å…¶å®ƒæŒ‡å®šåˆ‡æ¢åˆ°çš„ç”¨æˆ·ï¼‰ï¼Œç„¶åä»¥rootï¼ˆæˆ–å…¶å®ƒæŒ‡å®šçš„åˆ‡æ¢åˆ°çš„ç”¨æˆ·ï¼‰èº«ä»½æ‰§è¡Œå‘½ä»¤ï¼Œæ‰§è¡Œå®Œæˆåï¼Œç›´æ¥é€€å›åˆ°å½“å‰ç”¨æˆ·ã€‚&lt;/p>
&lt;p>ç”±ä¸Šè¿°æµç¨‹å¯å‘ç°&lt;code>sudo&lt;/code>å‘½ä»¤çš„åˆè¡·æ˜¯è®©ç”¨æˆ·ä¸´æ—¶æœ‰rootæƒé™ï¼Œå› æ­¤&lt;strong>åªä¼šå¯¹ç¯å¢ƒå˜é‡åšæœ€å°ä¿®æ”¹&lt;/strong>ã€‚å…¶ä»–çš†ç»§æ‰¿åŸæœ‰ç”¨æˆ·çš„ç¯å¢ƒå˜é‡ã€‚æœ€å…¸å‹çš„å°±æ˜¯&lt;code>$PATH&lt;/code>å˜é‡ã€‚å¦‚æœä¸åœ¨é…ç½®æ–‡ä»¶ä¸­åšä¿®æ”¹ï¼Œ&lt;code>sudo&lt;/code>å‘½ä»¤ä¸‹çš„ç¯å¢ƒ&lt;code>$PATH&lt;/code>å˜é‡å’ŒåŸæ¥æ˜¯ä¸€æ ·çš„ã€‚å¯æ˜¯ï¼Œæœ‰å¾ˆå¤šå‘½ä»¤æ˜¯åœ¨&lt;code>/sbin&lt;/code>è¿™ç±»æ–‡ä»¶å¤¹é‡Œçš„ï¼Œè¿™äº›æ˜¯è¦é€šè¿‡&lt;code>sudo&lt;/code>çš„é…ç½®æ–‡ä»¶&lt;code>/etc/sudoers&lt;/code>æ¥è¿›è¡Œæˆæƒçš„ï¼Œå› æ­¤ä¸ºäº†èƒ½è®©ç”¨æˆ·ä½¿ç”¨rootçš„å‘½ä»¤ï¼Œä¸€èˆ¬ä¼šåœ¨&lt;code>/etc/sudoers&lt;/code>æ–‡ä»¶ä¸­å¯¹ï¼Œç¯å¢ƒå˜é‡è¿›è¡Œé€‚å½“ä¿®æ”¹ï¼Œå¢åŠ æ™®é€šç”¨æˆ·çš„æƒé™ï¼Œæ¯”å¦‚å¯¹&lt;code>$PATH&lt;/code>å˜é‡çš„ä¿®æ”¹å°±æ˜¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>&lt;span class="c1"># sudoersæ–‡ä»¶ä¸­çš„Defaultsé€‰é¡¹æ¥ä¿®æ”¹sudoçš„é»˜è®¤å‚æ•°ã€ç¯å¢ƒã€è¡Œä¸º&lt;/span>
&lt;span class="ln">2&lt;/span>Defaults &lt;span class="nv">secure_path&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&amp;#34;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ€»ç»“ï¼š&lt;code>sudo&lt;/code>çš„ç¯å¢ƒæ˜¯å¯¹åŸç”¨æˆ·ç¯å¢ƒçš„æœ€å°ä¿®æ”¹ï¼Œå¦‚æœéœ€è¦ä¿®æ”¹é»˜è®¤ç¯å¢ƒã€åŠ¨ä½œï¼Œåˆ™éœ€&lt;code>/etc/sudoers&lt;/code>æ–‡ä»¶è¿›è¡Œä¿®æ”¹é…ç½®ã€‚&lt;/p>
&lt;h2 id="ä¸ºä»€ä¹ˆæœ‰sudo-su">ä¸ºä»€ä¹ˆæœ‰&lt;code>sudo su&lt;/code>&lt;/h2>
&lt;p>å› ä¸ºä½¿ç”¨&lt;code>su&lt;/code>å‘½ä»¤æˆ–ç›´æ¥ä»¥rootç”¨æˆ·èº«ä»½ç™»å½•æœ‰é£é™©ï¼Œæ‰€ä»¥ï¼Œä¸€äº› Linuxå‘è¡Œç‰ˆï¼ˆå¦‚ Ubuntuï¼‰é»˜è®¤ç¦ç”¨ root ç”¨æˆ·å¸æˆ·ã€‚é¼“åŠ±ç”¨æˆ·åœ¨éœ€è¦rootæƒé™æ—¶ä½¿ç”¨&lt;code>sudo&lt;/code>å‘½ä»¤ã€‚&lt;/p>
&lt;p>ç„¶è€Œï¼Œæ‚¨è¿˜æ˜¯å¯ä»¥æˆåŠŸæ‰§è¡Œ&lt;code>su&lt;/code>å‘½ä»¤ï¼Œè€Œä¸ç”¨è¾“å…¥rootç”¨æˆ·çš„å¯†ç ã€‚é‚£å°±æ˜¯ä½¿ç”¨&lt;code>sudo su&lt;/code>ã€‚&lt;/p>
&lt;p>ç”±äºä½ ä½¿ç”¨&lt;code>sudo&lt;/code>è¿è¡Œå‘½ä»¤ï¼Œä½ åªéœ€è¦è¾“å…¥å½“å‰ç”¨æˆ·çš„å¯†ç ã€‚æ‰€ä»¥ï¼Œä¸€æ—¦å®Œæˆæ“ä½œï¼Œ&lt;code>su&lt;/code>å‘½ä»¤å°†ä¼šä»¥rootç”¨æˆ·èº«ä»½è¿è¡Œï¼Œè¿™æ„å‘³ç€å®ƒä¸ä¼šå†è¦æ±‚è¾“å…¥ä»»ä½•å¯†ç ã€‚&lt;/p>
&lt;h2 id="æœ‰äº›å‘½ä»¤æ˜æ˜å®‰è£…äº†ä½†æ˜¯å´command-not-found">æœ‰äº›å‘½ä»¤æ˜æ˜å®‰è£…äº†ä½†æ˜¯å´&amp;quot;command not found&amp;quot;&lt;/h2>
&lt;p>è¿™å°±æ˜¯å„ç”¨æˆ·&lt;code>$PATH&lt;/code>ç¯å¢ƒå˜é‡ä¸åŒçš„é—®é¢˜ã€‚å…¸å‹çš„å°±æ˜¯rootç”¨æˆ·å’Œérootç”¨æˆ·çš„&lt;code>$PATH&lt;/code>ç¯å¢ƒå˜é‡ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>&lt;span class="c1"># érootç”¨æˆ·&lt;/span>
&lt;span class="ln">2&lt;/span>$ &lt;span class="nb">echo&lt;/span> &lt;span class="nv">$PATH&lt;/span>
&lt;span class="ln">3&lt;/span>/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games
&lt;span class="ln">4&lt;/span>&lt;span class="c1"># rootç”¨æˆ·&lt;/span>
&lt;span class="ln">5&lt;/span>&lt;span class="c1"># echo $PATH&lt;/span>
&lt;span class="ln">6&lt;/span>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
&lt;/code>&lt;/pre>&lt;/div>&lt;p>å„ä¸ª&lt;code>/sbin&lt;/code>æ–‡ä»¶çš„â€œsâ€å°±æ˜¯ Super User çš„æ„æ€ï¼Œæ˜¯ Superuser Binaries (è¶…çº§ç”¨æˆ·çš„äºŒè¿›åˆ¶æ–‡ä»¶) çš„ç¼©å†™ï¼Œè¿™é‡Œå­˜æ”¾çš„æ˜¯ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨çš„ç³»ç»Ÿç®¡ç†ç¨‹åºã€‚&lt;/p>
&lt;p>æˆ‘ä»¬åªè¦æŠŠå‘½ä»¤çš„è·¯å¾„æ·»åŠ åˆ°&lt;code>$PATH&lt;/code>ä¸­å³å¯ç›´æ¥è¿è¡Œå‘½ä»¤ã€‚&lt;/p></description></item><item><title>linux-often-opeartion</title><link>https://surprisedcat.github.io/projectnotes/linux-often-opeartion/</link><pubDate>Mon, 20 Nov 2017 00:00:00 +0000</pubDate><guid>https://surprisedcat.github.io/projectnotes/linux-often-opeartion/</guid><description>
&lt;h2 id="linux-å¸¸ç”¨é…ç½®1--ç½‘ç»œåœ°å€é…ç½®---omit-in-toc---">Linux å¸¸ç”¨é…ç½®ï¼ˆ1ï¼‰--ç½‘ç»œåœ°å€é…ç½®&lt;!-- omit in toc -->&lt;/h2>
&lt;p>åœ¨ä½¿ç”¨cmdæ“ä½œlinuxç³»ç»Ÿæ—¶ï¼Œå¸¸å¸¸éœ€è¦é…ç½®ç½‘ç»œï¼Œç½‘ç»œçš„é…ç½®ä¸€èˆ¬åœ¨è¿™å‡ ä¸ªåœ°æ–¹ã€‚&lt;/p>
&lt;h2 id="etcnetworkinterfaces">/etc/network/interfaces&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln"> 1&lt;/span>auto eth0
&lt;span class="ln"> 2&lt;/span>iface eth0 inet static
&lt;span class="ln"> 3&lt;/span> address 192.168.1.3
&lt;span class="ln"> 4&lt;/span> netmask 255.255.255.0
&lt;span class="ln"> 5&lt;/span> gateway 192.168.1.1
&lt;span class="ln"> 6&lt;/span>&lt;span class="c1"># å­ç½‘ä¿¡æ¯ï¼Œå¯é€‰&lt;/span>
&lt;span class="ln"> 7&lt;/span> network 192.168.1.0
&lt;span class="ln"> 8&lt;/span> broadcast 192.168.1.255
&lt;span class="ln"> 9&lt;/span>&lt;span class="c1"># ä»¥ä¸‹æ˜¯æ·»åŠ è·¯ç”±çš„æ“ä½œï¼Œå¯é€‰&lt;/span>
&lt;span class="ln">10&lt;/span> up route add -net 192.168.1.0 netmask 255.255.255.0 gw 192.168.1.1
&lt;span class="ln">11&lt;/span> up route add default gw 192.168.1.1
&lt;span class="ln">12&lt;/span> down route del default gw 192.168.1.1
&lt;span class="ln">13&lt;/span> down route del -net 192.168.1.1 netmask 255.255.255.0 gw 192.168.1.1
&lt;/code>&lt;/pre>&lt;/div>&lt;p>æˆ–è€…é…ç½®è‡ªåŠ¨è·å–ipåœ°å€&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>auto eth0
&lt;span class="ln">2&lt;/span>iface eth0 inet dhcp
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¿®æ”¹å®Œæˆä¹‹åï¼Œå¯ä»¥é‡‡ç”¨é‡å¯ç½‘ç»œçš„æ–¹å¼è·å–æ–°çš„IPã€‚&lt;/p>
&lt;h2 id="network-manager">Network-Manager&lt;/h2>
&lt;p>Network-Manageræ˜¯Debianæä¾›çš„ç½‘ç»œç®¡ç†å·¥å…·ï¼Œæ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨GUIçš„æ—¶å€™é…ç½®ç½‘ç»œã€‚è¿™ä¸ªåœ¨GUIé‡Œé¢æ¯”è¾ƒå¸¸è§ï¼Œå°±æ˜¯ä¸‹å›¾è¿™ä¸ªé…ç½®ï¼Œä¸åœ¨èµ˜è¿°ã€‚&lt;/p>
&lt;p>&lt;img src="../../images/debian-network-manager.png" alt="Network-Manager ç½‘ç»œé…ç½®">&lt;/p>
&lt;h2 id="network-managerå’Œinterfacesæ–‡ä»¶çš„å†²çª">Network-Managerå’Œinterfacesæ–‡ä»¶çš„å†²çª&lt;/h2>
&lt;p>&lt;strong>æœ¬èŠ‚æ´å¼•è‡ªï¼š&lt;a href="https://www.cnblogs.com/lcword/p/5917348.html">https://www.cnblogs.com/lcword/p/5917348.html&lt;/a> ä½œè€…ï¼šlclc&lt;/strong>&lt;/p>
&lt;p>network-managerå’Œ/etc/network/interfaceså†²çª
å¦‚æœä¿®æ”¹äº†interfaces ï¼Œåˆé…ç½®äº†network-managerï¼ˆç®€ç§°nmï¼‰ï¼Œä½ å°±ä¼šå‘ç°å‡ºç°äº†ä¸€äº›è«åå…¶å¦™çš„é—®é¢˜ï¼š&lt;/p>
&lt;ol>
&lt;li>interfaces å’Œ nm ä¸­çš„ç½‘ç»œè®¾ç½®ä¸ä¸€æ ·ï¼Œç³»ç»Ÿå®é™…çš„IPæ˜¯å“ªä¸ªï¼Ÿ&lt;/li>
&lt;li>æœ‰æ—¶å€™è«åå…¶å¦™çš„ï¼Œç•Œé¢å³ä¸Šè§’çš„ç½‘ç»œè¿æ¥å›¾æ ‡å°±ä¸¢å¤±äº†ã€‚&lt;/li>
&lt;li>æ˜æ˜åœ¨nmä¸­é…ç½®äº†æ­£ç¡®çš„ç½‘ç»œè®¾ç½®ï¼Œä¸ºä»€ä¹ˆå°±ä¸Šä¸äº†ç½‘å‘¢ï¼Ÿ&lt;/li>
&lt;/ol>
&lt;p>å…¶å®ï¼Œæˆ‘ä»¬è¦çŸ¥é“ interfaces å’Œ nm ä¹‹é—´çš„å…³ç³»ï¼Œè¿™äº›é—®é¢˜å°±ä¸éš¾è§£é‡Šäº†ã€‚&lt;/p>
&lt;p>network-managerå’Œ/etc/network/interfacesçš„å…³ç³»&lt;/p>
&lt;ol>
&lt;li>å½“ç³»ç»Ÿå†…æ— ç¬¬ä¸‰æ–¹ç½‘ç»œç®¡ç†å·¥å…·ï¼ˆå¦‚ nmï¼‰æ—¶ï¼Œç³»ç»Ÿé»˜è®¤ä½¿ç”¨ interfaces æ–‡ä»¶å†…çš„å‚æ•°è¿›è¡Œç½‘ç»œé…ç½®ã€‚&lt;/li>
&lt;li>å½“ç³»ç»Ÿå†…å®‰è£…äº† nm ä¹‹åï¼Œnm é»˜è®¤æ¥ç®¡äº†ç³»ç»Ÿçš„ç½‘ç»œé…ç½®ï¼Œä½¿ç”¨ nm è‡ªå·±çš„ç½‘ç»œé…ç½®å‚æ•°æ¥è¿›è¡Œé…ç½®ã€‚&lt;/li>
&lt;li>ä½†è‹¥ç”¨æˆ·åœ¨å®‰è£… nm ä¹‹åï¼ˆDesktopç‰ˆæœ¬é»˜è®¤å®‰è£…äº†nmï¼‰ï¼Œè‡ªå·±åˆæ‰‹åŠ¨ä¿®æ”¹äº† interfaces æ–‡ä»¶ï¼Œé‚£ nm å°±è‡ªåŠ¨åœæ­¢å¯¹ç³»ç»Ÿç½‘ç»œçš„ç®¡ç†ï¼Œç³»ç»Ÿæ”¹ä½¿ç”¨ interfaces æ–‡ä»¶å†…çš„å‚æ•°è¿›è¡Œç½‘ç»œé…ç½®ã€‚æ­¤æ—¶ï¼Œå†å»ä¿®æ”¹ nm å†…çš„å‚æ•°ï¼Œä¸å½±å“ç³»ç»Ÿå®é™…çš„ç½‘ç»œé…ç½®ã€‚è‹¥è¦è®© nm å†…çš„é…ç½®ç”Ÿæ•ˆï¼Œå¿…é¡»é‡æ–°å¯ç”¨nm æ¥ç®¡ç³»ç»Ÿçš„ç½‘ç»œé…ç½®ã€‚&lt;/li>
&lt;/ol>
&lt;p>ç°åœ¨çŸ¥é“äº†ä¸¤è€…ä¹‹é—´çš„å·¥ä½œå…³ç³»ï¼Œå†çœ‹ä¸Šé¢çš„ä¸‰ä¸ªé—®é¢˜ï¼š&lt;/p>
&lt;ol>
&lt;li>è¦çœ‹nmæ˜¯å¦æ¥ç®¡ï¼Œå¦‚æœæ²¡æœ‰æ¥ç®¡ï¼Œç³»ç»Ÿå®é™…çš„IPè®¾ç½®ä»¥ interfaces ä¸­çš„ä¸ºå‡†ã€‚åä¹‹ï¼Œä»¥ nm ä¸­çš„ä¸ºå‡†ã€‚&lt;/li>
&lt;li>å½“ nm åœæ­¢æ¥ç®¡çš„æ—¶å€™ï¼Œç½‘ç»œè¿æ¥å›¾æ ‡å°±ä¸¢å¤±äº†ã€‚&lt;/li>
&lt;li>åŒæ ·æ˜¯æ¥ç®¡çš„é—®é¢˜ã€‚å¦‚æœç”¨æˆ·å¸Œæœ›åœ¨Desktopç‰ˆæœ¬ä¸­ï¼Œç›´æ¥ä½¿ç”¨ interfaces è¿›è¡Œç½‘ç»œé…ç½®ï¼Œé‚£æœ€å¥½åˆ é™¤ network-manager ã€‚&lt;/li>
&lt;/ol>
&lt;p>network-manageré‡æ–°æ¥ç®¡&lt;/p>
&lt;p>å¦‚æœåœ¨å‡ºç°ä¸Šè¿°é—®é¢˜ä¹‹åï¼Œå¸Œæœ›èƒ½ç»§ç»­ä½¿ç”¨ nm æ¥è¿›è¡Œç½‘ç»œé…ç½®ï¼Œåˆ™éœ€è¦è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>sudo service network-managerstop &lt;span class="c1">#åœæ­¢ nm æœåŠ¡&lt;/span>
&lt;span class="ln">2&lt;/span>sudo rm/var/lib/NetworkManager/NetworkManager.state &lt;span class="c1">#ç§»é™¤ nm çš„çŠ¶æ€æ–‡ä»¶&lt;/span>
&lt;span class="ln">3&lt;/span>sudo gedit /etc/NetworkManager/nm-system-settings.conf &lt;span class="c1">#æ‰“å¼€ nm çš„é…ç½®æ–‡ä»¶&lt;/span>
&lt;span class="ln">4&lt;/span>&lt;span class="c1">## é‡Œé¢æœ‰ä¸€è¡Œï¼šmanaged=true&lt;/span>
&lt;span class="ln">5&lt;/span>&lt;span class="c1">## å¦‚æœä½ æ‰‹å·¥æ”¹è¿‡ /etc/network/interfaces ï¼Œnm ä¼šè‡ªå·±æŠŠè¿™è¡Œæ”¹æˆï¼šmanaged=false&lt;/span>
&lt;span class="ln">6&lt;/span>&lt;span class="c1">## å°† false ä¿®æ”¹æˆ true&lt;/span>
&lt;span class="ln">7&lt;/span>sudo service network-manager start
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ç›´æ¥ä¿®æ”¹ç½‘ç»œ">ç›´æ¥ä¿®æ”¹ç½‘ç»œ&lt;/h2>
&lt;p>é™¤äº†ä¿®æ”¹é…ç½®æ–‡ä»¶å’Œä½¿ç”¨ç®¡ç†å·¥å…·ï¼ŒLinuxè¿˜æä¾›äº†å‘½ä»¤ç›´æ¥ä¿®æ”¹ç½‘ç»œåœ°å€ï¼Œè¿™äº›ä¿®æ”¹éƒ½æ˜¯&lt;strong>ä¸´æ—¶ä¿®æ”¹&lt;/strong>ï¼Œä¸€æ—¦å‡ºç°é—®é¢˜æˆ–é‡å¯åœ°å€ä¼šè¢«æ”¾å¼ƒã€‚&lt;/p>
&lt;h3 id="ä½¿ç”¨ifconfigå‘½ä»¤">ä½¿ç”¨ifconfigå‘½ä»¤&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>&lt;span class="c1">#è®¾ç½®IPå’Œæ©ç &lt;/span>
&lt;span class="ln">2&lt;/span>sudo ifconfig eth0 192.168.1.4 netmask 255.255.255.0
&lt;span class="ln">3&lt;/span>&lt;span class="c1">#è®¾ç½®ç½‘å…³&lt;/span>
&lt;span class="ln">4&lt;/span>sudo route add default gw 192.168.1.1
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ä½¿ç”¨ipå‘½ä»¤">ä½¿ç”¨ipå‘½ä»¤&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>&lt;span class="c1"># å¢åŠ ä¸€ä¸ªip åœ°å€&lt;/span>
&lt;span class="ln">2&lt;/span>sudo ip add add 192.168.1.4/24 dev eth0:0
&lt;span class="ln">3&lt;/span>&lt;span class="c1"># åˆ é™¤ä¸€ä¸ªipåœ°å€&lt;/span>
&lt;span class="ln">4&lt;/span>sudo ip add del 192.168.1.4/24 dev eth0:0
&lt;span class="ln">5&lt;/span>&lt;span class="c1"># æ·»åŠ ä¸€æ¡è·¯ç”±&lt;/span>
&lt;span class="ln">6&lt;/span>sudo ip route add 192.168.1.0/24 via 192.168.1.1 dev eth0
&lt;span class="ln">7&lt;/span>&lt;span class="c1"># åˆ é™¤ä¸€æ¡è·¯ç”±&lt;/span>
&lt;span class="ln">8&lt;/span>sudo ip route del 192.168.1.0/24
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>linux-ssh-nat</title><link>https://surprisedcat.github.io/projectnotes/linux-ssh-nat/</link><pubDate>Wed, 15 Nov 2017 00:00:00 +0000</pubDate><guid>https://surprisedcat.github.io/projectnotes/linux-ssh-nat/</guid><description>
&lt;h2 id="ä½¿ç”¨sshå®ç°å†…ç½‘ç©¿é€---omit-in-toc---">ä½¿ç”¨sshå®ç°å†…ç½‘ç©¿é€&lt;!-- omit in toc -->&lt;/h2>
&lt;h2 id="åå‘è¿æ¥ç©¿é€é˜²ç«å¢™è®¿é—®å†…ç½‘æœºå™¨">åå‘è¿æ¥ï¼šç©¿é€é˜²ç«å¢™è®¿é—®å†…ç½‘æœºå™¨&lt;/h2>
&lt;p>å¾ˆå¤šå•ä½çš„æœºå™¨éƒ½èº«å¤„å†…ç½‘ã€‚å†…ç½‘ IP æ˜¯ä¸‹é¢çš„æ ·å­ï¼Œç”¨ ifconfig ä¾¿å¯ææ¸…æ¥šã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>10.0.0.0~10.255.255.255
&lt;span class="ln">2&lt;/span>172.16.0.0~172.31.255.255
&lt;span class="ln">3&lt;/span>192.168.0.0~192.168.255.255
&lt;/code>&lt;/pre>&lt;/div>&lt;p>æœ‰å…³&lt;a href="http://baike.baidu.com/view/1233066.htm">å†…ç½‘ IP&lt;/a> çš„å†…å®¹å¯ä»¥å‚è€ƒç™¾åº¦ç™¾ç§‘ã€‚è·Ÿå†…ç½‘ IP å¯¹ç«‹çš„å°±æ˜¯å…¬ç½‘ IPï¼ˆå³å‡¡æ˜¯ä¸æ˜¯å†…ç½‘ IP çš„ IPï¼‰ï¼Œå®ƒå¦‚åŒç‹¬ä¸€æ— äºŒçš„ä¿¡ç®±ï¼Œä¸–ç•Œå„åœ°çš„äººä»¬éƒ½èƒ½å¾€è¿™ä¸ªåœ°å€å¯„ä¸œè¥¿ã€‚å†…ç½‘ IP å¦‚åŒå¤§æ‚é™¢é‡Œçš„ä½æˆ·ï¼Œä¸œè¥¿åªèƒ½å¯„åˆ°ä¼ è¾¾å®¤ï¼Œè€Œä¸èƒ½ç›´æ¥é€è¾¾ã€‚&lt;/p>
&lt;p>å†…ç½‘æœºå™¨å¯ä»¥è®¿é—®å…¬ç½‘æœºå™¨ï¼Œä½†æ˜¯åä¹‹å´ä¸æˆç«‹ã€‚è­¬å¦‚ï¼Œå…¬å¸é‡Œçš„æœºå™¨ A æ˜¯å†…ç½‘æœºå™¨ï¼Œæˆ‘ä»¬ä¸èƒ½åœ¨å…¬å¸å¤–ç›´æ¥è®¿é—®æœºå™¨ Aã€‚ä½†å¦‚æœï¼Œåœ¨ A å’ŒæŸå°å…¬ç½‘æœºå™¨ C ä¹‹é—´å»ºç«‹ä¸€æ¡åŠ å¯†éš§é“ï¼Œä¾¿å¯ä»¥ç”¨ä»»ä½•ä¸€å°æœºå™¨ SSH ç™»å½• Aï¼Œå°±å¦‚åŒåœ¨ A æœºå™¨æ‰€å¤„å†…ç½‘çš„é˜²ç«å¢™ä¸Šå‡¿ç©¿äº†ä¸€ä¸ªæ´ã€‚ç”¨ä¸‹é¢çš„å›¾æ¥è¡¨è¾¾è¿™ä¸ªæƒ³æ³•æ›´ç›´è§‚ä¸€äº›ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span> &lt;span class="p">|&lt;/span>
&lt;span class="ln">2&lt;/span>A &amp;lt;-&lt;span class="p">|&lt;/span>-&amp;gt; C &amp;lt;--- B
&lt;span class="ln">3&lt;/span> &lt;span class="p">|&lt;/span>
&lt;span class="ln">4&lt;/span>å†… é˜² å…¬ ä»»
&lt;span class="ln">5&lt;/span>ç½‘ ç« ç½‘ ä½•
&lt;span class="ln">6&lt;/span>æœº å¢™ æœº æœº
&lt;span class="ln">7&lt;/span>å™¨ å™¨ å™¨
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="åå‘è¿æ¥">åå‘è¿æ¥&lt;/h2>
&lt;p>é¦–å…ˆç®€å•åœ°ä»‹ç»ä¸€ä¸‹â€œåå‘è¿æ¥â€ã€‚åœ¨å†…ç½‘æœºå™¨ A ä¸Šè¿è¡Œ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>me~$ ssh -f -N -R 10000:localhost:22 username@Cæœºå™¨çš„å…¬ç½‘IP
&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ­¤å¤„ï¼Œ10000 å’Œ 22 çš†æ˜¯ç«¯å£å·ã€‚ä¸Šé¢çš„å‘½ä»¤æ˜¯ç”±æœºå™¨ A å‘èµ·ï¼Œä¸»åŠ¨å°† A çš„ç«¯å£ 22 ä¸æœºå™¨ C çš„ç«¯å£ 10000 ç»‘å®šï¼ˆè¿™ä¸ä¼šç»™ C å¸¦æ¥å±é™©ï¼Œå¯¹ A çš„â€œæŠ•æ€€é€æŠ±â€ï¼ŒC æ˜¯ä¸æ‹’ç»çš„ï¼‰ï¼Œå³å°†æœ¬åœ°ç«¯å£ 22ï¼ˆsshd ç¼ºçœçš„å¼€æ”¾ç«¯å£ï¼‰æ˜ å°„ä¸ºè¿œç¨‹æœºå™¨ C çš„ç«¯å£ 10000ã€‚C å¯ä»¥é€šè¿‡å‘½ä»¤&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>sockstat -l
&lt;span class="ln">2&lt;/span>æˆ–è€…
&lt;span class="ln">3&lt;/span>netstat -an
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç›‘å¬åˆ°æœ¬åœ°ç«¯å£ 10000 è¢«ç»‘å®šã€‚è¿™æ ·ï¼Œåœ¨ A å’Œ C ä¹‹é—´å°±å»ºç«‹äº†ä¸€æ¡åŠ å¯†éš§é“ï¼Œæœºå™¨ C é€šè¿‡å‘½ä»¤&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>me~$ ssh username@localhost -p &lt;span class="m">10000&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç©¿é€å†…ç½‘æœºå™¨ A çš„é˜²ç«å¢™ SSH ç™»å½• Aã€‚è¿™ä¾¿æ˜¯â€œ&lt;strong>åå‘è¿æ¥&lt;/strong>â€ï¼Œå®ƒæ˜¯ç©¿é€é˜²ç«å¢™çš„å¸¸ç”¨æ–¹æ³•ã€‚&lt;/p>
&lt;p>ä¸ºä»€ä¹ˆéœ€è¦ A ä¸»åŠ¨è”ç³» C å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºï¼ŒA å¯¹ C æ¥è¯´æ˜¯ä¸å¯è§çš„ï¼Œå¦‚æœä¸å¯¹ A è¿›è¡Œç«¯å£æ˜ å°„ï¼ŒC å‹æ ¹æ‰¾ä¸åˆ° Aã€‚å¦‚ä»Šï¼ŒA ä¸»åŠ¨çŒ®èº«å°†è‡ªå·±çš„æŸç«¯å£ä¸ C çš„æŸç«¯å£â€œåˆä½“â€ï¼ŒC é€šè¿‡è¿™ä¸ªâ€œåˆä½“â€å°±èƒ½åšåˆ°è¿œç¨‹æ§åˆ¶ Aã€‚æœºå™¨ C ä¸ºäº†å®‰å…¨èµ·è§ï¼Œå¯ä»¥æŠŠ username è®¾ç½®ä¸ºæœºå™¨ C ä¸Šçš„æ²¡æœ‰ shell æƒé™çš„ç”¨æˆ·ã€‚&lt;/p>
&lt;h2 id="å…¬é’¥éªŒè¯">å…¬é’¥éªŒè¯&lt;/h2>
&lt;p>ä¸ºäº†è®© C èƒ½éªŒè¯ A çš„èº«ä»½ï¼ŒA äº§ç”Ÿä¸€æŠŠå…¬é’¥ï¼ˆpublic keyï¼‰é€ç»™ Cï¼Œè¿™æ ·æ¯æ¬¡è¿æ¥ C éƒ½ä¸å†éœ€è¦è¾“å…¥å¯†ç äº†ã€‚è€Œä¸”ï¼Œè¿™æ ·çš„å…¬é’¥éªŒè¯æ¯”è®¾æ™®é€šå¯†ç è¦å®‰å…¨å¾—å¤šã€‚é¡¾åæ€ä¹‰ï¼Œå…¬é’¥æ˜¯å¯ä»¥å…¬å¼€çš„ï¼Œä½ å¯ä»¥å¤§èƒ†åœ°å‘Šè¯‰å…¨ä¸–ç•Œä½ çš„å…¬é’¥ï¼ŒæŠŠä½ çš„å…¬é’¥åˆ—å…¥ authorized_keys çš„äººä»¬å°±èƒ½å¤Ÿå®‰å…¨åœ°ç¡®è®¤å¹¶æ¥çº³é‚£ä¸ªä¸¾ä¸–æ— åŒç‹¬ä¸€æ— äºŒçš„ä½ ã€‚å…¬é’¥ä¸ä¼šæ³„æ¼ä½ çš„ä¸ªäººå¯†ç ä»¥åŠç§äººä¿¡æ¯ã€‚&lt;/p>
&lt;p>è­¬å¦‚ï¼ŒA äº§ç”ŸåŠ å¯†ç±»å‹ä¸º RSAã€é•¿åº¦ä¸º 1024 æ¯”ç‰¹çš„å…¬é’¥çš„å‘½ä»¤æ˜¯&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>me~$ ssh-keygen -t rsa -b &lt;span class="m">1024&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿™ä¸ªå‘½ä»¤å°†äº§ç”Ÿä¸¤ä¸ªæ–‡ä»¶ï¼šå…¬é’¥æ–‡ä»¶ id_rsa.pub å’Œç§é’¥æ–‡ä»¶ id_rsaï¼Œå°†ä¹‹å­˜æ”¾åœ¨ $HOME/.ssh/ é‡Œã€‚ç„¶åï¼ŒA åªè¦æŠŠå…¬é’¥æ–‡ä»¶ id_rsa.pub å‘ç»™ C å°±å¯ä»¥äº†ã€‚è€Œ C å°†ä¹‹åŠ å…¥ &lt;code>$HOME/.ssh/authorized_keys&lt;/code>ï¼Œå³&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>me~$ cat id_rsa.pub &amp;gt;&amp;gt; ~/.ssh/authorized_keys
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ssh-ç™»å½•">SSH ç™»å½•&lt;/h2>
&lt;p>ç°åœ¨ï¼Œä»ä»»ä½•ä¸€å°æœºå™¨ B éƒ½å¯ä»¥ SSH è¿œç¨‹ç™»å½•æœºå™¨ A äº†ã€‚åªéœ€è¦&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>me~$ ssh me@Cæœºå™¨çš„å…¬ç½‘IP -p &lt;span class="m">10000&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿™ç§æ–¹æ³•çš„ç¼ºç‚¹æ˜¯ä¸ç¨³å®šï¼Œæœ‰æ—¶å€™ä» A åˆ° C çš„ç«¯å£æ˜ å°„ä¼šæ–­æ‰ã€‚æˆ‘ä»¬ä¸å¯èƒ½ä»å®¶é‡Œè·‘åˆ°å•ä½å†æ•²ä¸€æ¬¡å‘½ä»¤ï¼Œæ‰€ä»¥æä¸€ä¸ªè‡ªåŠ¨æ£€æŸ¥è¿æ¥çŠ¶æ€çš„è„šæœ¬æ˜¯å¿…é¡»çš„ã€‚å®šæ—¶åœ°ï¼ˆè­¬å¦‚è¯´æ¯åŠä¸ªå°æ—¶ï¼‰æ£€æŸ¥ A ---&amp;gt; C æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œé©¬ä¸Šå†å»ºç«‹ä¸€ä¸ªè¿æ¥ã€‚&lt;/p>
&lt;p>å°†ä¸‹é¢çš„è„šæœ¬æ–‡ä»¶å­˜ä¸º $HOME/Reverse_SSH.shï¼Œè®©å®ƒæ˜¯å¯æ‰§è¡Œçš„ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>&lt;span class="cp">#!/usr/local/bin/bash
&lt;/span>&lt;span class="ln">2&lt;/span>&lt;span class="cp">&lt;/span>&lt;span class="k">while&lt;/span> true&lt;span class="p">;&lt;/span> &lt;span class="k">do&lt;/span>
&lt;span class="ln">3&lt;/span> &lt;span class="nv">RET&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="sb">`&lt;/span>ps ax &lt;span class="p">|&lt;/span> grep &lt;span class="s2">&amp;#34;ssh -fNR 10000:localhost:22&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> grep -v &lt;span class="s2">&amp;#34;grep&amp;#34;&lt;/span>&lt;span class="sb">`&lt;/span>
&lt;span class="ln">4&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$RET&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;span class="ln">5&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;The recent SSH failure occured at `date`&amp;#34;&lt;/span> &amp;gt; ~/reverse_ssh.log
&lt;span class="ln">6&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Restart reverse SSH!&amp;#34;&lt;/span>
&lt;span class="ln">7&lt;/span> ssh -fNR 10000:localhost:22 username@Cæœºå™¨çš„å…¬ç½‘IP
&lt;span class="ln">8&lt;/span> &lt;span class="k">fi&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>åˆ©ç”¨ crontab è®©æœºå™¨æ¯éš” 30 åˆ†é’Ÿå°±æ£€æŸ¥ä¸€æ¬¡è¿™ä¸ªæ˜ å°„æ˜¯å¦å­˜åœ¨ï¼Œè‹¥ä¸å­˜åœ¨ï¼Œé©¬ä¸Šå†æ¬¡å»ºç«‹æ˜ å°„ã€‚å…·ä½“è¿‡ç¨‹æ˜¯&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>me~$ crontab -e
&lt;/code>&lt;/pre>&lt;/div>&lt;p>å°†ä¸‹é¢çš„å‘½ä»¤åŠ å…¥ crontab&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>*/30 * * * * &lt;span class="nv">$HOME&lt;/span>/Reverse_SSH.sh
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>linux-print-n</title><link>https://surprisedcat.github.io/projectnotes/linux-print-n/</link><pubDate>Mon, 13 Nov 2017 00:00:00 +0000</pubDate><guid>https://surprisedcat.github.io/projectnotes/linux-print-n/</guid><description>
&lt;h2 id="è½¬è½½-linuxä¸‹printfä¸­nçš„é‡è¦ä½œç”¨---omit-in-toc---">è½¬è½½ï¼š linuxä¸‹printfä¸­\nçš„é‡è¦ä½œç”¨&lt;!-- omit in toc -->&lt;/h2>
&lt;p>åŸæ–‡é“¾æ¥ï¼š&lt;a href="http://blog.sina.com.cn/s/blog_563f0ca801000bfe.html">http://blog.sina.com.cn/s/blog_563f0ca801000bfe.html&lt;/a>
ä½œè€…ï¼šGeorge&lt;/p>
&lt;h2 id="linuxä¸‹printfä¸­nçš„é‡è¦ä½œç”¨">linuxä¸‹printfä¸­\nçš„é‡è¦ä½œç”¨&lt;/h2>
&lt;p>ä»Šå¤©é‡åˆ°ä¸€ä¸ªå¾ˆæœ‰è¶£çš„é—®é¢˜:
æˆ‘ç”¨çš„æ˜¯linux 2.6.11
ç¨‹åºå¤§æ¦‚æ˜¯è¿™æ ·çš„(å‚æ•°ä¸è¯¦å†™äº†):&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="ln">1&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;abc&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="ln">2&lt;/span> &lt;span class="n">listen&lt;/span>&lt;span class="p">(...);&lt;/span>
&lt;span class="ln">3&lt;/span> &lt;span class="n">accept&lt;/span>&lt;span class="p">(...);&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç¨‹åºæ­»æ´»æ‰“ä¸å‡º&amp;quot;abc&amp;quot;æ¥.ç”¨gdbæŸ¥çœ‹,ç¨‹åºåˆç¡®å®æ˜¯è¿è¡Œåˆ°äº†acceptè¿™é‡Œã€‚&lt;/p>
&lt;p>æœ‰å¤§è™¾å‘Šè¯‰æˆ‘:åœ¨abcæœ«å°¾åŠ \nè¯•è¯•ã€‚&lt;/p>
&lt;p>åŠ äº†ä»¥å,abcå°±æ‰“å‡ºæ¥äº†ã€‚&lt;/p>
&lt;p>åæ¥åˆè¯•äº†ç±»ä¼¼çš„:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="ln">1&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;abc&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="ln">2&lt;/span> &lt;span class="n">recvfrom&lt;/span>&lt;span class="p">(...);&lt;/span>
&lt;span class="ln">3&lt;/span> &lt;span class="c1">//ç¨‹åºä¸€æ ·æ‰“ä¸å‡ºabcæ¥,
&lt;/span>&lt;span class="ln">4&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;abc&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="ln">5&lt;/span> &lt;span class="n">recvfrom&lt;/span>&lt;span class="p">(...);&lt;/span>
&lt;span class="ln">6&lt;/span> &lt;span class="c1">//abcå°±æ‰“å‡ºæ¥äº†.
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¤§è™¾è¯´linuxä¸‹printfæ˜¯ä»¥&amp;quot;è¡Œ&amp;quot;æ¥åšç¼“å†²åŒºæ¥åˆ·æ–°stdoutçš„,å¦‚æœé‡åˆ°\nä¼šå¼ºåˆ¶ç«‹å³åˆ·æ–°ã€‚å¦åˆ™åˆ·æ–°å¯èƒ½ä¼šå»¶è¿Ÿã€‚å› ä¸ºprintfä¸­æ²¡æœ‰åŒ…å«\n,å†…æ ¸å†³å®šæ»¡ä¸€è¡Œå†åˆ·æ–°,è€Œæ­¤æ—¶ç¨‹åºç”±äºè°ƒç”¨acceptæˆ–recvfromè¿™ç±»ä¼šblockçš„apiå‡½æ•°,é€ æˆå±å¹•ä¸€ç›´æ˜¾ç¤ºä¸å‡ºæ¥,é™¤éæ”¶åˆ°äº†tcpè¿æ¥è¯·æ±‚æˆ–æ•°æ®åŒ…,ç³»ç»Ÿæ‰ä¼šé‡æ–°å†³å®šæ˜¯å¦åˆ·æ–°å±å¹•ã€‚&lt;/p>
&lt;p>çœ‹æ¥å°å°çš„\nè¿˜æ˜¯è›®é‡è¦çš„ã€‚æ­¤é—®é¢˜å¯ä»¥åœ¨&amp;lt;&amp;lt;UNIXç½‘ç»œç¼–ç¨‹ ç¬¬2ç‰ˆ ç¬¬2å·è¿›ç¨‹é—´é€šä¿¡&amp;gt;&amp;gt;é‡Œæ‰¾åˆ°ä¸€äº›ç›¸å…³çŸ¥è¯†ã€‚å¤šäº†è§£äº†è§£æ–‡ä»¶I/Oè¿˜æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚&lt;/p></description></item><item><title>linux-svn-server</title><link>https://surprisedcat.github.io/projectnotes/linux-svn-server/</link><pubDate>Tue, 27 Dec 2016 00:00:00 +0000</pubDate><guid>https://surprisedcat.github.io/projectnotes/linux-svn-server/</guid><description>
&lt;h2 id="linuxä¸ŠsvnæœåŠ¡å™¨æ­å»º---omit-in-toc---">Linuxä¸ŠSVNæœåŠ¡å™¨æ­å»º&lt;!-- omit in toc -->&lt;/h2>
&lt;p>ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨gitè¿›è¡Œä»£ç çš„ç‰ˆæœ¬ç®¡ç†ï¼Œä½†æ˜¯gitè‡ªèº«åªèƒ½è¯†åˆ«æ–‡æœ¬æ–‡ä»¶ã€‚æˆ‘ä»¬å¸¸ç”¨çš„officeç³»åˆ—æ˜¯æ–‡æœ¬ä¸äºŒè¿›åˆ¶çš„ç»„åˆï¼Œgit diffç­‰æ“ä½œæ— æ³•æ­£å¸¸ä½¿ç”¨ã€‚å†µä¸”officeè½¯ä»¶è‡ªå¸¦diffçš„åŠŸèƒ½ï¼Œæˆ‘ä»…ä»…æƒ³åšä¸€ä¸ªç‰ˆæœ¬ç®¡ç†ä¸äº‘åŒæ­¥ï¼Œåœ¨ä¸æƒ³ç”¨SharePointçš„å€¾å‘ä¸‹ï¼Œæˆ‘é€‰æ‹©åœ¨äº‘ä¸»æœºä¸Šæ­å»ºä¸€ä¸ªåŸºäºDebian Linuxçš„SVNæœåŠ¡å™¨ã€‚&lt;/p>
&lt;h2 id="linuxä¸‹çš„svnæœåŠ¡å™¨">Linuxä¸‹çš„svnæœåŠ¡å™¨&lt;/h2>
&lt;p>Subversionæ˜¯ä¸€ä¸ªè‡ªç”±å¼€æºçš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚åœ¨Subversionç®¡ç†ä¸‹ï¼Œæ–‡ä»¶å’Œç›®å½•å¯ä»¥è¶…è¶Šæ—¶ç©ºã€‚Subversionå°†æ–‡ä»¶å­˜æ”¾åœ¨ä¸­å¿ƒç‰ˆæœ¬åº“é‡Œï¼Œè¿™ä¸ªç‰ˆæœ¬åº“å¾ˆåƒä¸€ä¸ªæ™®é€šçš„æ–‡ä»¶æœåŠ¡å™¨ï¼Œä¸åŒçš„æ˜¯ï¼Œå®ƒå¯ä»¥è®°å½•æ¯ä¸€æ¬¡æ–‡ä»¶å’Œç›®å½•çš„ä¿®æ”¹æƒ…å†µï¼Œè¿™æ ·å°±å¯ä»¥å€Ÿæ­¤å°†æ•°æ®æ¢å¤åˆ°ä»¥å‰çš„ç‰ˆæœ¬ï¼Œå¹¶å¯ä»¥æŸ¥çœ‹æ•°æ®çš„æ›´æ”¹ç»†èŠ‚ã€‚$^{[1]}$&lt;/p>
&lt;p>Subversioné›†æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä¸€ä½“ï¼Œå½“linuxä¸­æ‹¥æœ‰Subversionä¹‹åï¼Œæ—¢å¯ä»¥åšSVNçš„æœåŠ¡ç«¯ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå®¢æˆ·ç«¯ã€‚è€Œåœ¨Windowsä¸‹ï¼ŒæœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯é€šå¸¸æ˜¯ä¸åŒçš„è½¯ä»¶ï¼Œä¾‹å¦‚æœåŠ¡ç«¯ä½¿ç”¨Visualsvn server,å®¢æˆ·ç«¯ä½¿ç”¨TortoiseSVNã€‚&lt;/p>
&lt;p>åœ¨Debian Linuxä¸‹å®‰è£…Subversionç‰¹åˆ«ç®€å•&lt;code>sudo apt install subversion&lt;/code>å³å¯ã€‚&lt;/p>
&lt;h2 id="åˆ›å»ºå·¥ä½œç›®å½•ä¸åº“">åˆ›å»ºå·¥ä½œç›®å½•ä¸åº“&lt;/h2>
&lt;p>é¦–å…ˆæˆ‘ä»¬éœ€è¦ç»™Subversionåˆ›å»ºä¸€ä¸ªç›®å½•ä½œä¸ºå·¥ä½œåŒºã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>mkdir ~/svn
&lt;/code>&lt;/pre>&lt;/div>&lt;p>å·¥ä½œç›®å½•æ˜¯å­˜æ”¾SVNåº“çš„ç›®å½•ï¼Œå› ä¸ºä¼šåˆ›å»ºä¸åªä¸€ä¸ªçš„åº“ï¼Œæ¯”å¦‚ä¸‹é¢çš„åœºæ™¯ï¼Œæ¥ä¸‹æ¥åˆ°å·¥ä½œç›®å½•ä¸­åˆ›å»ºsvnç‰ˆæœ¬åº“ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>&lt;span class="nb">cd&lt;/span> svn
&lt;span class="ln">2&lt;/span>svnadmin create repo1
&lt;span class="ln">3&lt;/span>svnadmin create repo2
&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿™æ ·å°±åœ¨å·¥ä½œç›®å½•ä¸‹åˆ›å»ºäº†ä¸¤ä¸ªç‰ˆæœ¬åº“ã€‚&lt;/p>
&lt;h2 id="é…ç½®ä¸€ä¸ªåº“">é…ç½®ä¸€ä¸ªåº“&lt;/h2>
&lt;p>SVNç‰ˆæœ¬åº“çš„é…ç½®æ–‡ä»¶éƒ½æ”¾åœ¨å¯¹åº”ç‰ˆæœ¬åº“çš„&lt;code>conf&lt;/code>ç›®å½•ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°&lt;strong>authzã€passwdã€svnserve.conf&lt;/strong>è¿™ä¸‰ä¸ªæ–‡ä»¶ã€‚&lt;/p>
&lt;p>é¦–å…ˆç¼–è¾‘svnserve.confä¸»é…ç½®æ–‡ä»¶(åº”ä»”ç»†é˜…è¯»è¯¥æ–‡ä»¶é‡Œé¢çš„æ³¨é‡Šï¼Œäº†è§£æ¯ä¸€é¡¹çš„ä½œç”¨)ï¼Œå¯¹ä»¥ä¸‹å‡ é¡¹ä¿®æ”¹å¦‚ä¸‹:$^{[2]}$&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>&lt;span class="o">[&lt;/span>general&lt;span class="o">]&lt;/span>
&lt;span class="ln">2&lt;/span>
&lt;span class="ln">3&lt;/span>anon-access &lt;span class="o">=&lt;/span> none &lt;span class="c1">#å–æ¶ˆåŒ¿åè®¿é—®&lt;/span>
&lt;span class="ln">4&lt;/span>
&lt;span class="ln">5&lt;/span>auth-access &lt;span class="o">=&lt;/span> write &lt;span class="c1">#æˆæƒç”¨æˆ·æœ‰å¯å†™æƒé™&lt;/span>
&lt;span class="ln">6&lt;/span>
&lt;span class="ln">7&lt;/span>password-db &lt;span class="o">=&lt;/span> passwd &lt;span class="c1">#æŒ‡å®šç”¨æˆ·é…ç½®æ–‡ä»¶ï¼Œåé¢ä¼šç”¨åˆ°&lt;/span>
&lt;span class="ln">8&lt;/span>
&lt;span class="ln">9&lt;/span>authz-db &lt;span class="o">=&lt;/span> authz &lt;span class="c1">#æŒ‡å®šæƒé™é…ç½®æ–‡ä»¶ï¼Œåé¢ä¼šç”¨åˆ°&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç¼–è¾‘passwdæ–‡ä»¶ï¼Œå»ºç«‹svnå®¢æˆ·ç«¯ç”¨æˆ·ä»¥åŠå¯†ç ï¼Œä¸€è¡Œä¸€ä¸ªï¼Œè¿™é‡Œå»ºç«‹äº†ä¸¤ä¸ªç”¨æˆ·,å¯¹åº”æˆ‘çš„ä¸¤å°ä¸»æœºã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln"> 1&lt;/span>&lt;span class="c1">### This file is an example password file for svnserve.&lt;/span>
&lt;span class="ln"> 2&lt;/span>&lt;span class="c1">### Its format is similar to that of svnserve.conf. As shown in the&lt;/span>
&lt;span class="ln"> 3&lt;/span>&lt;span class="c1">### example below it contains one section labelled [users].&lt;/span>
&lt;span class="ln"> 4&lt;/span>&lt;span class="c1">### The name and password for each user follow, one account per line.&lt;/span>
&lt;span class="ln"> 5&lt;/span>
&lt;span class="ln"> 6&lt;/span>&lt;span class="o">[&lt;/span>users&lt;span class="o">]&lt;/span>
&lt;span class="ln"> 7&lt;/span>&lt;span class="c1"># harry = harryssecret&lt;/span>
&lt;span class="ln"> 8&lt;/span>&lt;span class="c1"># sally = sallyssecret&lt;/span>
&lt;span class="ln"> 9&lt;/span>cx-laptop &lt;span class="o">=&lt;/span> buptlab635
&lt;span class="ln">10&lt;/span>cx-server &lt;span class="o">=&lt;/span> buptlab635
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç¼–è¾‘authzæ–‡ä»¶ï¼ŒæŒ‡å®šSVNä»“åº“ç›®å½•ï¼Œä»¥åŠæ¯ä¸ªè®¤è¯ç”¨æˆ·çš„æƒé™ï¼Œè¿™é‡Œå‡ä¸ºå¯è¯»å¯å†™&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln"> 1&lt;/span>&lt;span class="o">[&lt;/span>aliases&lt;span class="o">]&lt;/span>
&lt;span class="ln"> 2&lt;/span>&lt;span class="c1"># joe = /C=XZ/ST=Dessert/L=Snake City/O=Snake Oil, Ltd./OU=Research Institute/CN=Joe Average&lt;/span>
&lt;span class="ln"> 3&lt;/span>
&lt;span class="ln"> 4&lt;/span>&lt;span class="o">[&lt;/span>groups&lt;span class="o">]&lt;/span>
&lt;span class="ln"> 5&lt;/span>&lt;span class="c1"># harry_and_sally = harry,sally&lt;/span>
&lt;span class="ln"> 6&lt;/span>&lt;span class="c1"># harry_sally_and_joe = harry,sally,&amp;amp;joe&lt;/span>
&lt;span class="ln"> 7&lt;/span>
&lt;span class="ln"> 8&lt;/span>&lt;span class="c1"># [/foo/bar]&lt;/span>
&lt;span class="ln"> 9&lt;/span>&lt;span class="c1"># harry = rw&lt;/span>
&lt;span class="ln">10&lt;/span>&lt;span class="c1"># &amp;amp;joe = r&lt;/span>
&lt;span class="ln">11&lt;/span>&lt;span class="c1"># * =&lt;/span>
&lt;span class="ln">12&lt;/span>
&lt;span class="ln">13&lt;/span>&lt;span class="c1"># [repository:/baz/fuz]&lt;/span>
&lt;span class="ln">14&lt;/span>&lt;span class="c1"># @harry_and_sally = rw&lt;/span>
&lt;span class="ln">15&lt;/span>&lt;span class="c1"># * = r&lt;/span>
&lt;span class="ln">16&lt;/span>
&lt;span class="ln">17&lt;/span>&lt;span class="o">[&lt;/span>repo1:/&lt;span class="o">]&lt;/span>
&lt;span class="ln">18&lt;/span>cx-laptop &lt;span class="o">=&lt;/span> rw
&lt;span class="ln">19&lt;/span>cx-server &lt;span class="o">=&lt;/span> rw
&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¯åŠ¨SVNæœåŠ¡ï¼Œ-dè¡¨ç¤ºåå°è¿è¡ŒsvnæœåŠ¡ï¼Œ-ræ˜¯æŒ‡å®šsvnç›®å½•ï¼›ç„¶åæ‰§è¡Œäº†netstatæ£€æŸ¥ç«¯å£ï¼Œé»˜è®¤ç›‘å¬åœ¨3690ç«¯å£ä¸Šã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="ln">1&lt;/span>svnserve -d -r ~/svn/
&lt;span class="ln">2&lt;/span>netstat -anp &lt;span class="p">|&lt;/span> grep &lt;span class="m">3690&lt;/span> &lt;span class="c1"># é€šè¿‡æŸ¥çœ‹è¿™ä¸ªç«¯å£åˆ¤æ–­SVNæœåŠ¡å™¨æ˜¯å¦æ­£å¸¸å¯åŠ¨&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="windowså®¢æˆ·ç«¯tortoisesvnçš„æ“ä½œ">windowså®¢æˆ·ç«¯TortoiseSVNçš„æ“ä½œ&lt;/h2>
&lt;p>åœ¨Windowsä½¿ç”¨SVNæœåŠ¡çš„è¯ï¼Œéœ€è¦ä¸‹è½½ä¸€ä¸ªTortoiseSVNå®¢æˆ·ç«¯è½¯ä»¶ï¼Œå®‰è£…å¥½è½¯ä»¶ååœ¨æœ¬åœ°ç”µè„‘åˆ›å»ºä¸€ä¸ªå·¥ä½œç›®å½•ï¼Œå³é”®è¯¥ç›®å½•é€‰æ‹©checkoutï¼Œcheckoutå°±æ˜¯æŠŠSVNæœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°å·¥ä½œç›®å½•å†…çš„æ“ä½œã€‚&lt;/p>
&lt;p>&lt;img src="../../images/tortoisesvn1.JPG" alt="tortoiseSVNæ“ä½œ">&lt;/p>
&lt;p>åœ¨å¯¹è¯æ¡†é‡Œè¾“å…¥SVNæœåŠ¡å™¨çš„åœ°å€ä»¥åŠéœ€è¦å­˜æ”¾æ–‡ä»¶çš„ç›®å½•ã€‚&lt;strong>repo1&lt;/strong>æ˜¯æœåŠ¡å™¨å·¥ä½œåŒºçš„ä¸€ä¸ªç‰ˆæœ¬åº“ï¼Œç„¶åç‚¹å‡»okæŒ‰é’®ï¼Œä¹‹åä¼šè¦æ±‚è¾“å…¥ç”¨æˆ·åå¯†ç ï¼Œè¿™ä¸ªæ—¶å€™å°±è¾“å…¥åœ¨passwdé‡Œè®¾ç½®çš„ä¿¡æ¯å³å¯ã€‚&lt;/p>
&lt;p>&lt;img src="../../images/tortoisesvn2.JPG" alt="tortoiseSVNæ“ä½œ">&lt;/p>
&lt;h2 id="è·¯å¾„é—®é¢˜">è·¯å¾„é—®é¢˜&lt;/h2>
&lt;p>è®¸å¤šäººæ­å»ºSVNæœåŠ¡å™¨ä¸æˆåŠŸéƒ½æ˜¯å› ä¸ºSVNç‰ˆæœ¬åº“è·¯å¾„çš„é—®é¢˜ã€‚åœ¨æ­å»ºè¿‡ç¨‹ä¸­ï¼Œæœ‰å‡ ä¸ªè·¯å¾„éœ€è¦æ³¨æ„ï¼š&lt;/p>
&lt;ol>
&lt;li>SVNå·¥ä½œåŒºæ‰€åœ¨è·¯å¾„ï¼Œå°±æ˜¯æœ¬æ–‡ä¸­&lt;code>mkdir ~/svn&lt;/code>çš„è·¯å¾„ï¼Œå…·ä½“æ¥è¯´æ˜¯&lt;code>/home/your-host-name/svn/&lt;/code>ï¼Œè¿™ä¸ªè·¯å¾„å’Œ&lt;code>svnserve -d -r ~/svn/&lt;/code>çš„è·¯å¾„ä¿æŒä¸€è‡´ã€‚&lt;/li>
&lt;li>SVNç‰ˆæœ¬åº“é…ç½®è·¯å¾„ï¼Œå³&lt;code>authz&lt;/code>é‡Œé¢çš„è·¯å¾„ï¼Œ&lt;code>[repo1:/]&lt;/code>è¿™ä¸€é¡¹ï¼Œè¿™ä¸ªåå­—è¦å’Œå¯¹åº”ç‰ˆæœ¬åº“åå­—ä¸€è‡´ã€‚&lt;code>/&lt;/code>è¡¨ç¤ºrepo1è¿™ä¸ªç‰ˆæœ¬åº“ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ã€‚&lt;/li>
&lt;li>å®¢æˆ·ç«¯checkoutè·¯å¾„ï¼Œåœ¨å®¢æˆ·ç«¯checkoutçš„æ—¶å€™ï¼Œ&lt;code>svn://server-ip&lt;/code>å¯¹åº”äºæœåŠ¡å™¨ä¸Š&lt;code>svnserve -d -r ~/svn/&lt;/code>çš„è·¯å¾„ï¼Œå› æ­¤åœ¨checkoutçš„æ—¶å€™ï¼Œéœ€è¦å†è·Ÿä¸Šç‰ˆæœ¬åº“çš„åå­—ï¼Œå³åŠ ä¸Šçš„&lt;code>repo1&lt;/code>ã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®&lt;/h2>
&lt;p>[1] &lt;a href="https://baike.baidu.com/item/subversion/7818587?fr=aladdin">https://baike.baidu.com/item/subversion/7818587?fr=aladdin&lt;/a>&lt;/p>
&lt;p>[2] &lt;a href="http://www.linuxidc.com/Linux/2016-04/130346.htm">http://www.linuxidc.com/Linux/2016-04/130346.htm&lt;/a>&lt;/p></description></item><item><title>linux-nttcp</title><link>https://surprisedcat.github.io/projectnotes/linux-nttcp/</link><pubDate>Wed, 02 Nov 2016 00:00:00 +0000</pubDate><guid>https://surprisedcat.github.io/projectnotes/linux-nttcp/</guid><description>
&lt;h2 id="ç¿»è¯‘-æ–°tcpæµ‹è¯•å·¥å…·nttcp---omit-in-toc---">ç¿»è¯‘ï¼š æ–°TCPæµ‹è¯•å·¥å…·â€”â€”nttcp&lt;!-- omit in toc -->&lt;/h2>
&lt;p>åŸé“¾æ¥:&lt;a href="http://linux.die.net/man/1/nttc">http://linux.die.net/man/1/nttc&lt;/a> ä½œè€…ï¼šElmar Bartel&lt;/p>
&lt;h2 id="åç§°">åç§°&lt;/h2>
&lt;p>ã€€ã€€nttcp æ–°çš„tcpæµ‹è¯•å·¥å…·ï¼Œé€‚ç”¨äºLinuxç³»ç»Ÿã€‚&lt;/p>
&lt;h2 id="è¯­æ³•æ ¼å¼">è¯­æ³•æ ¼å¼&lt;/h2>
&lt;p>ã€€ã€€&lt;strong>nttcp&lt;/strong> [ &lt;strong>local options&lt;/strong> ] &lt;strong>partner-host [ partner-host ] ...&lt;/strong> [ &lt;strong>remote options&lt;/strong> ]&lt;/p>
&lt;h2 id="æè¿°">æè¿°&lt;/h2>
&lt;p>ã€€ã€€&lt;strong>nttcp&lt;/strong>ç”¨æ¥æµ‹é‡TCPï¼ŒUDPå’Œå¤šæ’­UDPè¿æ¥çš„ä¼ è¾“é€Ÿç‡ã€‚ä½¿ç”¨ã€€&lt;strong>nttcp&lt;/strong>æ—¶ï¼Œéœ€è¦ä¸¤å°ç”µè„‘ï¼Œä¸€å°æœ¬åœ°ä¸»æœºï¼Œä¸€å°æœåŠ¡å™¨ã€‚åœ¨æœåŠ¡å™¨ç«¯ï¼Œåªéœ€è¦ç®€å•çš„è¿è¡Œ&lt;code>nttcp -i&lt;/code>ã€‚åœ¨æœ¬åœ°ä¸»æœºä¸Šï¼Œå°†partner-hostè®¾ç½®ä¸ºæœåŠ¡èµ·çš„IPåœ°å€ã€‚ä¸¤å°ç”µè„‘ä¼šè‡ªåŠ¨å»ºç«‹è¿æ¥è¿›è¡Œä¼ è¾“ã€‚&lt;strong>åœ¨é»˜è®¤æƒ…å†µä¸‹&lt;/strong>ï¼Œå®¢æˆ·ç«¯ä¼šå‘æœåŠ¡å™¨å‘é€2048ä¸ªbufferï¼Œæ¯ä¸ªæ•°æ®åŒ…å¤§å°ä¸º4KBï¼ˆæ€»å…±8Må­—èŠ‚ï¼‰ã€‚å‘é€ç«¯å’Œæ¥æ”¶ç«¯çš„æ€§èƒ½æƒ…å†µéƒ½ä¼šåé¦ˆåˆ°æœ¬åœ°ä¸»æœºï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œè°ƒæ•´å‡ ä¹æ¯ä¸€ä¸ªå‚æ•°ï¼Œç”šè‡³å¦‚ä½•æ˜¾ç¤ºç»“æœã€‚&lt;/p>
&lt;h2 id="å‚æ•°é€‰é¡¹">å‚æ•°é€‰é¡¹&lt;/h2>
&lt;p>&lt;strong>-r&lt;/strong>:&lt;/p>
&lt;blockquote>
&lt;p>å®šä¹‰ä¼ è¾“æ¥æ”¶æ–¹å‘ï¼Œæœ¬åœ°ä¸»æœºä¸ºæ¥æ”¶ç«¯ï¼Œæ•°æ®ç”±æœåŠ¡å™¨ç«¯å‘å¾€æœ¬åœ°ä¸»æœºã€‚&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>-t&lt;/strong>:&lt;/p>
&lt;blockquote>
&lt;p>å®šä¹‰ä¼ è¾“å‘é€æ–¹å‘ï¼Œæœ¬åœ°ä¸»æœºä¸ºå‘é€ç«¯ï¼Œæ•°æ®ç”±æœ¬åœ°ä¸»æœºå‘å¾€æœåŠ¡å™¨ç«¯ï¼Œ&lt;strong>è¿™æ˜¯é»˜è®¤çš„é€‰é¡¹&lt;/strong>ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>-T&lt;/strong>:&lt;/p>
&lt;blockquote>
&lt;p>æ‰“å°æ ‡é¢˜çº¿ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>-u&lt;/strong>:&lt;/p>
&lt;blockquote>
&lt;p>ä½¿ç”¨UDPåè®®ä»£æ›¿TCPåè®®ï¼ˆé»˜è®¤ä¸ºTCPåè®®ï¼‰ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>-g&lt;/strong>:&lt;/p>
&lt;blockquote>
&lt;p>åœ¨ä¸¤ä¸ªæ•°æ®åŒ…ä¹‹é—´çš„é—´éš”æ¯«ç§’æ•°ã€‚è¿™ç§å»¶æ—¶æ˜¯é€šè¿‡**&lt;a href="http://linux.die.net/man/2/select">select&lt;/a>&lt;strong>å’Œ&lt;/strong>&lt;a href="http://linux.die.net/man/2/gettimeofday">gettimeofday&lt;/a>&lt;strong>ä¸¤ä¸ªç³»ç»Ÿå‡½æ•°å®ç°çš„ã€‚ä»–ä»¬çš„å€¼å…·æœ‰è¯¯å¯¼æ€§ï¼Œå¤§å¤šæ•°ä¸»æœºæ— æ³•å®ç°ç»å¯¹ç²¾å‡†çš„å»¶æ—¶é‡ã€‚ä»£ç å®ç°ä¸­ï¼Œå°†å°½é‡çš„ä¿è¯å‡†ç¡®çš„æ—¶å»¶ã€‚å¯¹äºTCPè¿æ¥æ¥è¯´ï¼Œè¿™ä¸ªæ—¶å»¶åªæ˜¯åœ¨è°ƒç”¨ç³»ç»Ÿå‡½æ•°&lt;/strong>&lt;a href="http://linux.die.net/man/2/write">write&lt;/a>**ä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå¹¶ä¸æ˜¯ç‰©ç†è®¾å¤‡çœŸæ­£è¾“å‡ºä¹‹é—´çš„æ—¶å»¶ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>-v&lt;/strong>:&lt;/p>
&lt;blockquote>
&lt;p>ç»™å‡ºæ›´å¤šæ›´è¯¦ç»†çš„è¾“å‡ºå†…å®¹ï¼Œä»…ç”¨äºè°ƒè¯•ç›®çš„ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>-D&lt;/strong>:&lt;/p>
&lt;blockquote>
&lt;p>åœ¨å‘é€ç«¯è®¾ç½®ä¸ºTCP_NODELAYé€‰é¡¹ï¼Œå‘é€ç«¯å°†ä¸ç¼“å­˜ä»»ä½•wirteè¯·æ±‚ã€‚ï¼ˆå­˜ç–‘ï¼‰&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>-f&lt;/strong> format string&lt;/p>
&lt;blockquote>
&lt;p>æ ¼å¼åŒ–è¾“å‡ºçš„å†…å®¹ï¼Œå…·ä½“è§OUTPUTã€‚&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>-n&lt;/strong> number of buffer&lt;/p>
&lt;blockquote>
&lt;p>æ¯æ¬¡å‘é€çš„bufferæ•°é‡ï¼Œé»˜è®¤ä¸º2048ä¸ªã€‚&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>-l&lt;/strong> length of a buffer&lt;/p>
&lt;blockquote>
&lt;p>æ¯ä¸€ä¸ªbufferçš„å¤§å°ï¼ˆè¯´çš„å°±æ˜¯æ¯ä¸€ä¸ªæ•°æ®åŒ…å¤§å°ï¼‰ï¼Œé»˜è®¤ä¸º4096KBã€‚&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>-x&lt;/strong> fixed length of data&lt;/p>
&lt;blockquote>
&lt;p>å‘é€æ•°æ®åŒ…çš„æ€»é•¿åº¦ï¼Œå¦‚æœæ¥ä¸‹æ¥å®šä¹‰äº†-næˆ–è€…-l ï¼Œå°†ä¼šè‡ªåŠ¨è®¡ç®—å‰©ä¸‹æ¥çš„é‚£ä¸ªå€¼ï¼Œä½†æ˜¯è¦ä¿è¯buffers*length = fixed data lengthã€‚&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>-w&lt;/strong>:&lt;/p>
&lt;blockquote>
&lt;p>å®šä¹‰æ¥æ”¶æ–¹ä¸å‘é€æ”¾çš„buffer sizeï¼Œè¿™ä¸ªé€šå¸¸æ˜¯ç”±ç³»ç»Ÿå†³å®šçš„ï¼Œé€šå¸¸ä¸º16KBã€‚&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>-c&lt;/strong>:&lt;/p>
&lt;blockquote>
&lt;p>å¦‚æœè¿™ä¸€é¡¹è¢«å¯ç”¨ï¼Œæ¥æ”¶ç«¯å°†ä¼šæ¯”è¾ƒæ¥æ”¶ç«¯çš„å­—èŠ‚ä¸å‘é€ç«¯çš„å­—èŠ‚ã€‚è‡³å¤šå‰100ä¸ªä¸åŒå°†ä¼šè¢«æŠ¥å‘Šå‡ºæ¥ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>-s&lt;/strong>:&lt;/p>
&lt;blockquote>
&lt;p>å¦‚æœä½¿ç”¨UDPä¼ è¾“ï¼Œå°†ä¼šå¼ºåˆ¶å¯åŠ¨ä¸€ä¸ªstream pattern.&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>-S&lt;/strong> seed string&lt;/p>
&lt;blockquote>
&lt;p>äº§ç”Ÿä¸€ä¸ªå­—ç¬¦ä¸²æ¥ä¼ è¾“ï¼Œä½¿ç”¨-Så°†ä¼šè‡ªåŠ¨å¯åŠ¨-cã€‚&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>-p&lt;/strong> port number&lt;/p>
&lt;blockquote>
&lt;p>è®¾ç½®å¯¹æ–¹æœºå™¨çš„ç«¯å£ï¼Œé»˜è®¤ä¸º5037ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>-i&lt;/strong>:&lt;/p>
&lt;blockquote>
&lt;p>ä½œä¸ºæ¥æ”¶ç«¯ç›‘å¬è¿æ¥è¯·æ±‚ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>-R&lt;/strong> &lt;em>number of getpid() calls&lt;/em>*:&lt;/p>
&lt;blockquote>
&lt;p>è¿™ä¸ªé€‰é¡¹å°†ä¸ä¼šä¼ è¾“ä»»ä½•çš„æ•°æ®ï¼Œè®¡ç®—æ¯ç§’è°ƒç”¨getpid()çš„æ¬¡æ•°ï¼Œé€šå¸¸ä½œä¸ºè¡¡é‡è®¡ç®—é€Ÿåº¦å’Œè°ƒç”¨ç«¯å£é€Ÿåº¦çš„æµ‹é‡æ–¹æ³•ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>-m&lt;/strong>:&lt;/p>
&lt;blockquote>
&lt;p>ä½¿ç”¨å¤šæ’­IP,å°†ä¼šå¼ºåˆ¶ä½¿ç”¨-tå’Œ-uå‚æ•°ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="è¾“å‡º">è¾“å‡º&lt;/h2>
&lt;p>ã€€ã€€è¾“å‡ºç»“æœç”±ä¸¤è¡Œå­—æ¯ç»„æˆï¼ˆå¦‚æœä½¿ç”¨å¤šæ’­å°†ä¼šç”±å¤šè¡Œç»“æœï¼‰ã€‚ç¬¬ä¸€è¡Œç»“æœæ˜¯æœ¬åœ°ä¸»æœºçš„æµ‹é‡ç»“æœï¼Œç¬¬äºŒè¡Œç»“æœæ˜¯å¯¹ç«¯ä¸»æœºçš„æµ‹é‡ç»“æœã€‚ç¬¬ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå­—æ¯ä¸ºâ€œ&lt;strong>l&lt;/strong>â€(local)ï¼Œè€Œç¬¬äºŒè¡Œçš„ç¬¬ä¸€ä¸ªå­—æ¯ä¸ºâ€œ&lt;strong>r&lt;/strong>â€(remote);å¦‚æœä½¿ç”¨äº†â€œ&lt;strong>-T&lt;/strong>â€å‚æ•°ï¼Œå°±ä¼šå¤šä¸€è¡Œæ ‡é¢˜è¡Œã€‚é»˜è®¤çš„è¾“å‡ºæ ¼å¼å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">Sides&lt;/th>
&lt;th style="text-align:center">Bytes&lt;/th>
&lt;th style="text-align:center">Real s&lt;/th>
&lt;th style="text-align:center">CPU s&lt;/th>
&lt;th style="text-align:center">Real-MBit/s&lt;/th>
&lt;th style="text-align:center">CPU-MBit/s&lt;/th>
&lt;th style="text-align:center">Calls&lt;/th>
&lt;th style="text-align:center">Real-C/s&lt;/th>
&lt;th style="text-align:center">CPU-C/s&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">l&lt;/td>
&lt;td style="text-align:center">8388608&lt;/td>
&lt;td style="text-align:center">7.51&lt;/td>
&lt;td style="text-align:center">0.25&lt;/td>
&lt;td style="text-align:center">8.7307&lt;/td>
&lt;td style="text-align:center">259.8676&lt;/td>
&lt;td style="text-align:center">2048&lt;/td>
&lt;td style="text-align:center">272.83&lt;/td>
&lt;td style="text-align:center">8120.86&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">r&lt;/td>
&lt;td style="text-align:center">8388608&lt;/td>
&lt;td style="text-align:center">7.55&lt;/td>
&lt;td style="text-align:center">0.95&lt;/td>
&lt;td style="text-align:center">8.6804&lt;/td>
&lt;td style="text-align:center">68.9853&lt;/td>
&lt;td style="text-align:center">3831&lt;/td>
&lt;td style="text-align:center">507.42&lt;/td>
&lt;td style="text-align:center">4032.63&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>æ ‡æœ‰CPUè®¡æ—¶ï¼ˆCPU sï¼‰å’Œé¢‘ç‡(CPU-C/s)çš„å€¼è¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿå’Œç”¨æˆ·çš„æ€»æ—¶é—´ã€‚Realæ—¶é—´å’Œé¢‘ç‡å€¼è¡¨ç¤ºä»ä¼ è¾“å¼€å§‹åˆ°ç»“æŸçš„æ€»æ—¶é—´ã€‚è¿˜æœ‰å¯èƒ½ç”±å¦ä¸€ç§æ ¼å¼è¾“å‡ºï¼Œè¯¦è§åŸæ–‡æ¡£ã€‚&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>n&lt;/strong> prints the buffer count. Integer value.
&lt;strong>c&lt;/strong> prints the number of calls. Integer value.
&lt;strong>rt&lt;/strong> prints the real time in s. Float value.
&lt;strong>rbr&lt;/strong> prints the real bit rate in MBit/s. Float value.
&lt;strong>rcr&lt;/strong> prints the real call rate in calls/s. Float value.
&lt;strong>ct&lt;/strong> prints the cpu time in s. Float value.
&lt;strong>cbr&lt;/strong> prints the cpu bit rate in MBit/s. Float value.
&lt;strong>ccr&lt;/strong> prints the cpu call rate in calls/s. Float value.
The default format is produced with the following format string:
&amp;quot;%9b%8.2rt%8.2ct%12.4rbr%12.4cbr%8c%10.2rcr%10.2ccr&amp;quot;&lt;/p>
&lt;/blockquote>
&lt;h2 id="ä½œè€…">ä½œè€…&lt;/h2>
&lt;p>Elmar Bartel
Fakultaet fuer Informatik,
Technische Universitaet Muenchen.&lt;/p></description></item></channel></rss>